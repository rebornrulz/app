/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var te=["require","exports","vs/base/common/lifecycle","vs/base/common/types","vs/base/common/event","vs/nls!vs/code/node/cliProcessMain","vs/platform/log/common/log","vs/nls","vs/base/common/async","vs/base/common/errors","vs/platform/instantiation/common/instantiation","vs/base/common/uri","vs/platform/files/common/files","vs/base/common/platform","vs/base/common/buffer","vs/base/common/network","vs/base/common/path","vs/base/common/resources","vs/platform/environment/common/environment","vs/base/common/arrays","vs/base/common/cancellation","vs/platform/extensionManagement/common/extensionManagement","vs/platform/uriIdentity/common/uriIdentity","vs/platform/userDataProfile/common/userDataProfile","vs/base/node/pfs","vs/platform/configuration/common/configuration","vs/platform/telemetry/common/telemetry","vs/platform/extensionManagement/common/extensionManagementUtil","vs/base/common/uuid","vs/base/common/strings","vs/base/common/objects","vs/base/common/map","vs/platform/product/common/productService","os","vs/base/common/errorMessage","vs/base/common/process","vs/platform/registry/common/platform","vs/platform/extensions/common/extensions","vs/platform/policy/common/policy","vs/platform/telemetry/common/telemetryUtils","vs/platform/extensionManagement/common/extensionsProfileScannerService","vs/base/common/hash","vs/base/common/semver/semver","vs/platform/configuration/common/configurationRegistry","vs/platform/request/common/request","vs/base/common/stream","vs/base/common/marshalling","vs/base/common/ternarySearchTree","vs/platform/extensions/common/extensionValidator","vs/platform/instantiation/common/descriptors","vs/platform/extensionManagement/common/extensionsScannerService","vs/base/node/zip","vs/base/common/decorators","vs/base/common/json","vs/base/common/severity","vs/base/common/processes","vs/base/node/processes","vs/base/parts/ipc/common/ipc","child_process","vs/platform/download/common/download","vs/platform/extensionManagement/node/extensionSignatureVerificationService","vs/platform/files/common/io","vs/platform/files/common/watcher","vs/platform/instantiation/common/serviceCollection","vs/platform/languagePacks/common/languagePacks","vs/base/common/iterator","vs/platform/configuration/common/configurationModels","vs/platform/remote/common/remoteHosts","vs/platform/state/node/stateService","vs/platform/telemetry/common/commonProperties","vs/base/common/amd","vs/base/common/assert","vs/base/common/numbers","vs/base/common/skipList","vs/base/node/macAddress","vs/nls!vs/base/common/date","vs/base/common/date","vs/nls!vs/base/common/errorMessage","vs/nls!vs/base/common/jsonErrorMessages","vs/base/common/jsonErrorMessages","vs/base/common/console","vs/amdX","vs/base/node/id","vs/base/node/powershell","vs/base/node/shell","vs/base/parts/ipc/node/ipc.cp","vs/base/parts/storage/common/storage","vs/nls!vs/base/node/zip","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls!vs/platform/contextkey/common/scanner","vs/nls!vs/platform/extensionManagement/common/abstractExtensionManagementService","vs/nls!vs/platform/extensionManagement/common/extensionManagement","vs/nls!vs/platform/extensionManagement/common/extensionManagementCLI","vs/nls!vs/platform/extensionManagement/common/extensionNls","vs/nls!vs/platform/extensionManagement/common/extensionsScannerService","vs/nls!vs/platform/extensionManagement/node/extensionManagementService","vs/nls!vs/platform/extensionManagement/node/extensionManagementUtil","vs/nls!vs/platform/extensions/common/extensionValidator","vs/nls!vs/platform/files/common/fileService","vs/nls!vs/platform/files/common/io","vs/nls!vs/platform/files/node/diskFileSystemProvider","vs/nls!vs/platform/languagePacks/common/languagePacks","vs/nls!vs/platform/request/common/request","vs/nls!vs/platform/shell/node/shellEnv","vs/nls!vs/platform/telemetry/common/telemetryService","vs/nls!vs/platform/userDataProfile/common/userDataProfile","vs/nls!vs/platform/workspace/common/workspace","vs/platform/contextkey/common/scanner","vs/platform/environment/common/environmentService","vs/platform/environment/node/userDataPath","vs/platform/environment/node/environmentService","vs/platform/extensionManagement/common/extensionNls","vs/platform/externalServices/common/serviceMachineId","vs/platform/instantiation/common/extensions","vs/platform/instantiation/common/graph","vs/platform/contextkey/common/contextkey","vs/platform/files/node/watcher/nodejs/nodejsWatcher","vs/platform/files/node/watcher/nodejs/nodejsClient","vs/platform/files/node/watcher/watcherClient","vs/platform/instantiation/common/instantiationService","vs/platform/files/common/diskFileSystemProvider","vs/platform/files/common/fileService","vs/base/common/performance","vs/platform/files/node/diskFileSystemProvider","fs","vs/platform/log/common/logService","vs/platform/log/node/spdlogLog","vs/platform/log/node/loggerService","vs/platform/policy/common/filePolicyService","vs/platform/policy/node/nativePolicyService","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/platform/configuration/common/configurations","vs/platform/configuration/common/configurationService","vs/platform/extensionManagement/node/extensionsManifestCache","vs/platform/download/common/downloadService","vs/platform/request/node/proxy","url","vs/platform/shell/node/shellEnv","vs/platform/state/node/state","vs/platform/extensionManagement/common/extensionManagementCLI","vs/platform/extensionManagement/node/extensionsWatcher","vs/platform/externalServices/common/marketplace","vs/platform/languagePacks/node/languagePacks","vs/platform/telemetry/common/1dsAppender","vs/platform/telemetry/common/telemetryService","vs/platform/product/common/product","vs/platform/telemetry/node/1dsAppender","vs/platform/telemetry/node/telemetry","vs/platform/telemetry/node/telemetryUtils","vs/platform/uriIdentity/common/uriIdentityService","vs/platform/userData/common/fileUserDataProvider","vs/platform/workspace/common/workspace","vs/platform/extensionManagement/common/abstractExtensionManagementService","vs/platform/extensionManagement/node/extensionLifecycle","vs/platform/extensionManagement/node/extensionsProfileScannerService","vs/platform/extensionManagement/node/extensionsScannerService","vs/platform/storage/common/storage","vs/platform/extensionManagement/common/extensionGalleryService","vs/platform/userDataProfile/node/userDataProfile","vs/platform/extensionManagement/node/extensionDownloader","vs/platform/extensionManagement/node/extensionManagementUtil","vs/platform/extensionManagement/node/extensionManagementService","vs/platform/request/node/requestService","vs/base/common/lazy","path","vs/base/common/glob","vs/platform/files/node/watcher/nodejs/nodejsWatcherLib","vs/base/common/linkedList","graceful-fs","vs/base/common/extpath","@vscode/policy-watcher","vs/platform/environment/node/argvHelper","crypto","https","vs/base/common/stopwatch","yauzl","yazl","zlib","vs/code/node/cliProcessMain"],ne=function(J){for(var e=[],L=0,N=J.length;L<N;L++)e[L]=te[J[L]];return e};define(te[70],ne([0,1]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$U=e.$T=void 0,e.$T=!1;class L{static get(){const D=new Map,A=new Map,j=new Map,v=new Map;function u(f,S){f.has(S.detail)||f.set(S.detail,-S.timestamp)}function c(f,S){const y=f.get(S.detail);y&&(y>=0||f.set(S.detail,y+S.timestamp))}let k=[];typeof J=="function"&&typeof J.getStats=="function"&&(k=J.getStats().slice(0).sort((f,S)=>f.timestamp-S.timestamp));for(const f of k)switch(f.type){case 10:u(D,f);break;case 11:case 12:c(D,f);break;case 21:u(A,f);break;case 22:c(A,f);break;case 33:u(j,f);break;case 34:c(j,f);break;case 31:u(v,f);break;case 32:c(v,f);break}let I=0;j.forEach(f=>I+=f);function g(f){const S=[];return f.forEach((y,$)=>S.push([$,y])),S}return{amdLoad:g(D),amdInvoke:g(A),nodeRequire:g(j),nodeEval:g(v),nodeRequireTotal:I}}static toMarkdownTable(D,A){let j="";const v=[];return D.forEach((u,c)=>{v[c]=u.length}),A.forEach(u=>{u.forEach((c,k)=>{typeof c>"u"&&(c=u[k]="-");const I=c.toString().length;v[k]=Math.max(I,v[k])})}),D.forEach((u,c)=>{j+=`| ${u+" ".repeat(v[c]-u.toString().length)} `}),j+=`|
`,D.forEach((u,c)=>{j+=`| ${"-".repeat(v[c])} `}),j+=`|
`,A.forEach(u=>{u.forEach((c,k)=>{typeof c<"u"&&(j+=`| ${c+" ".repeat(v[k]-c.toString().length)} `)}),j+=`|
`}),j}}e.$U=L}),define(te[52],ne([0,1]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$kh=e.$jh=e.$ih=void 0;function L(j){return(v,u,c)=>{let k=null,I=null;if(typeof c.value=="function"?(k="value",I=c.value):typeof c.get=="function"&&(k="get",I=c.get),!I)throw new Error("not supported");c[k]=j(I,u)}}function N(j,v,u){let c=null,k=null;if(typeof u.value=="function"?(c="value",k=u.value,k.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof u.get=="function"&&(c="get",k=u.get),!k)throw new Error("not supported");const I=`$memoize$${v}`;u[c]=function(...g){return this.hasOwnProperty(I)||Object.defineProperty(this,I,{configurable:!1,enumerable:!1,writable:!1,value:k.apply(this,g)}),this[I]}}e.$ih=N;function D(j,v,u){return L((c,k)=>{const I=`$debounce$${k}`,g=`$debounce$result$${k}`;return function(...f){this[g]||(this[g]=u?u():void 0),clearTimeout(this[I]),v&&(this[g]=v(this[g],...f),f=[this[g]]),this[I]=setTimeout(()=>{c.apply(this,f),this[g]=u?u():void 0},j)}})}e.$jh=D;function A(j,v,u){return L((c,k)=>{const I=`$throttle$timer$${k}`,g=`$throttle$result$${k}`,f=`$throttle$lastRun$${k}`,S=`$throttle$pending$${k}`;return function(...y){if(this[g]||(this[g]=u?u():void 0),(this[f]===null||this[f]===void 0)&&(this[f]=-Number.MAX_VALUE),v&&(this[g]=v(this[g],...y)),this[S])return;const $=this[f]+j;$<=Date.now()?(this[f]=Date.now(),c.apply(this,[this[g]]),this[g]=u?u():void 0):(this[S]=!0,this[I]=setTimeout(()=>{this[S]=!1,this[f]=Date.now(),c.apply(this,[this[g]]),this[g]=u?u():void 0},$-Date.now()))}})}e.$kh=A}),define(te[71],ne([0,1,9]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$7c=e.$6c=e.$5c=e.$4c=e.ok=void 0;function N(u,c){if(!u)throw new Error(c?`Assertion failed (${c})`:"Assertion Failed")}e.ok=N;function D(u,c="Unreachable"){throw new Error(c)}e.$4c=D;function A(u){if(!u)throw new L.$cb("Assertion Failed")}e.$5c=A;function j(u){if(!u()){debugger;u(),(0,L.$1)(new L.$cb("Assertion Failed"))}}e.$6c=j;function v(u,c){let k=0;for(;k<u.length-1;){const I=u[k],g=u[k+1];if(!c(I,g))return!1;k++}return!0}e.$7c=v}),define(te[53],ne([0,1]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$7m=e.$6m=e.$5m=e.$4m=e.$3m=e.$2m=e.$1m=e.$Zm=e.$Ym=e.$Xm=e.$Wm=e.$Vm=e.ParseOptions=e.ParseErrorCode=e.SyntaxKind=e.ScanError=void 0;var L;(function(s){s[s.None=0]="None",s[s.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",s[s.UnexpectedEndOfString=2]="UnexpectedEndOfString",s[s.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",s[s.InvalidUnicode=4]="InvalidUnicode",s[s.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",s[s.InvalidCharacter=6]="InvalidCharacter"})(L||(e.ScanError=L={}));var N;(function(s){s[s.OpenBraceToken=1]="OpenBraceToken",s[s.CloseBraceToken=2]="CloseBraceToken",s[s.OpenBracketToken=3]="OpenBracketToken",s[s.CloseBracketToken=4]="CloseBracketToken",s[s.CommaToken=5]="CommaToken",s[s.ColonToken=6]="ColonToken",s[s.NullKeyword=7]="NullKeyword",s[s.TrueKeyword=8]="TrueKeyword",s[s.FalseKeyword=9]="FalseKeyword",s[s.StringLiteral=10]="StringLiteral",s[s.NumericLiteral=11]="NumericLiteral",s[s.LineCommentTrivia=12]="LineCommentTrivia",s[s.BlockCommentTrivia=13]="BlockCommentTrivia",s[s.LineBreakTrivia=14]="LineBreakTrivia",s[s.Trivia=15]="Trivia",s[s.Unknown=16]="Unknown",s[s.EOF=17]="EOF"})(N||(e.SyntaxKind=N={}));var D;(function(s){s[s.InvalidSymbol=1]="InvalidSymbol",s[s.InvalidNumberFormat=2]="InvalidNumberFormat",s[s.PropertyNameExpected=3]="PropertyNameExpected",s[s.ValueExpected=4]="ValueExpected",s[s.ColonExpected=5]="ColonExpected",s[s.CommaExpected=6]="CommaExpected",s[s.CloseBraceExpected=7]="CloseBraceExpected",s[s.CloseBracketExpected=8]="CloseBracketExpected",s[s.EndOfFileExpected=9]="EndOfFileExpected",s[s.InvalidCommentToken=10]="InvalidCommentToken",s[s.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",s[s.UnexpectedEndOfString=12]="UnexpectedEndOfString",s[s.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",s[s.InvalidUnicode=14]="InvalidUnicode",s[s.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",s[s.InvalidCharacter=16]="InvalidCharacter"})(D||(e.ParseErrorCode=D={}));var A;(function(s){s.DEFAULT={allowTrailingComma:!0}})(A||(e.ParseOptions=A={}));function j(s,r=!1){let t=0;const i=s.length;let n="",o=0,l=16,P=0;function E(se){let ue=0,ce=0;for(;ue<se;){const re=s.charCodeAt(t);if(re>=48&&re<=57)ce=ce*16+re-48;else if(re>=65&&re<=70)ce=ce*16+re-65+10;else if(re>=97&&re<=102)ce=ce*16+re-97+10;else break;t++,ue++}return ue<se&&(ce=-1),ce}function p(se){t=se,n="",o=0,l=16,P=0}function O(){const se=t;if(s.charCodeAt(t)===48)t++;else for(t++;t<s.length&&c(s.charCodeAt(t));)t++;if(t<s.length&&s.charCodeAt(t)===46)if(t++,t<s.length&&c(s.charCodeAt(t)))for(t++;t<s.length&&c(s.charCodeAt(t));)t++;else return P=3,s.substring(se,t);let ue=t;if(t<s.length&&(s.charCodeAt(t)===69||s.charCodeAt(t)===101))if(t++,(t<s.length&&s.charCodeAt(t)===43||s.charCodeAt(t)===45)&&t++,t<s.length&&c(s.charCodeAt(t))){for(t++;t<s.length&&c(s.charCodeAt(t));)t++;ue=t}else P=3;return s.substring(se,ue)}function B(){let se="",ue=t;for(;;){if(t>=i){se+=s.substring(ue,t),P=2;break}const ce=s.charCodeAt(t);if(ce===34){se+=s.substring(ue,t),t++;break}if(ce===92){if(se+=s.substring(ue,t),t++,t>=i){P=2;break}switch(s.charCodeAt(t++)){case 34:se+='"';break;case 92:se+="\\";break;case 47:se+="/";break;case 98:se+="\b";break;case 102:se+="\f";break;case 110:se+=`
`;break;case 114:se+="\r";break;case 116:se+="	";break;case 117:{const q=E(4);q>=0?se+=String.fromCharCode(q):P=4;break}default:P=5}ue=t;continue}if(ce>=0&&ce<=31)if(u(ce)){se+=s.substring(ue,t),P=2;break}else P=6;t++}return se}function _(){if(n="",P=0,o=t,t>=i)return o=i,l=17;let se=s.charCodeAt(t);if(v(se)){do t++,n+=String.fromCharCode(se),se=s.charCodeAt(t);while(v(se));return l=15}if(u(se))return t++,n+=String.fromCharCode(se),se===13&&s.charCodeAt(t)===10&&(t++,n+=`
`),l=14;switch(se){case 123:return t++,l=1;case 125:return t++,l=2;case 91:return t++,l=3;case 93:return t++,l=4;case 58:return t++,l=6;case 44:return t++,l=5;case 34:return t++,n=B(),l=10;case 47:{const ue=t-1;if(s.charCodeAt(t+1)===47){for(t+=2;t<i&&!u(s.charCodeAt(t));)t++;return n=s.substring(ue,t),l=12}if(s.charCodeAt(t+1)===42){t+=2;const ce=i-1;let re=!1;for(;t<ce;){if(s.charCodeAt(t)===42&&s.charCodeAt(t+1)===47){t+=2,re=!0;break}t++}return re||(t++,P=1),n=s.substring(ue,t),l=13}return n+=String.fromCharCode(se),t++,l=16}case 45:if(n+=String.fromCharCode(se),t++,t===i||!c(s.charCodeAt(t)))return l=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return n+=O(),l=11;default:for(;t<i&&ee(se);)t++,se=s.charCodeAt(t);if(o!==t){switch(n=s.substring(o,t),n){case"true":return l=8;case"false":return l=9;case"null":return l=7}return l=16}return n+=String.fromCharCode(se),t++,l=16}}function ee(se){if(v(se)||u(se))return!1;switch(se){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function oe(){let se;do se=_();while(se>=12&&se<=15);return se}return{setPosition:p,getPosition:()=>t,scan:r?oe:_,getToken:()=>l,getTokenValue:()=>n,getTokenOffset:()=>o,getTokenLength:()=>t-o,getTokenError:()=>P}}e.$Vm=j;function v(s){return s===32||s===9||s===11||s===12||s===160||s===5760||s>=8192&&s<=8203||s===8239||s===8287||s===12288||s===65279}function u(s){return s===10||s===13||s===8232||s===8233}function c(s){return s>=48&&s<=57}var k;(function(s){s[s.nullCharacter=0]="nullCharacter",s[s.maxAsciiCharacter=127]="maxAsciiCharacter",s[s.lineFeed=10]="lineFeed",s[s.carriageReturn=13]="carriageReturn",s[s.lineSeparator=8232]="lineSeparator",s[s.paragraphSeparator=8233]="paragraphSeparator",s[s.nextLine=133]="nextLine",s[s.space=32]="space",s[s.nonBreakingSpace=160]="nonBreakingSpace",s[s.enQuad=8192]="enQuad",s[s.emQuad=8193]="emQuad",s[s.enSpace=8194]="enSpace",s[s.emSpace=8195]="emSpace",s[s.threePerEmSpace=8196]="threePerEmSpace",s[s.fourPerEmSpace=8197]="fourPerEmSpace",s[s.sixPerEmSpace=8198]="sixPerEmSpace",s[s.figureSpace=8199]="figureSpace",s[s.punctuationSpace=8200]="punctuationSpace",s[s.thinSpace=8201]="thinSpace",s[s.hairSpace=8202]="hairSpace",s[s.zeroWidthSpace=8203]="zeroWidthSpace",s[s.narrowNoBreakSpace=8239]="narrowNoBreakSpace",s[s.ideographicSpace=12288]="ideographicSpace",s[s.mathematicalSpace=8287]="mathematicalSpace",s[s.ogham=5760]="ogham",s[s._=95]="_",s[s.$=36]="$",s[s._0=48]="_0",s[s._1=49]="_1",s[s._2=50]="_2",s[s._3=51]="_3",s[s._4=52]="_4",s[s._5=53]="_5",s[s._6=54]="_6",s[s._7=55]="_7",s[s._8=56]="_8",s[s._9=57]="_9",s[s.a=97]="a",s[s.b=98]="b",s[s.c=99]="c",s[s.d=100]="d",s[s.e=101]="e",s[s.f=102]="f",s[s.g=103]="g",s[s.h=104]="h",s[s.i=105]="i",s[s.j=106]="j",s[s.k=107]="k",s[s.l=108]="l",s[s.m=109]="m",s[s.n=110]="n",s[s.o=111]="o",s[s.p=112]="p",s[s.q=113]="q",s[s.r=114]="r",s[s.s=115]="s",s[s.t=116]="t",s[s.u=117]="u",s[s.v=118]="v",s[s.w=119]="w",s[s.x=120]="x",s[s.y=121]="y",s[s.z=122]="z",s[s.A=65]="A",s[s.B=66]="B",s[s.C=67]="C",s[s.D=68]="D",s[s.E=69]="E",s[s.F=70]="F",s[s.G=71]="G",s[s.H=72]="H",s[s.I=73]="I",s[s.J=74]="J",s[s.K=75]="K",s[s.L=76]="L",s[s.M=77]="M",s[s.N=78]="N",s[s.O=79]="O",s[s.P=80]="P",s[s.Q=81]="Q",s[s.R=82]="R",s[s.S=83]="S",s[s.T=84]="T",s[s.U=85]="U",s[s.V=86]="V",s[s.W=87]="W",s[s.X=88]="X",s[s.Y=89]="Y",s[s.Z=90]="Z",s[s.ampersand=38]="ampersand",s[s.asterisk=42]="asterisk",s[s.at=64]="at",s[s.backslash=92]="backslash",s[s.bar=124]="bar",s[s.caret=94]="caret",s[s.closeBrace=125]="closeBrace",s[s.closeBracket=93]="closeBracket",s[s.closeParen=41]="closeParen",s[s.colon=58]="colon",s[s.comma=44]="comma",s[s.dot=46]="dot",s[s.doubleQuote=34]="doubleQuote",s[s.equals=61]="equals",s[s.exclamation=33]="exclamation",s[s.greaterThan=62]="greaterThan",s[s.lessThan=60]="lessThan",s[s.minus=45]="minus",s[s.openBrace=123]="openBrace",s[s.openBracket=91]="openBracket",s[s.openParen=40]="openParen",s[s.percent=37]="percent",s[s.plus=43]="plus",s[s.question=63]="question",s[s.semicolon=59]="semicolon",s[s.singleQuote=39]="singleQuote",s[s.slash=47]="slash",s[s.tilde=126]="tilde",s[s.backspace=8]="backspace",s[s.formFeed=12]="formFeed",s[s.byteOrderMark=65279]="byteOrderMark",s[s.tab=9]="tab",s[s.verticalTab=11]="verticalTab"})(k||(k={}));function I(s,r){const t=[],i=new Object;let n;const o={value:{},offset:0,length:0,type:"object",parent:void 0};let l=!1;function P(E,p,O,B){o.value=E,o.offset=p,o.length=O,o.type=B,o.colonOffset=void 0,n=o}try{R(s,{onObjectBegin:(E,p)=>{if(r<=E)throw i;n=void 0,l=r>E,t.push("")},onObjectProperty:(E,p,O)=>{if(r<p||(P(E,p,O,"property"),t[t.length-1]=E,r<=p+O))throw i},onObjectEnd:(E,p)=>{if(r<=E)throw i;n=void 0,t.pop()},onArrayBegin:(E,p)=>{if(r<=E)throw i;n=void 0,t.push(0)},onArrayEnd:(E,p)=>{if(r<=E)throw i;n=void 0,t.pop()},onLiteralValue:(E,p,O)=>{if(r<p||(P(E,p,O,w(E)),r<=p+O))throw i},onSeparator:(E,p,O)=>{if(r<=p)throw i;if(E===":"&&n&&n.type==="property")n.colonOffset=p,l=!1,n=void 0;else if(E===","){const B=t[t.length-1];typeof B=="number"?t[t.length-1]=B+1:(l=!0,t[t.length-1]=""),n=void 0}}})}catch(E){if(E!==i)throw E}return{path:t,previousNode:n,isAtPropertyKey:l,matches:E=>{let p=0;for(let O=0;p<E.length&&O<t.length;O++)if(E[p]===t[O]||E[p]==="*")p++;else if(E[p]!=="**")return!1;return p===E.length}}}e.$Wm=I;function g(s,r=[],t=A.DEFAULT){let i=null,n=[];const o=[];function l(E){Array.isArray(n)?n.push(E):i!==null&&(n[i]=E)}return R(s,{onObjectBegin:()=>{const E={};l(E),o.push(n),n=E,i=null},onObjectProperty:E=>{i=E},onObjectEnd:()=>{n=o.pop()},onArrayBegin:()=>{const E=[];l(E),o.push(n),n=E,i=null},onArrayEnd:()=>{n=o.pop()},onLiteralValue:l,onError:(E,p,O)=>{r.push({error:E,offset:p,length:O})}},t),n[0]}e.$Xm=g;function f(s,r=[],t=A.DEFAULT){let i={type:"array",offset:-1,length:-1,children:[],parent:void 0};function n(E){i.type==="property"&&(i.length=E-i.offset,i=i.parent)}function o(E){return i.children.push(E),E}R(s,{onObjectBegin:E=>{i=o({type:"object",offset:E,length:-1,parent:i,children:[]})},onObjectProperty:(E,p,O)=>{i=o({type:"property",offset:p,length:-1,parent:i,children:[]}),i.children.push({type:"string",value:E,offset:p,length:O,parent:i})},onObjectEnd:(E,p)=>{i.length=E+p-i.offset,i=i.parent,n(E+p)},onArrayBegin:(E,p)=>{i=o({type:"array",offset:E,length:-1,parent:i,children:[]})},onArrayEnd:(E,p)=>{i.length=E+p-i.offset,i=i.parent,n(E+p)},onLiteralValue:(E,p,O)=>{o({type:w(E),offset:p,length:O,parent:i,value:E}),n(p+O)},onSeparator:(E,p,O)=>{i.type==="property"&&(E===":"?i.colonOffset=p:E===","&&n(p))},onError:(E,p,O)=>{r.push({error:E,offset:p,length:O})}},t);const P=i.children[0];return P&&delete P.parent,P}e.$Ym=f;function S(s,r){if(!s)return;let t=s;for(const i of r)if(typeof i=="string"){if(t.type!=="object"||!Array.isArray(t.children))return;let n=!1;for(const o of t.children)if(Array.isArray(o.children)&&o.children[0].value===i){t=o.children[1],n=!0;break}if(!n)return}else{const n=i;if(t.type!=="array"||n<0||!Array.isArray(t.children)||n>=t.children.length)return;t=t.children[n]}return t}e.$Zm=S;function y(s){if(!s.parent||!s.parent.children)return[];const r=y(s.parent);if(s.parent.type==="property"){const t=s.parent.children[0].value;r.push(t)}else if(s.parent.type==="array"){const t=s.parent.children.indexOf(s);t!==-1&&r.push(t)}return r}e.$1m=y;function $(s){switch(s.type){case"array":return s.children.map($);case"object":{const r=Object.create(null);for(const t of s.children){const i=t.children[1];i&&(r[t.children[0].value]=$(i))}return r}case"null":case"string":case"number":case"boolean":return s.value;default:return}}e.$2m=$;function h(s,r,t=!1){return r>=s.offset&&r<s.offset+s.length||t&&r===s.offset+s.length}e.$3m=h;function b(s,r,t=!1){if(h(s,r,t)){const i=s.children;if(Array.isArray(i))for(let n=0;n<i.length&&i[n].offset<=r;n++){const o=b(i[n],r,t);if(o)return o}return s}}e.$4m=b;function R(s,r,t=A.DEFAULT){const i=j(s,!1);function n(Y){return Y?()=>Y(i.getTokenOffset(),i.getTokenLength()):()=>!0}function o(Y){return Y?Z=>Y(Z,i.getTokenOffset(),i.getTokenLength()):()=>!0}const l=n(r.onObjectBegin),P=o(r.onObjectProperty),E=n(r.onObjectEnd),p=n(r.onArrayBegin),O=n(r.onArrayEnd),B=o(r.onLiteralValue),_=o(r.onSeparator),ee=n(r.onComment),oe=o(r.onError),se=t&&t.disallowComments,ue=t&&t.allowTrailingComma;function ce(){for(;;){const Y=i.scan();switch(i.getTokenError()){case 4:re(14);break;case 5:re(15);break;case 3:re(13);break;case 1:se||re(11);break;case 2:re(12);break;case 6:re(16);break}switch(Y){case 12:case 13:se?re(10):ee();break;case 16:re(1);break;case 15:case 14:break;default:return Y}}}function re(Y,Z=[],M=[]){if(oe(Y),Z.length+M.length>0){let F=i.getToken();for(;F!==17;){if(Z.indexOf(F)!==-1){ce();break}else if(M.indexOf(F)!==-1)break;F=ce()}}}function q(Y){const Z=i.getTokenValue();return Y?B(Z):P(Z),ce(),!0}function X(){switch(i.getToken()){case 11:{let Y=0;try{Y=JSON.parse(i.getTokenValue()),typeof Y!="number"&&(re(2),Y=0)}catch{re(2)}B(Y);break}case 7:B(null);break;case 8:B(!0);break;case 9:B(!1);break;default:return!1}return ce(),!0}function T(){return i.getToken()!==10?(re(3,[],[2,5]),!1):(q(!1),i.getToken()===6?(_(":"),ce(),G()||re(4,[],[2,5])):re(5,[],[2,5]),!0)}function C(){l(),ce();let Y=!1;for(;i.getToken()!==2&&i.getToken()!==17;){if(i.getToken()===5){if(Y||re(4,[],[]),_(","),ce(),i.getToken()===2&&ue)break}else Y&&re(6,[],[]);T()||re(4,[],[2,5]),Y=!0}return E(),i.getToken()!==2?re(7,[2],[]):ce(),!0}function H(){p(),ce();let Y=!1;for(;i.getToken()!==4&&i.getToken()!==17;){if(i.getToken()===5){if(Y||re(4,[],[]),_(","),ce(),i.getToken()===4&&ue)break}else Y&&re(6,[],[]);G()||re(4,[],[4,5]),Y=!0}return O(),i.getToken()!==4?re(8,[4],[]):ce(),!0}function G(){switch(i.getToken()){case 3:return H();case 1:return C();case 10:return q(!0);default:return X()}}return ce(),i.getToken()===17?t.allowEmptyContent?!0:(re(4,[],[]),!1):G()?(i.getToken()!==17&&re(9,[],[]),!0):(re(4,[],[]),!1)}e.$5m=R;function d(s,r){const t=j(s),i=[];let n,o=0,l;do switch(l=t.getPosition(),n=t.scan(),n){case 12:case 13:case 17:o!==l&&i.push(s.substring(o,l)),r!==void 0&&i.push(t.getTokenValue().replace(/[^\r\n]/g,r)),o=t.getPosition();break}while(n!==17);return i.join("")}e.$6m=d;function w(s){switch(typeof s){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(s){if(Array.isArray(s))return"array"}else return"null";return"object"}default:return"null"}}e.$7m=w}),define(te[72],ne([0,1]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Tl=e.$Sl=e.$Rl=e.rot=e.$Pl=void 0;function L(v,u,c){return Math.min(Math.max(v,u),c)}e.$Pl=L;function N(v,u){return(u+v%u)%u}e.rot=N;class D{constructor(){this.a=0}getNext(){return this.a++}}e.$Rl=D;class A{constructor(){this.a=1,this.b=0}update(u){return this.b=this.b+(u-this.b)/this.a,this.a+=1,this.b}get value(){return this.b}}e.$Sl=A;class j{constructor(u){this.a=0,this.b=0,this.c=[],this.d=0,this.e=0,this.c=new Array(u),this.c.fill(0,0,u)}update(u){const c=this.c[this.d];return this.c[this.d]=u,this.d=(this.d+1)%this.c.length,this.e-=c,this.e+=u,this.a<this.c.length&&(this.a+=1),this.b=this.e/this.a,this.b}get value(){return this.b}}e.$Tl=j}),function(){function J(D){const A=[];typeof D=="number"&&A.push("code/timeOrigin",D);function j(u){A.push(u,Date.now())}function v(){const u=[];for(let c=0;c<A.length;c+=2)u.push({name:A[c],startTime:A[c+1]});return u}return{mark:j,getMarks:v}}function e(){if(typeof performance=="object"&&typeof performance.mark=="function"&&!performance.nodeTiming)return typeof performance.timeOrigin!="number"&&!performance.timing?J():{mark(D){performance.mark(D)},getMarks(){let D=performance.timeOrigin;typeof D!="number"&&(D=performance.timing.navigationStart||performance.timing.redirectStart||performance.timing.fetchStart);const A=[{name:"code/timeOrigin",startTime:Math.round(D)}];for(const j of performance.getEntriesByType("mark"))A.push({name:j.name,startTime:Math.round(D+j.startTime)});return A}};if(typeof process=="object"){const D=performance?.timeOrigin??Math.round((require.__$__nodeRequire||require)("perf_hooks").performance.timeOrigin);return J(D)}else return console.trace("perf-util loaded in UNKNOWN environment"),J()}function L(D){return D.MonacoPerformanceMarks||(D.MonacoPerformanceMarks=e()),D.MonacoPerformanceMarks}var N;typeof global=="object"?N=global:typeof self=="object"?N=self:N={},typeof define=="function"?define("vs/base/common/performance",[],function(){return L(N)}):typeof module=="object"&&typeof module.exports=="object"?module.exports=L(N):(console.trace("perf-util defined in UNKNOWN context (neither requirejs or commonjs)"),N.perf=L(N))}(),function(J,e){if(typeof exports=="object"&&typeof module=="object")module.exports=e();else if(typeof define=="function"&&define.amd)define("vs/base/common/semver/semver",[],e);else{var L=e();for(var N in L)(typeof exports=="object"?exports:J)[N]=L[N]}}(typeof self<"u"?self:this,function(){return function(J){var e={};function L(N){if(e[N])return e[N].exports;var D=e[N]={i:N,l:!1,exports:{}};return J[N].call(D.exports,D,D.exports,L),D.l=!0,D.exports}return L.m=J,L.c=e,L.d=function(N,D,A){L.o(N,D)||Object.defineProperty(N,D,{enumerable:!0,get:A})},L.r=function(N){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})},L.t=function(N,D){if(1&D&&(N=L(N)),8&D||4&D&&typeof N=="object"&&N&&N.__esModule)return N;var A=Object.create(null);if(L.r(A),Object.defineProperty(A,"default",{enumerable:!0,value:N}),2&D&&typeof N!="string")for(var j in N)L.d(A,j,function(v){return N[v]}.bind(null,j));return A},L.n=function(N){var D=N&&N.__esModule?function(){return N.default}:function(){return N};return L.d(D,"a",D),D},L.o=function(N,D){return Object.prototype.hasOwnProperty.call(N,D)},L.p="",L(L.s=0)}([function(J,e,L){(function(N){var D;e=J.exports=M,D=typeof N=="object"&&N.env&&N.env.NODE_DEBUG&&/\bsemver\b/i.test(N.env.NODE_DEBUG)?function(){var V=Array.prototype.slice.call(arguments,0);V.unshift("SEMVER"),console.log.apply(console,V)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var A=256,j=Number.MAX_SAFE_INTEGER||9007199254740991,v=e.re=[],u=e.src=[],c=0,k=c++;u[k]="0|[1-9]\\d*";var I=c++;u[I]="[0-9]+";var g=c++;u[g]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var f=c++;u[f]="("+u[k]+")\\.("+u[k]+")\\.("+u[k]+")";var S=c++;u[S]="("+u[I]+")\\.("+u[I]+")\\.("+u[I]+")";var y=c++;u[y]="(?:"+u[k]+"|"+u[g]+")";var $=c++;u[$]="(?:"+u[I]+"|"+u[g]+")";var h=c++;u[h]="(?:-("+u[y]+"(?:\\."+u[y]+")*))";var b=c++;u[b]="(?:-?("+u[$]+"(?:\\."+u[$]+")*))";var R=c++;u[R]="[0-9A-Za-z-]+";var d=c++;u[d]="(?:\\+("+u[R]+"(?:\\."+u[R]+")*))";var w=c++,s="v?"+u[f]+u[h]+"?"+u[d]+"?";u[w]="^"+s+"$";var r="[v=\\s]*"+u[S]+u[b]+"?"+u[d]+"?",t=c++;u[t]="^"+r+"$";var i=c++;u[i]="((?:<|>)?=?)";var n=c++;u[n]=u[I]+"|x|X|\\*";var o=c++;u[o]=u[k]+"|x|X|\\*";var l=c++;u[l]="[v=\\s]*("+u[o]+")(?:\\.("+u[o]+")(?:\\.("+u[o]+")(?:"+u[h]+")?"+u[d]+"?)?)?";var P=c++;u[P]="[v=\\s]*("+u[n]+")(?:\\.("+u[n]+")(?:\\.("+u[n]+")(?:"+u[b]+")?"+u[d]+"?)?)?";var E=c++;u[E]="^"+u[i]+"\\s*"+u[l]+"$";var p=c++;u[p]="^"+u[i]+"\\s*"+u[P]+"$";var O=c++;u[O]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var B=c++;u[B]="(?:~>?)";var _=c++;u[_]="(\\s*)"+u[B]+"\\s+",v[_]=new RegExp(u[_],"g");var ee=c++;u[ee]="^"+u[B]+u[l]+"$";var oe=c++;u[oe]="^"+u[B]+u[P]+"$";var se=c++;u[se]="(?:\\^)";var ue=c++;u[ue]="(\\s*)"+u[se]+"\\s+",v[ue]=new RegExp(u[ue],"g");var ce=c++;u[ce]="^"+u[se]+u[l]+"$";var re=c++;u[re]="^"+u[se]+u[P]+"$";var q=c++;u[q]="^"+u[i]+"\\s*("+r+")$|^$";var X=c++;u[X]="^"+u[i]+"\\s*("+s+")$|^$";var T=c++;u[T]="(\\s*)"+u[i]+"\\s*("+r+"|"+u[l]+")",v[T]=new RegExp(u[T],"g");var C=c++;u[C]="^\\s*("+u[l]+")\\s+-\\s+("+u[l]+")\\s*$";var H=c++;u[H]="^\\s*("+u[P]+")\\s+-\\s+("+u[P]+")\\s*$";var G=c++;u[G]="(<|>)?=?\\s*\\*";for(var Y=0;Y<35;Y++)D(Y,u[Y]),v[Y]||(v[Y]=new RegExp(u[Y]));function Z(V,K){if(V instanceof M)return V;if(typeof V!="string"||V.length>A||!(K?v[t]:v[w]).test(V))return null;try{return new M(V,K)}catch{return null}}function M(V,K){if(V instanceof M){if(V.loose===K)return V;V=V.version}else if(typeof V!="string")throw new TypeError("Invalid Version: "+V);if(V.length>A)throw new TypeError("version is longer than "+A+" characters");if(!(this instanceof M))return new M(V,K);D("SemVer",V,K),this.loose=K;var x=V.trim().match(K?v[t]:v[w]);if(!x)throw new TypeError("Invalid Version: "+V);if(this.raw=V,this.major=+x[1],this.minor=+x[2],this.patch=+x[3],this.major>j||this.major<0)throw new TypeError("Invalid major version");if(this.minor>j||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>j||this.patch<0)throw new TypeError("Invalid patch version");x[4]?this.prerelease=x[4].split(".").map(function($e){if(/^[0-9]+$/.test($e)){var ye=+$e;if(ye>=0&&ye<j)return ye}return $e}):this.prerelease=[],this.build=x[5]?x[5].split("."):[],this.format()}e.parse=Z,e.valid=function(V,K){var x=Z(V,K);return x?x.version:null},e.clean=function(V,K){var x=Z(V.trim().replace(/^[=v]+/,""),K);return x?x.version:null},e.SemVer=M,M.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},M.prototype.toString=function(){return this.version},M.prototype.compare=function(V){return D("SemVer.compare",this.version,this.loose,V),V instanceof M||(V=new M(V,this.loose)),this.compareMain(V)||this.comparePre(V)},M.prototype.compareMain=function(V){return V instanceof M||(V=new M(V,this.loose)),a(this.major,V.major)||a(this.minor,V.minor)||a(this.patch,V.patch)},M.prototype.comparePre=function(V){if(V instanceof M||(V=new M(V,this.loose)),this.prerelease.length&&!V.prerelease.length)return-1;if(!this.prerelease.length&&V.prerelease.length)return 1;if(!this.prerelease.length&&!V.prerelease.length)return 0;var K=0;do{var x=this.prerelease[K],$e=V.prerelease[K];if(D("prerelease compare",K,x,$e),x===void 0&&$e===void 0)return 0;if($e===void 0)return 1;if(x===void 0)return-1;if(x!==$e)return a(x,$e)}while(++K)},M.prototype.inc=function(V,K){switch(V){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",K);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",K);break;case"prepatch":this.prerelease.length=0,this.inc("patch",K),this.inc("pre",K);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",K),this.inc("pre",K);break;case"major":this.minor===0&&this.patch===0&&this.prerelease.length!==0||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":this.patch===0&&this.prerelease.length!==0||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var x=this.prerelease.length;--x>=0;)typeof this.prerelease[x]=="number"&&(this.prerelease[x]++,x=-2);x===-1&&this.prerelease.push(0)}K&&(this.prerelease[0]===K?isNaN(this.prerelease[1])&&(this.prerelease=[K,0]):this.prerelease=[K,0]);break;default:throw new Error("invalid increment argument: "+V)}return this.format(),this.raw=this.version,this},e.inc=function(V,K,x,$e){typeof x=="string"&&($e=x,x=void 0);try{return new M(V,x).inc(K,$e).version}catch{return null}},e.diff=function(V,K){if(Q(V,K))return null;var x=Z(V),$e=Z(K);if(x.prerelease.length||$e.prerelease.length){for(var ye in x)if((ye==="major"||ye==="minor"||ye==="patch")&&x[ye]!==$e[ye])return"pre"+ye;return"prerelease"}for(var ye in x)if((ye==="major"||ye==="minor"||ye==="patch")&&x[ye]!==$e[ye])return ye},e.compareIdentifiers=a;var F=/^[0-9]+$/;function a(V,K){var x=F.test(V),$e=F.test(K);return x&&$e&&(V=+V,K=+K),x&&!$e?-1:$e&&!x?1:V<K?-1:V>K?1:0}function m(V,K,x){return new M(V,x).compare(new M(K,x))}function z(V,K,x){return m(V,K,x)>0}function U(V,K,x){return m(V,K,x)<0}function Q(V,K,x){return m(V,K,x)===0}function W(V,K,x){return m(V,K,x)!==0}function le(V,K,x){return m(V,K,x)>=0}function ae(V,K,x){return m(V,K,x)<=0}function me(V,K,x,$e){var ye;switch(K){case"===":typeof V=="object"&&(V=V.version),typeof x=="object"&&(x=x.version),ye=V===x;break;case"!==":typeof V=="object"&&(V=V.version),typeof x=="object"&&(x=x.version),ye=V!==x;break;case"":case"=":case"==":ye=Q(V,x,$e);break;case"!=":ye=W(V,x,$e);break;case">":ye=z(V,x,$e);break;case">=":ye=le(V,x,$e);break;case"<":ye=U(V,x,$e);break;case"<=":ye=ae(V,x,$e);break;default:throw new TypeError("Invalid operator: "+K)}return ye}function de(V,K){if(V instanceof de){if(V.loose===K)return V;V=V.value}if(!(this instanceof de))return new de(V,K);D("comparator",V,K),this.loose=K,this.parse(V),this.semver===ge?this.value="":this.value=this.operator+this.semver.version,D("comp",this)}e.rcompareIdentifiers=function(V,K){return a(K,V)},e.major=function(V,K){return new M(V,K).major},e.minor=function(V,K){return new M(V,K).minor},e.patch=function(V,K){return new M(V,K).patch},e.compare=m,e.compareLoose=function(V,K){return m(V,K,!0)},e.rcompare=function(V,K,x){return m(K,V,x)},e.sort=function(V,K){return V.sort(function(x,$e){return e.compare(x,$e,K)})},e.rsort=function(V,K){return V.sort(function(x,$e){return e.rcompare(x,$e,K)})},e.gt=z,e.lt=U,e.eq=Q,e.neq=W,e.gte=le,e.lte=ae,e.cmp=me,e.Comparator=de;var ge={};function fe(V,K){if(V instanceof fe)return V.loose===K?V:new fe(V.raw,K);if(V instanceof de)return new fe(V.value,K);if(!(this instanceof fe))return new fe(V,K);if(this.loose=K,this.raw=V,this.set=V.split(/\s*\|\|\s*/).map(function(x){return this.parseRange(x.trim())},this).filter(function(x){return x.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+V);this.format()}function he(V){return!V||V.toLowerCase()==="x"||V==="*"}function we(V,K,x,$e,ye,Re,Se,Le,Ie,je,Ce,Oe,Ne){return((K=he(x)?"":he($e)?">="+x+".0.0":he(ye)?">="+x+"."+$e+".0":">="+K)+" "+(Le=he(Ie)?"":he(je)?"<"+(+Ie+1)+".0.0":he(Ce)?"<"+Ie+"."+(+je+1)+".0":Oe?"<="+Ie+"."+je+"."+Ce+"-"+Oe:"<="+Le)).trim()}function be(V,K){for(var x=0;x<V.length;x++)if(!V[x].test(K))return!1;if(K.prerelease.length){for(x=0;x<V.length;x++)if(D(V[x].semver),V[x].semver!==ge&&V[x].semver.prerelease.length>0){var $e=V[x].semver;if($e.major===K.major&&$e.minor===K.minor&&$e.patch===K.patch)return!0}return!1}return!0}function ke(V,K,x){try{K=new fe(K,x)}catch{return!1}return K.test(V)}function Me(V,K,x,$e){var ye,Re,Se,Le,Ie;switch(V=new M(V,$e),K=new fe(K,$e),x){case">":ye=z,Re=ae,Se=U,Le=">",Ie=">=";break;case"<":ye=U,Re=le,Se=z,Le="<",Ie="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ke(V,K,$e))return!1;for(var je=0;je<K.set.length;++je){var Ce=K.set[je],Oe=null,Ne=null;if(Ce.forEach(function(ze){ze.semver===ge&&(ze=new de(">=0.0.0")),Oe=Oe||ze,Ne=Ne||ze,ye(ze.semver,Oe.semver,$e)?Oe=ze:Se(ze.semver,Ne.semver,$e)&&(Ne=ze)}),Oe.operator===Le||Oe.operator===Ie||(!Ne.operator||Ne.operator===Le)&&Re(V,Ne.semver)||Ne.operator===Ie&&Se(V,Ne.semver))return!1}return!0}de.prototype.parse=function(V){var K=this.loose?v[q]:v[X],x=V.match(K);if(!x)throw new TypeError("Invalid comparator: "+V);this.operator=x[1],this.operator==="="&&(this.operator=""),x[2]?this.semver=new M(x[2],this.loose):this.semver=ge},de.prototype.toString=function(){return this.value},de.prototype.test=function(V){return D("Comparator.test",V,this.loose),this.semver===ge||(typeof V=="string"&&(V=new M(V,this.loose)),me(V,this.operator,this.semver,this.loose))},de.prototype.intersects=function(V,K){if(!(V instanceof de))throw new TypeError("a Comparator is required");var x;if(this.operator==="")return x=new fe(V.value,K),ke(this.value,x,K);if(V.operator==="")return x=new fe(this.value,K),ke(V.semver,x,K);var $e=!(this.operator!==">="&&this.operator!==">"||V.operator!==">="&&V.operator!==">"),ye=!(this.operator!=="<="&&this.operator!=="<"||V.operator!=="<="&&V.operator!=="<"),Re=this.semver.version===V.semver.version,Se=!(this.operator!==">="&&this.operator!=="<="||V.operator!==">="&&V.operator!=="<="),Le=me(this.semver,"<",V.semver,K)&&(this.operator===">="||this.operator===">")&&(V.operator==="<="||V.operator==="<"),Ie=me(this.semver,">",V.semver,K)&&(this.operator==="<="||this.operator==="<")&&(V.operator===">="||V.operator===">");return $e||ye||Re&&Se||Le||Ie},e.Range=fe,fe.prototype.format=function(){return this.range=this.set.map(function(V){return V.join(" ").trim()}).join("||").trim(),this.range},fe.prototype.toString=function(){return this.range},fe.prototype.parseRange=function(V){var K=this.loose;V=V.trim(),D("range",V,K);var x=K?v[H]:v[C];V=V.replace(x,we),D("hyphen replace",V),V=V.replace(v[T],"$1$2$3"),D("comparator trim",V,v[T]),V=(V=(V=V.replace(v[_],"$1~")).replace(v[ue],"$1^")).split(/\s+/).join(" ");var $e=K?v[q]:v[X],ye=V.split(" ").map(function(Re){return function(Se,Le){return D("comp",Se),Se=function(Ie,je){return Ie.trim().split(/\s+/).map(function(Ce){return function(Oe,Ne){D("caret",Oe,Ne);var ze=Ne?v[re]:v[ce];return Oe.replace(ze,function(Ae,ve,Ee,Pe,De){var Fe;return D("caret",Oe,Ae,ve,Ee,Pe,De),he(ve)?Fe="":he(Ee)?Fe=">="+ve+".0.0 <"+(+ve+1)+".0.0":he(Pe)?Fe=ve==="0"?">="+ve+"."+Ee+".0 <"+ve+"."+(+Ee+1)+".0":">="+ve+"."+Ee+".0 <"+(+ve+1)+".0.0":De?(D("replaceCaret pr",De),De.charAt(0)!=="-"&&(De="-"+De),Fe=ve==="0"?Ee==="0"?">="+ve+"."+Ee+"."+Pe+De+" <"+ve+"."+Ee+"."+(+Pe+1):">="+ve+"."+Ee+"."+Pe+De+" <"+ve+"."+(+Ee+1)+".0":">="+ve+"."+Ee+"."+Pe+De+" <"+(+ve+1)+".0.0"):(D("no pr"),Fe=ve==="0"?Ee==="0"?">="+ve+"."+Ee+"."+Pe+" <"+ve+"."+Ee+"."+(+Pe+1):">="+ve+"."+Ee+"."+Pe+" <"+ve+"."+(+Ee+1)+".0":">="+ve+"."+Ee+"."+Pe+" <"+(+ve+1)+".0.0"),D("caret return",Fe),Fe})}(Ce,je)}).join(" ")}(Se,Le),D("caret",Se),Se=function(Ie,je){return Ie.trim().split(/\s+/).map(function(Ce){return function(Oe,Ne){var ze=Ne?v[oe]:v[ee];return Oe.replace(ze,function(Ae,ve,Ee,Pe,De){var Fe;return D("tilde",Oe,Ae,ve,Ee,Pe,De),he(ve)?Fe="":he(Ee)?Fe=">="+ve+".0.0 <"+(+ve+1)+".0.0":he(Pe)?Fe=">="+ve+"."+Ee+".0 <"+ve+"."+(+Ee+1)+".0":De?(D("replaceTilde pr",De),De.charAt(0)!=="-"&&(De="-"+De),Fe=">="+ve+"."+Ee+"."+Pe+De+" <"+ve+"."+(+Ee+1)+".0"):Fe=">="+ve+"."+Ee+"."+Pe+" <"+ve+"."+(+Ee+1)+".0",D("tilde return",Fe),Fe})}(Ce,je)}).join(" ")}(Se,Le),D("tildes",Se),Se=function(Ie,je){return D("replaceXRanges",Ie,je),Ie.split(/\s+/).map(function(Ce){return function(Oe,Ne){Oe=Oe.trim();var ze=Ne?v[p]:v[E];return Oe.replace(ze,function(Ae,ve,Ee,Pe,De,Fe){D("xRange",Oe,Ae,ve,Ee,Pe,De,Fe);var qe=he(Ee),Ue=qe||he(Pe),Te=Ue||he(De);return ve==="="&&Te&&(ve=""),qe?Ae=ve===">"||ve==="<"?"<0.0.0":"*":ve&&Te?(Ue&&(Pe=0),Te&&(De=0),ve===">"?(ve=">=",Ue?(Ee=+Ee+1,Pe=0,De=0):Te&&(Pe=+Pe+1,De=0)):ve==="<="&&(ve="<",Ue?Ee=+Ee+1:Pe=+Pe+1),Ae=ve+Ee+"."+Pe+"."+De):Ue?Ae=">="+Ee+".0.0 <"+(+Ee+1)+".0.0":Te&&(Ae=">="+Ee+"."+Pe+".0 <"+Ee+"."+(+Pe+1)+".0"),D("xRange return",Ae),Ae})}(Ce,je)}).join(" ")}(Se,Le),D("xrange",Se),Se=function(Ie,je){return D("replaceStars",Ie,je),Ie.trim().replace(v[G],"")}(Se,Le),D("stars",Se),Se}(Re,K)}).join(" ").split(/\s+/);return this.loose&&(ye=ye.filter(function(Re){return!!Re.match($e)})),ye=ye.map(function(Re){return new de(Re,K)})},fe.prototype.intersects=function(V,K){if(!(V instanceof fe))throw new TypeError("a Range is required");return this.set.some(function(x){return x.every(function($e){return V.set.some(function(ye){return ye.every(function(Re){return $e.intersects(Re,K)})})})})},e.toComparators=function(V,K){return new fe(V,K).set.map(function(x){return x.map(function($e){return $e.value}).join(" ").trim().split(" ")})},fe.prototype.test=function(V){if(!V)return!1;typeof V=="string"&&(V=new M(V,this.loose));for(var K=0;K<this.set.length;K++)if(be(this.set[K],V))return!0;return!1},e.satisfies=ke,e.maxSatisfying=function(V,K,x){var $e=null,ye=null;try{var Re=new fe(K,x)}catch{return null}return V.forEach(function(Se){Re.test(Se)&&($e&&ye.compare(Se)!==-1||(ye=new M($e=Se,x)))}),$e},e.minSatisfying=function(V,K,x){var $e=null,ye=null;try{var Re=new fe(K,x)}catch{return null}return V.forEach(function(Se){Re.test(Se)&&($e&&ye.compare(Se)!==1||(ye=new M($e=Se,x)))}),$e},e.validRange=function(V,K){try{return new fe(V,K).range||"*"}catch{return null}},e.ltr=function(V,K,x){return Me(V,K,"<",x)},e.gtr=function(V,K,x){return Me(V,K,">",x)},e.outside=Me,e.prerelease=function(V,K){var x=Z(V,K);return x&&x.prerelease.length?x.prerelease:null},e.intersects=function(V,K,x){return V=new fe(V,x),K=new fe(K,x),V.intersects(K)},e.coerce=function(V){if(V instanceof M)return V;if(typeof V!="string")return null;var K=V.match(v[O]);return K==null?null:Z((K[1]||"0")+"."+(K[2]||"0")+"."+(K[3]||"0"))}}).call(this,L(1))},function(J,e){var L,N,D=J.exports={};function A(){throw new Error("setTimeout has not been defined")}function j(){throw new Error("clearTimeout has not been defined")}function v($){if(L===setTimeout)return setTimeout($,0);if((L===A||!L)&&setTimeout)return L=setTimeout,setTimeout($,0);try{return L($,0)}catch{try{return L.call(null,$,0)}catch{return L.call(this,$,0)}}}(function(){try{L=typeof setTimeout=="function"?setTimeout:A}catch{L=A}try{N=typeof clearTimeout=="function"?clearTimeout:j}catch{N=j}})();var u,c=[],k=!1,I=-1;function g(){k&&u&&(k=!1,u.length?c=u.concat(c):I=-1,c.length&&f())}function f(){if(!k){var $=v(g);k=!0;for(var h=c.length;h;){for(u=c,c=[];++I<h;)u&&u[I].run();I=-1,h=c.length}u=null,k=!1,function(b){if(N===clearTimeout)return clearTimeout(b);if((N===j||!N)&&clearTimeout)return N=clearTimeout,clearTimeout(b);try{N(b)}catch{try{return N.call(null,b)}catch{return N.call(this,b)}}}($)}}function S($,h){this.fun=$,this.array=h}function y(){}D.nextTick=function($){var h=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)h[b-1]=arguments[b];c.push(new S($,h)),c.length!==1||k||v(f)},S.prototype.run=function(){this.fun.apply(null,this.array)},D.title="browser",D.browser=!0,D.env={},D.argv=[],D.version="",D.versions={},D.on=y,D.addListener=y,D.once=y,D.off=y,D.removeListener=y,D.removeAllListeners=y,D.emit=y,D.prependListener=y,D.prependOnceListener=y,D.listeners=function($){return[]},D.binding=function($){throw new Error("process.binding is not supported")},D.cwd=function(){return"/"},D.chdir=function($){throw new Error("process.chdir is not supported")},D.umask=function(){return 0}}])}),define(te[73],ne([0,1]),function(J,e){"use strict";var L;Object.defineProperty(e,"__esModule",{value:!0}),e.$Cr=void 0;class N{constructor(v,u,c){this.level=v,this.key=u,this.value=c,this.forward=[]}}const D=void 0;class A{constructor(v,u=2**16){this.comparator=v,this[L]="SkipList",this.d=0,this.f=0,this.c=Math.max(1,Math.log2(u)|0),this.e=new N(this.c,D,D)}get size(){return this.f}clear(){this.e=new N(this.c,D,D),this.f=0}has(v){return!!A.g(this,v,this.comparator)}get(v){return A.g(this,v,this.comparator)?.value}set(v,u){return A.h(this,v,u,this.comparator)&&(this.f+=1),this}delete(v){const u=A.k(this,v,this.comparator);return u&&(this.f-=1),u}forEach(v,u){let c=this.e.forward[0];for(;c;)v.call(u,c.value,c.key,this),c=c.forward[0]}[(L=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}*entries(){let v=this.e.forward[0];for(;v;)yield[v.key,v.value],v=v.forward[0]}*keys(){let v=this.e.forward[0];for(;v;)yield v.key,v=v.forward[0]}*values(){let v=this.e.forward[0];for(;v;)yield v.value,v=v.forward[0]}toString(){let v="[SkipList]:",u=this.e.forward[0];for(;u;)v+=`node(${u.key}, ${u.value}, lvl:${u.level})`,u=u.forward[0];return v}static g(v,u,c){let k=v.e;for(let I=v.d-1;I>=0;I--)for(;k.forward[I]&&c(k.forward[I].key,u)<0;)k=k.forward[I];if(k=k.forward[0],k&&c(k.key,u)===0)return k}static h(v,u,c,k){const I=[];let g=v.e;for(let f=v.d-1;f>=0;f--){for(;g.forward[f]&&k(g.forward[f].key,u)<0;)g=g.forward[f];I[f]=g}if(g=g.forward[0],g&&k(g.key,u)===0)return g.value=c,!1;{const f=A.j(v);if(f>v.d){for(let S=v.d;S<f;S++)I[S]=v.e;v.d=f}g=new N(f,u,c);for(let S=0;S<f;S++)g.forward[S]=I[S].forward[S],I[S].forward[S]=g;return!0}}static j(v,u=.5){let c=1;for(;Math.random()<u&&c<v.c;)c+=1;return c}static k(v,u,c){const k=[];let I=v.e;for(let g=v.d-1;g>=0;g--){for(;I.forward[g]&&c(I.forward[g].key,u)<0;)I=I.forward[g];k[g]=I}if(I=I.forward[0],!I||c(I.key,u)!==0)return!1;for(let g=0;g<v.d&&k[g].forward[g]===I;g++)k[g].forward[g]=I.forward[g];for(;v.d>0&&v.e.forward[v.d-1]===D;)v.d-=1;return!0}}e.$Cr=A}),define(te[45],ne([0,1,9,2]),function(J,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$be=e.$ae=e.$_d=e.$$d=e.$0d=e.$9d=e.$8d=e.$7d=e.$6d=e.$5d=e.$4d=e.$3d=e.$2d=e.$1d=e.$Zd=void 0;function D(d){const w=d;return w?typeof w.read=="function":!1}e.$Zd=D;function A(d){const w=d;return w?[w.on,w.pause,w.resume,w.destroy].every(s=>typeof s=="function"):!1}e.$1d=A;function j(d){const w=d;return w?A(w.stream)&&Array.isArray(w.buffer)&&typeof w.ended=="boolean":!1}e.$2d=j;function v(d,w){return new u(d,w)}e.$3d=v;class u{constructor(w,s){this.e=w,this.f=s,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(w){if(!this.a.destroyed){if(this.a.flowing)this.g(w);else if(this.b.data.push(w),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(s=>this.d.push(s))}}error(w){this.a.destroyed||(this.a.flowing?this.h(w):this.b.error.push(w))}end(w){this.a.destroyed||(typeof w<"u"&&this.write(w),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(w){this.c.data.slice(0).forEach(s=>s(w))}h(w){this.c.error.length===0?(0,L.$1)(w):this.c.error.slice(0).forEach(s=>s(w))}i(){this.c.end.slice(0).forEach(w=>w())}on(w,s){if(!this.a.destroyed)switch(w){case"data":this.c.data.push(s),this.resume();break;case"end":this.c.end.push(s),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(s),this.a.flowing&&this.k();break}}removeListener(w,s){if(this.a.destroyed)return;let r;switch(w){case"data":r=this.c.data;break;case"end":r=this.c.end;break;case"error":r=this.c.error;break}if(r){const t=r.indexOf(s);t>=0&&r.splice(t,1)}}j(){if(this.b.data.length>0){const w=this.e(this.b.data);this.g(w),this.b.data.length=0;const s=[...this.d];this.d.length=0,s.forEach(r=>r())}}k(){if(this.c.error.length>0){for(const w of this.b.error)this.h(w);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function c(d,w){const s=[];let r;for(;(r=d.read())!==null;)s.push(r);return w(s)}e.$4d=c;function k(d,w,s){const r=[];let t;for(;(t=d.read())!==null&&r.length<s;)r.push(t);return t===null&&r.length>0?w(r):{read:()=>{if(r.length>0)return r.shift();if(typeof t<"u"){const i=t;return t=void 0,i}return d.read()}}}e.$5d=k;function I(d,w){return new Promise((s,r)=>{const t=[];g(d,{onData:i=>{w&&t.push(i)},onError:i=>{w?r(i):s(void 0)},onEnd:()=>{s(w?w(t):void 0)}})})}e.$6d=I;function g(d,w,s){d.on("error",r=>{s?.isCancellationRequested||w.onError(r)}),d.on("end",()=>{s?.isCancellationRequested||w.onEnd()}),d.on("data",r=>{s?.isCancellationRequested||w.onData(r)})}e.$7d=g;function f(d,w){return new Promise((s,r)=>{const t=new N.$Rc,i=[],n=P=>{if(i.push(P),i.length>w)return t.dispose(),d.pause(),s({stream:d,buffer:i,ended:!1})},o=P=>(t.dispose(),r(P)),l=()=>(t.dispose(),s({stream:d,buffer:i,ended:!0}));t.add((0,N.$Qc)(()=>d.removeListener("error",o))),d.on("error",o),t.add((0,N.$Qc)(()=>d.removeListener("end",l))),d.on("end",l),t.add((0,N.$Qc)(()=>d.removeListener("data",n))),d.on("data",n)})}e.$8d=f;function S(d,w){const s=v(w);return s.end(d),s}e.$9d=S;function y(){const d=v(()=>{throw new Error("not supported")});return d.end(),d}e.$0d=y;function $(d){let w=!1;return{read:()=>w?null:(w=!0,d)}}e.$$d=$;function h(d,w,s){const r=v(s);return g(d,{onData:t=>r.write(w.data(t)),onError:t=>r.error(w.error?w.error(t):t),onEnd:()=>r.end()}),r}e.$_d=h;function b(d,w,s){let r=!1;return{read:()=>{const t=w.read();return r?t:(r=!0,t!==null?s([d,t]):d)}}}e.$ae=b;function R(d,w,s){let r=!1;const t=v(s);return g(w,{onData:i=>r?t.write(i):(r=!0,t.write(s([d,i]))),onError:i=>t.error(i),onEnd:()=>{r||(r=!0,t.write(d)),t.end()}}),t}e.$be=R}),define(te[14],ne([0,1,164,45]),function(J,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$we=e.$ve=e.$ue=e.$te=e.$se=e.$re=e.$qe=e.$pe=e.$oe=e.$ne=e.$me=e.$le=e.$ke=e.$je=e.$ie=e.$he=e.$ge=e.$fe=e.$ee=e.$de=e.$ce=void 0;const D=typeof Buffer<"u",A=new L.$V(()=>new Uint8Array(256));let j,v;class u{static alloc(O){return D?new u(Buffer.allocUnsafe(O)):new u(new Uint8Array(O))}static wrap(O){return D&&!Buffer.isBuffer(O)&&(O=Buffer.from(O.buffer,O.byteOffset,O.byteLength)),new u(O)}static fromString(O,B){return!(B?.dontUseNodeBuffer||!1)&&D?new u(Buffer.from(O)):(j||(j=new TextEncoder),new u(j.encode(O)))}static fromByteArray(O){const B=u.alloc(O.length);for(let _=0,ee=O.length;_<ee;_++)B.buffer[_]=O[_];return B}static concat(O,B){if(typeof B>"u"){B=0;for(let oe=0,se=O.length;oe<se;oe++)B+=O[oe].byteLength}const _=u.alloc(B);let ee=0;for(let oe=0,se=O.length;oe<se;oe++){const ue=O[oe];_.set(ue,ee),ee+=ue.byteLength}return _}constructor(O){this.buffer=O,this.byteLength=this.buffer.byteLength}clone(){const O=u.alloc(this.byteLength);return O.set(this),O}toString(){return D?this.buffer.toString():(v||(v=new TextDecoder),v.decode(this.buffer))}slice(O,B){return new u(this.buffer.subarray(O,B))}set(O,B){if(O instanceof u)this.buffer.set(O.buffer,B);else if(O instanceof Uint8Array)this.buffer.set(O,B);else if(O instanceof ArrayBuffer)this.buffer.set(new Uint8Array(O),B);else if(ArrayBuffer.isView(O))this.buffer.set(new Uint8Array(O.buffer,O.byteOffset,O.byteLength),B);else throw new Error("Unknown argument 'array'")}readUInt32BE(O){return g(this.buffer,O)}writeUInt32BE(O,B){f(this.buffer,O,B)}readUInt32LE(O){return S(this.buffer,O)}writeUInt32LE(O,B){y(this.buffer,O,B)}readUInt8(O){return $(this.buffer,O)}writeUInt8(O,B){h(this.buffer,O,B)}indexOf(O,B=0){return c(this.buffer,O instanceof u?O.buffer:O,B)}}e.$ce=u;function c(p,O,B=0){const _=O.byteLength,ee=p.byteLength;if(_===0)return 0;if(_===1)return p.indexOf(O[0]);if(_>ee-B)return-1;const oe=A.value;oe.fill(O.length);for(let re=0;re<O.length;re++)oe[O[re]]=O.length-re-1;let se=B+O.length-1,ue=se,ce=-1;for(;se<ee;)if(p[se]===O[ue]){if(ue===0){ce=se;break}se--,ue--}else se+=Math.max(O.length-ue,oe[p[se]]),ue=O.length-1;return ce}e.$de=c;function k(p,O){return p[O+0]<<0>>>0|p[O+1]<<8>>>0}e.$ee=k;function I(p,O,B){p[B+0]=O&255,O=O>>>8,p[B+1]=O&255}e.$fe=I;function g(p,O){return p[O]*2**24+p[O+1]*2**16+p[O+2]*2**8+p[O+3]}e.$ge=g;function f(p,O,B){p[B+3]=O,O=O>>>8,p[B+2]=O,O=O>>>8,p[B+1]=O,O=O>>>8,p[B]=O}e.$he=f;function S(p,O){return p[O+0]<<0>>>0|p[O+1]<<8>>>0|p[O+2]<<16>>>0|p[O+3]<<24>>>0}e.$ie=S;function y(p,O,B){p[B+0]=O&255,O=O>>>8,p[B+1]=O&255,O=O>>>8,p[B+2]=O&255,O=O>>>8,p[B+3]=O&255}e.$je=y;function $(p,O){return p[O]}e.$ke=$;function h(p,O,B){p[B]=O}e.$le=h;function b(p){return N.$4d(p,O=>u.concat(O))}e.$me=b;function R(p){return N.$$d(p)}e.$ne=R;function d(p){return N.$6d(p,O=>u.concat(O))}e.$oe=d;async function w(p){return p.ended?u.concat(p.buffer):u.concat([...p.buffer,await d(p.stream)])}e.$pe=w;function s(p){return N.$9d(p,O=>u.concat(O))}e.$qe=s;function r(p){return N.$_d(p,{data:O=>typeof O=="string"?u.fromString(O):u.wrap(O)},O=>u.concat(O))}e.$re=r;function t(p){return N.$3d(O=>u.concat(O),p)}e.$se=t;function i(p,O){return N.$ae(p,O,B=>u.concat(B))}e.$te=i;function n(p,O){return N.$be(p,O,B=>u.concat(B))}e.$ue=n;function o(p){let O=0,B=0,_=0;const ee=new Uint8Array(Math.floor(p.length/4*3)),oe=ue=>{switch(B){case 3:ee[_++]=O|ue,B=0;break;case 2:ee[_++]=O|ue>>>2,O=ue<<6,B=3;break;case 1:ee[_++]=O|ue>>>4,O=ue<<4,B=2;break;default:O=ue<<2,B=1}};for(let ue=0;ue<p.length;ue++){const ce=p.charCodeAt(ue);if(ce>=65&&ce<=90)oe(ce-65);else if(ce>=97&&ce<=122)oe(ce-97+26);else if(ce>=48&&ce<=57)oe(ce-48+52);else if(ce===43||ce===45)oe(62);else if(ce===47||ce===95)oe(63);else{if(ce===61)break;throw new SyntaxError(`Unexpected base64 character ${p[ue]}`)}}const se=_;for(;B>0;)oe(0);return u.wrap(ee).slice(0,se)}e.$ve=o;const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function E({buffer:p},O=!0,B=!1){const _=B?P:l;let ee="";const oe=p.byteLength%3;let se=0;for(;se<p.byteLength-oe;se+=3){const ue=p[se+0],ce=p[se+1],re=p[se+2];ee+=_[ue>>>2],ee+=_[(ue<<4|ce>>>4)&63],ee+=_[(ce<<2|re>>>6)&63],ee+=_[re&63]}if(oe===1){const ue=p[se+0];ee+=_[ue>>>2],ee+=_[ue<<4&63],O&&(ee+="==")}else if(oe===2){const ue=p[se+0],ce=p[se+1];ee+=_[ue>>>2],ee+=_[(ue<<4|ce>>>4)&63],ee+=_[ce<<2&63],O&&(ee+="=")}return ee}e.$we=E}),define(te[41],ne([0,1,29]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ki=e.$Ji=e.$Ii=e.$Hi=e.$Gi=e.$Fi=e.$Ei=void 0;function N(h){return D(h,0)}e.$Ei=N;function D(h,b){switch(typeof h){case"object":return h===null?A(349,b):Array.isArray(h)?u(h,b):c(h,b);case"string":return v(h,b);case"boolean":return j(h,b);case"number":return A(h,b);case"undefined":return A(937,b);default:return A(617,b)}}e.$Fi=D;function A(h,b){return(b<<5)-b+h|0}e.$Gi=A;function j(h,b){return A(h?433:863,b)}function v(h,b){b=A(149417,b);for(let R=0,d=h.length;R<d;R++)b=A(h.charCodeAt(R),b);return b}e.$Hi=v;function u(h,b){return b=A(104579,b),h.reduce((R,d)=>D(d,R),b)}function c(h,b){return b=A(181387,b),Object.keys(h).sort().reduce((R,d)=>(R=v(d,R),D(h[d],R)),b)}class k{constructor(){this.g=0}get value(){return this.g}hash(b){return this.g=D(b,this.g),this.g}}e.$Ii=k;var I;(function(h){h[h.BLOCK_SIZE=64]="BLOCK_SIZE",h[h.UNICODE_REPLACEMENT=65533]="UNICODE_REPLACEMENT"})(I||(I={}));function g(h,b,R=32){const d=R-b,w=~((1<<d)-1);return(h<<b|(w&h)>>>d)>>>0}function f(h,b=0,R=h.byteLength,d=0){for(let w=0;w<R;w++)h[b+w]=d}function S(h,b,R="0"){for(;h.length<b;)h=R+h;return h}function y(h,b=32){return h instanceof ArrayBuffer?Array.from(new Uint8Array(h)).map(R=>R.toString(16).padStart(2,"0")).join(""):S((h>>>0).toString(16),b/4)}e.$Ji=y;class ${static{this.g=new DataView(new ArrayBuffer(320))}constructor(){this.h=1732584193,this.l=4023233417,this.m=2562383102,this.n=271733878,this.o=3285377520,this.p=new Uint8Array(64+3),this.q=new DataView(this.p.buffer),this.r=0,this.t=0,this.u=0,this.v=!1}update(b){const R=b.length;if(R===0)return;const d=this.p;let w=this.r,s=this.u,r,t;for(s!==0?(r=s,t=-1,s=0):(r=b.charCodeAt(0),t=0);;){let i=r;if(L.$7e(r))if(t+1<R){const n=b.charCodeAt(t+1);L.$8e(n)?(t++,i=L.$9e(r,n)):i=65533}else{s=r;break}else L.$8e(r)&&(i=65533);if(w=this.w(d,w,i),t++,t<R)r=b.charCodeAt(t);else break}this.r=w,this.u=s}w(b,R,d){return d<128?b[R++]=d:d<2048?(b[R++]=192|(d&1984)>>>6,b[R++]=128|(d&63)>>>0):d<65536?(b[R++]=224|(d&61440)>>>12,b[R++]=128|(d&4032)>>>6,b[R++]=128|(d&63)>>>0):(b[R++]=240|(d&1835008)>>>18,b[R++]=128|(d&258048)>>>12,b[R++]=128|(d&4032)>>>6,b[R++]=128|(d&63)>>>0),R>=64&&(this.y(),R-=64,this.t+=64,b[0]=b[64+0],b[1]=b[64+1],b[2]=b[64+2]),R}digest(){return this.v||(this.v=!0,this.u&&(this.u=0,this.r=this.w(this.p,this.r,65533)),this.t+=this.r,this.x()),y(this.h)+y(this.l)+y(this.m)+y(this.n)+y(this.o)}x(){this.p[this.r++]=128,f(this.p,this.r),this.r>56&&(this.y(),f(this.p));const b=8*this.t;this.q.setUint32(56,Math.floor(b/4294967296),!1),this.q.setUint32(60,b%4294967296,!1),this.y()}y(){const b=$.g,R=this.q;for(let l=0;l<64;l+=4)b.setUint32(l,R.getUint32(l,!1),!1);for(let l=64;l<320;l+=4)b.setUint32(l,g(b.getUint32(l-12,!1)^b.getUint32(l-32,!1)^b.getUint32(l-56,!1)^b.getUint32(l-64,!1),1),!1);let d=this.h,w=this.l,s=this.m,r=this.n,t=this.o,i,n,o;for(let l=0;l<80;l++)l<20?(i=w&s|~w&r,n=1518500249):l<40?(i=w^s^r,n=1859775393):l<60?(i=w&s|w&r|s&r,n=2400959708):(i=w^s^r,n=3395469782),o=g(d,5)+i+t+n+b.getUint32(l*4,!1)&4294967295,t=r,r=s,s=g(w,30),w=d,d=o;this.h=this.h+d&4294967295,this.l=this.l+w&4294967295,this.m=this.m+s&4294967295,this.n=this.n+r&4294967295,this.o=this.o+t&4294967295}}e.$Ki=$}),define(te[54],ne([0,1,29]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var N;(function(D){D[D.Ignore=0]="Ignore",D[D.Info=1]="Info",D[D.Warning=2]="Warning",D[D.Error=3]="Error"})(N||(N={})),function(D){const A="error",j="warning",v="warn",u="info",c="ignore";function k(g){return g?L.$3e(A,g)?D.Error:L.$3e(j,g)||L.$3e(v,g)?D.Warning:L.$3e(u,g)?D.Info:D.Ignore:D.Ignore}D.fromValue=k;function I(g){switch(g){case D.Error:return A;case D.Warning:return j;case D.Info:return u;default:return c}}D.toString=I}(N||(N={})),e.default=N}),define(te[30],ne([0,1,3]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$jn=e.$in=e.$hn=e.$gn=e.$fn=e.$en=e.$dn=e.$cn=e.$bn=e.$an=e.$_m=e.$$m=e.$0m=e.$9m=e.$8m=void 0;function N(d){if(!d||typeof d!="object"||d instanceof RegExp)return d;const w=Array.isArray(d)?[]:{};return Object.entries(d).forEach(([s,r])=>{w[s]=r&&typeof r=="object"?N(r):r}),w}e.$8m=N;function D(d){if(!d||typeof d!="object")return d;const w=[d];for(;w.length>0;){const s=w.shift();Object.freeze(s);for(const r in s)if(A.call(s,r)){const t=s[r];typeof t=="object"&&!Object.isFrozen(t)&&!(0,L.$Cf)(t)&&w.push(t)}}return d}e.$9m=D;const A=Object.prototype.hasOwnProperty;function j(d,w){return v(d,w,new Set)}e.$0m=j;function v(d,w,s){if((0,L.$If)(d))return d;const r=w(d);if(typeof r<"u")return r;if(Array.isArray(d)){const t=[];for(const i of d)t.push(v(i,w,s));return t}if((0,L.$Bf)(d)){if(s.has(d))throw new Error("Cannot clone recursive data-structure");s.add(d);const t={};for(const i in d)A.call(d,i)&&(t[i]=v(d[i],w,s));return s.delete(d),t}return d}function u(d,w,s=!0){return(0,L.$Bf)(d)?((0,L.$Bf)(w)&&Object.keys(w).forEach(r=>{r in d?s&&((0,L.$Bf)(d[r])&&(0,L.$Bf)(w[r])?u(d[r],w[r],s):d[r]=w[r]):d[r]=w[r]}),d):w}e.$$m=u;function c(d,w){if(d===w)return!0;if(d==null||w===null||w===void 0||typeof d!=typeof w||typeof d!="object"||Array.isArray(d)!==Array.isArray(w))return!1;let s,r;if(Array.isArray(d)){if(d.length!==w.length)return!1;for(s=0;s<d.length;s++)if(!c(d[s],w[s]))return!1}else{const t=[];for(r in d)t.push(r);t.sort();const i=[];for(r in w)i.push(r);if(i.sort(),!c(t,i))return!1;for(s=0;s<t.length;s++)if(!c(d[t[s]],w[t[s]]))return!1}return!0}e.$_m=c;function k(d){const w=new Set;return JSON.stringify(d,(s,r)=>{if((0,L.$Bf)(r)||Array.isArray(r)){if(w.has(r))return"[Circular]";w.add(r)}return r})}e.$an=k;function I(d,w){const s=Object.create(null);return!d||!w||Object.keys(w).forEach(t=>{const i=d[t],n=w[t];c(i,n)||(s[t]=n)}),s}e.$bn=I;function g(d,w){const s=w.toLowerCase(),r=Object.keys(d).find(t=>t.toLowerCase()===s);return r?d[r]:d[w]}e.$cn=g;function f(d,w){const s=Object.create(null);for(const[r,t]of Object.entries(d))w(r,t)&&(s[r]=t);return s}e.$dn=f;function S(d){let w=[];for(;Object.prototype!==d;)w=w.concat(Object.getOwnPropertyNames(d)),d=Object.getPrototypeOf(d);return w}e.$en=S;function y(d){const w=[];for(const s of S(d))typeof d[s]=="function"&&w.push(s);return w}e.$fn=y;function $(d,w){const s=t=>function(){const i=Array.prototype.slice.call(arguments,0);return w(t,i)},r={};for(const t of d)r[t]=s(t);return r}e.$gn=$;function h(d,w,s){typeof w=="string"&&d[w]!==void 0&&typeof d[w]!="boolean"&&(d[w]=s)}e.$hn=h;function b(d,w,s){typeof w=="string"&&d[w]!==void 0&&typeof d[w]!="number"&&(d[w]=s)}e.$in=b;function R(d,w,s,r){if(typeof w!="string")return;const t=d[w];t!==void 0&&(typeof t!="string"||!s.includes(t))&&(d[w]=r)}e.$jn=R}),define(te[28],ne([0,1]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$fg=e.$eg=void 0;const L=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function N(D){return L.test(D)}e.$eg=N,e.$fg=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let D;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?D=crypto.getRandomValues.bind(crypto):D=function(v){for(let u=0;u<v.length;u++)v[u]=Math.floor(Math.random()*256);return v};const A=new Uint8Array(16),j=[];for(let v=0;v<256;v++)j.push(v.toString(16).padStart(2,"0"));return function(){D(A),A[6]=A[6]&15|64,A[8]=A[8]&63|128;let u=0,c="";return c+=j[A[u++]],c+=j[A[u++]],c+=j[A[u++]],c+=j[A[u++]],c+="-",c+=j[A[u++]],c+=j[A[u++]],c+="-",c+=j[A[u++]],c+=j[A[u++]],c+="-",c+=j[A[u++]],c+=j[A[u++]],c+="-",c+=j[A[u++]],c+=j[A[u++]],c+=j[A[u++]],c+=j[A[u++]],c+=j[A[u++]],c+=j[A[u++]],c}}()}),define(te[74],ne([0,1,33]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Rm=void 0;const N=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function D(j){const v=j.replace(/\-/g,":").toLowerCase();return!N.has(v)}function A(){const j=(0,L.networkInterfaces)();for(const v in j){const u=j[v];if(u){for(const{mac:c}of u)if(D(c))return c}}throw new Error("Unable to retrieve mac address (unexpected format)")}e.$Rm=A}),define(te[75],ne([7,5]),function(J,e){return J.create("vs/base/common/date",e)}),define(te[76],ne([0,1,75]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$fm=e.$em=void 0;const N=60,D=N*60,A=D*24,j=A*7,v=A*30,u=A*365;function c(I,g,f,S){typeof I!="number"&&(I=I.getTime());const y=Math.round((new Date().getTime()-I)/1e3);if(y<-30)return(0,L.localize)(0,null,c(new Date().getTime()+y*1e3,!1));if(!S&&y<30)return(0,L.localize)(1,null);let $;return y<N?($=y,g?$===1?f?(0,L.localize)(2,null,$):(0,L.localize)(3,null,$):f?(0,L.localize)(4,null,$):(0,L.localize)(5,null,$):$===1?f?(0,L.localize)(6,null,$):(0,L.localize)(7,null,$):f?(0,L.localize)(8,null,$):(0,L.localize)(9,null,$)):y<D?($=Math.floor(y/N),g?$===1?f?(0,L.localize)(10,null,$):(0,L.localize)(11,null,$):f?(0,L.localize)(12,null,$):(0,L.localize)(13,null,$):$===1?f?(0,L.localize)(14,null,$):(0,L.localize)(15,null,$):f?(0,L.localize)(16,null,$):(0,L.localize)(17,null,$)):y<A?($=Math.floor(y/D),g?$===1?f?(0,L.localize)(18,null,$):(0,L.localize)(19,null,$):f?(0,L.localize)(20,null,$):(0,L.localize)(21,null,$):$===1?f?(0,L.localize)(22,null,$):(0,L.localize)(23,null,$):f?(0,L.localize)(24,null,$):(0,L.localize)(25,null,$)):y<j?($=Math.floor(y/A),g?$===1?(0,L.localize)(26,null,$):(0,L.localize)(27,null,$):$===1?(0,L.localize)(28,null,$):(0,L.localize)(29,null,$)):y<v?($=Math.floor(y/j),g?$===1?f?(0,L.localize)(30,null,$):(0,L.localize)(31,null,$):f?(0,L.localize)(32,null,$):(0,L.localize)(33,null,$):$===1?f?(0,L.localize)(34,null,$):(0,L.localize)(35,null,$):f?(0,L.localize)(36,null,$):(0,L.localize)(37,null,$)):y<u?($=Math.floor(y/v),g?$===1?f?(0,L.localize)(38,null,$):(0,L.localize)(39,null,$):f?(0,L.localize)(40,null,$):(0,L.localize)(41,null,$):$===1?f?(0,L.localize)(42,null,$):(0,L.localize)(43,null,$):f?(0,L.localize)(44,null,$):(0,L.localize)(45,null,$)):($=Math.floor(y/u),g?$===1?f?(0,L.localize)(46,null,$):(0,L.localize)(47,null,$):f?(0,L.localize)(48,null,$):(0,L.localize)(49,null,$):$===1?f?(0,L.localize)(50,null,$):(0,L.localize)(51,null,$):f?(0,L.localize)(52,null,$):(0,L.localize)(53,null,$))}e.$em=c;function k(I){return I.getFullYear()+"-"+String(I.getMonth()+1).padStart(2,"0")+"-"+String(I.getDate()).padStart(2,"0")+"T"+String(I.getHours()).padStart(2,"0")+":"+String(I.getMinutes()).padStart(2,"0")+":"+String(I.getSeconds()).padStart(2,"0")+"."+(I.getMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}e.$fm=k}),define(te[77],ne([7,5]),function(J,e){return J.create("vs/base/common/errorMessage",e)}),define(te[34],ne([0,1,19,3,77]),function(J,e,L,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Di=e.$Ci=e.$Bi=void 0;function A(I,g){return g&&(I.stack||I.stacktrace)?D.localize(0,null,v(I),j(I.stack)||j(I.stacktrace)):v(I)}function j(I){return Array.isArray(I)?I.join(`
`):I}function v(I){return I.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${I.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof I.code=="string"&&typeof I.errno=="number"&&typeof I.syscall=="string"?D.localize(1,null,I.message):I.message||D.localize(2,null)}function u(I=null,g=!1){if(!I)return D.localize(3,null);if(Array.isArray(I)){const f=L.$Hb(I),S=u(f[0],g);return f.length>1?D.localize(4,null,S,f.length):S}if(N.$zf(I))return I;if(I.detail){const f=I.detail;if(f.error)return A(f.error,g);if(f.exception)return A(f.exception,g)}return I.stack?A(I,g):I.message?I.message:D.localize(5,null)}e.$Bi=u;function c(I){const g=I;return g instanceof Error&&Array.isArray(g.actions)}e.$Ci=c;function k(I,g){let f;return typeof I=="string"?f=new Error(I):f=I,f.actions=g,f}e.$Di=k}),define(te[78],ne([7,5]),function(J,e){return J.create("vs/base/common/jsonErrorMessages",e)}),define(te[79],ne([0,1,78]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ap=void 0;function N(D){switch(D){case 1:return(0,L.localize)(0,null);case 2:return(0,L.localize)(1,null);case 3:return(0,L.localize)(2,null);case 4:return(0,L.localize)(3,null);case 5:return(0,L.localize)(4,null);case 6:return(0,L.localize)(5,null);case 7:return(0,L.localize)(6,null);case 8:return(0,L.localize)(7,null);case 9:return(0,L.localize)(8,null);default:return""}}e.$Ap=N}),define(te[55],ne([0,1,13]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Bl=e.$Al=e.TerminateResponseCode=e.Source=void 0;var N;(function(v){v[v.stdout=0]="stdout",v[v.stderr=1]="stderr"})(N||(e.Source=N={}));var D;(function(v){v[v.Success=0]="Success",v[v.Unknown=1]="Unknown",v[v.AccessDenied=2]="AccessDenied",v[v.ProcessNotFound=3]="ProcessNotFound"})(D||(e.TerminateResponseCode=D={}));function A(v,...u){const c=u.reduce((g,f)=>(g[f]=!0,g),{}),k=[/^ELECTRON_.+$/,/^VSCODE_(?!(PORTABLE|SHELL_LOGIN|ENV_REPLACE|ENV_APPEND|ENV_PREPEND)).+$/,/^SNAP(|_.*)$/,/^GDK_PIXBUF_.+$/];Object.keys(v).filter(g=>!c[g]).forEach(g=>{for(let f=0;f<k.length;f++)if(g.search(k[f])!==-1){delete v[g];break}})}e.$Al=A;function j(v){v&&(delete v.DEBUG,L.$k&&delete v.DYLD_LIBRARY_PATH,L.$l&&delete v.LD_PRELOAD)}e.$Bl=j}),define(te[80],ne([0,1,11]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.log=e.$4p=e.$3p=e.$2p=void 0;function N(c){const k=c;return k&&typeof k.type=="string"&&typeof k.severity=="string"}e.$2p=N;function D(c){const k=[];let I;try{const g=JSON.parse(c.arguments),f=g[g.length-1];f&&f.__$stack&&(g.pop(),I=f.__$stack),k.push(...g)}catch{k.push("Unable to log remote console arguments",c.arguments)}return{args:k,stack:I}}e.$3p=D;function A(c){if(typeof c!="string")return A(D(c).stack);const k=c;if(k){const I=j(k),g=/at [^\/]*((?:(?:[a-zA-Z]+:)|(?:[\/])|(?:\\\\))(?:.+)):(\d+):(\d+)/.exec(I||"");if(g&&g.length===4)return{uri:L.URI.file(g[1]),line:Number(g[2]),column:Number(g[3])}}}e.$4p=A;function j(c){if(!c)return c;const k=c.indexOf(`
`);return k===-1?c:c.substring(0,k)}function v(c,k){const{args:I,stack:g}=D(c),f=typeof I[0]=="string"&&I.length===1;let S=j(g);S&&(S=`(${S.trim()})`);let y=[];if(typeof I[0]=="string"?S&&f?y=[`%c[${k}] %c${I[0]} %c${S}`,u("blue"),u(""),u("grey")]:y=[`%c[${k}] %c${I[0]}`,u("blue"),u(""),...I.slice(1)]:y=[`%c[${k}]%`,u("blue"),...I],S&&!f&&y.push(S),typeof console[c.severity]!="function")throw new Error("Unknown console method");console[c.severity].apply(console,y)}e.log=v;function u(c){return`color: ${c}`}}),define(te[46],ne([0,1,14,11]),function(J,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$nh=e.$mh=e.$lh=void 0;function D(u){return JSON.stringify(u,j)}e.$lh=D;function A(u){let c=JSON.parse(u);return c=v(c),c}e.$mh=A;function j(u,c){return c instanceof RegExp?{$mid:2,source:c.source,flags:c.flags}:c}function v(u,c=0){if(!u||c>200)return u;if(typeof u=="object"){switch(u.$mid){case 1:return N.URI.revive(u);case 2:return new RegExp(u.source,u.flags);case 17:return new Date(u.source)}if(u instanceof L.$ce||u instanceof Uint8Array)return u;if(Array.isArray(u))for(let k=0;k<u.length;++k)u[k]=v(u[k],c+1);else for(const k in u)Object.hasOwnProperty.call(u,k)&&(u[k]=v(u[k],c+1))}return u}e.$nh=v}),define(te[81],ne([0,1,70,15,13,11]),function(J,e,L,N,D,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$zC=void 0;class j{constructor(g,f,S){this.id=g,this.dependencies=f,this.callback=S}}class v{static{this.INSTANCE=new v}constructor(){this.a=typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope",this.b=typeof document=="object",this.c=[],this.d=!1}g(){this.d||(this.d=!0,globalThis.define=(g,f,S)=>{typeof g!="string"&&(S=f,f=g,g=null),(typeof f!="object"||!Array.isArray(f))&&(S=f,f=null),this.c.push(new j(g,f,S))},globalThis.define.amd=!0,this.b?this.f=window.trustedTypes?.createPolicy("amdLoader",{createScriptURL(g){if(g.startsWith(window.location.origin)||g.startsWith("vscode-file://vscode-app"))return g;throw new Error(`[trusted_script_src] Invalid script url: ${g}`)}}):this.a&&(this.f=globalThis.trustedTypes?.createPolicy("amdLoader",{createScriptURL(g){return g}})))}async load(g){this.g();const f=await(this.a?this.i(g):this.b?this.h(g):this.j(g));if(!f)throw new Error(`Did not receive a define call from script ${g}`);if(Array.isArray(f.dependencies)&&f.dependencies.length>0)throw new Error(`Cannot resolve dependencies for script ${g}. The dependencies are: ${f.dependencies.join(", ")}`);return typeof f.callback=="function"?f.callback([]):f.callback}h(g){return new Promise((f,S)=>{const y=document.createElement("script");y.setAttribute("async","async"),y.setAttribute("type","text/javascript");const $=()=>{y.removeEventListener("load",h),y.removeEventListener("error",b)},h=R=>{$(),f(this.c.pop())},b=R=>{$(),S(R)};y.addEventListener("load",h),y.addEventListener("error",b),this.f&&(g=this.f.createScriptURL(g)),y.setAttribute("src",g),document.getElementsByTagName("head")[0].appendChild(y)})}i(g){return new Promise((f,S)=>{try{this.f&&(g=this.f.createScriptURL(g)),importScripts(g),f(this.c.pop())}catch(y){S(y)}})}async j(g){try{const f=globalThis._VSCODE_NODE_MODULES.fs,S=globalThis._VSCODE_NODE_MODULES.vm,y=globalThis._VSCODE_NODE_MODULES.module,$=A.URI.parse(g).fsPath,h=f.readFileSync($).toString(),b=y.wrap(h.replace(/^#!.*/,""));return new S.Script(b).runInThisContext().apply(),this.c.pop()}catch(f){throw f}}}const u=new Map;let c={};typeof globalThis.require=="object"&&(c=globalThis.require.paths??{});async function k(I,g,f){if(L.$T){f===void 0&&(f=!!(globalThis._VSCODE_PRODUCT_JSON??globalThis.vscode?.context?.configuration()?.product)?.commit),c[I]&&(I=c[I]);const S=`${I}/${g}`;if(u.has(S))return u.get(S);let y;if(/^\w[\w\d+.-]*:\/\//.test(S))y=S;else{const R=`${f&&!D.$p?N.$ag:N.$_f}/${S}`;y=N.$dg.asBrowserUri(R).toString(!0)}const $=v.INSTANCE.load(y);return u.set(S,$),$}else return await new Promise((S,y)=>{J([I],S,y)})}e.$zC=k}),define(te[82],ne([0,1,33,47,28,74,13]),function(J,e,L,N,D,A,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Um=e.$Tm=e.$Sm=void 0,e.$Sm=new class{c(g){return this.a||(this.a=N.$Wh.forStrings(),this.a.set("00-50-56",!0),this.a.set("00-0C-29",!0),this.a.set("00-05-69",!0),this.a.set("00-03-FF",!0),this.a.set("00-1C-42",!0),this.a.set("00-16-3E",!0),this.a.set("08-00-27",!0),this.a.set("00:50:56",!0),this.a.set("00:0C:29",!0),this.a.set("00:05:69",!0),this.a.set("00:03:FF",!0),this.a.set("00:1C:42",!0),this.a.set("00:16:3E",!0),this.a.set("08:00:27",!0)),!!this.a.findSubstr(g)}value(){if(this.b===void 0){let g=0,f=0;const S=(0,L.networkInterfaces)();for(const y in S){const $=S[y];if($)for(const{mac:h,internal:b}of $)b||(f+=1,this.c(h.toUpperCase())&&(g+=1))}this.b=f>0?g/f:0}return this.b}};let v;async function u(g){return v||(v=(async()=>await c(g)||D.$fg())()),v}e.$Tm=u;async function c(g){try{const f=await new Promise((y,$)=>{J(["crypto"],y,$)}),S=(0,A.$Rm)();return f.createHash("sha256").update(S,"utf8").digest("hex")}catch(f){g(f);return}}const k="Software\\Microsoft\\SQMClient";async function I(g){if(j.$j){const f=await new Promise((S,y)=>{J(["@vscode/windows-registry"],S,y)});try{return f.GetStringRegKey("HKEY_LOCAL_MACHINE",k,"MachineId")||""}catch(S){return g(S),""}}return""}e.$Um=I}),define(te[83],ne([0,1,33,16,24]),function(J,e,L,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$zl=e.$yl=void 0;const A=/^\d+$/,j=/^Microsoft.PowerShell_.*/,v=/^Microsoft.PowerShellPreview_.*/;var u;(function(d){d[d.x64=0]="x64",d[d.x86=1]="x86",d[d.ARM=2]="ARM"})(u||(u={}));let c;switch(process.arch){case"ia32":c=1;break;case"arm":case"arm64":c=2;break;default:c=0;break}let k;process.env.PROCESSOR_ARCHITEW6432?k=process.env.PROCESSOR_ARCHITEW6432==="ARM64"?2:0:process.env.PROCESSOR_ARCHITECTURE==="ARM64"?k=2:process.env.PROCESSOR_ARCHITECTURE==="X86"?k=1:k=0;class I{constructor(w,s,r){this.exePath=w,this.displayName=s,this.a=r}async exists(){return this.a===void 0&&(this.a=await D.SymlinkSupport.existsFile(this.exePath)),this.a}}function g({useAlternateBitness:d=!1}={}){return d?c===0?process.env["ProgramFiles(x86)"]||null:k===0&&process.env.ProgramW6432||null:process.env.ProgramFiles||null}async function f({useAlternateBitness:d=!1,findPreview:w=!1}={}){const s=g({useAlternateBitness:d});if(!s)return null;const r=N.$jc(s,"PowerShell");if(!await D.SymlinkSupport.existsDirectory(r))return null;let t=-1,i=null;for(const l of await D.Promises.readdir(r)){let P=-1;if(w){const p=l.indexOf("-");if(p<0)continue;const O=l.substring(0,p);if(!A.test(O)||l.substring(p+1)!=="preview")continue;P=parseInt(O,10)}else{if(!A.test(l))continue;P=parseInt(l,10)}if(P<=t)continue;const E=N.$jc(r,l,"pwsh.exe");await D.SymlinkSupport.existsFile(E)&&(i=E,t=P)}if(!i)return null;const n=s.includes("x86")?" (x86)":"",o=w?" Preview":"";return new I(i,`PowerShell${o}${n}`,!0)}async function S({findPreview:d}={}){if(!process.env.LOCALAPPDATA)return null;const w=N.$jc(process.env.LOCALAPPDATA,"Microsoft","WindowsApps");if(!await D.SymlinkSupport.existsDirectory(w))return null;const{pwshMsixDirRegex:s,pwshMsixName:r}=d?{pwshMsixDirRegex:v,pwshMsixName:"PowerShell Preview (Store)"}:{pwshMsixDirRegex:j,pwshMsixName:"PowerShell (Store)"};for(const t of await D.Promises.readdir(w))if(s.test(t)){const i=N.$jc(w,t,"pwsh.exe");return new I(i,r)}return null}function y(){const d=N.$jc(L.homedir(),".dotnet","tools","pwsh.exe");return new I(d,".NET Core PowerShell Global Tool")}function $(){const d=N.$jc(process.env.windir,c===1&&k!==1?"SysNative":"System32","WindowsPowerShell","v1.0","powershell.exe");return new I(d,"Windows PowerShell",!0)}async function*h(){let d=await f();d&&(yield d),d=await f({useAlternateBitness:!0}),d&&(yield d),d=await S(),d&&(yield d),d=y(),d&&(yield d),d=await f({findPreview:!0}),d&&(yield d),d=await S({findPreview:!0}),d&&(yield d),d=await f({useAlternateBitness:!0,findPreview:!0}),d&&(yield d),d=$(),d&&(yield d)}async function*b(){for await(const d of h())await d.exists()&&(yield d)}e.$yl=b;async function R(){for await(const d of b())return d;return null}e.$zl=R}),define(te[56],ne([0,1,16,13,35,55,3,24]),function(J,e,L,N,D,A,j,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.win32=e.$Dl=e.$Cl=e.TerminateResponseCode=e.Source=void 0,Object.defineProperty(e,"Source",{enumerable:!0,get:function(){return A.Source}}),Object.defineProperty(e,"TerminateResponseCode",{enumerable:!0,get:function(){return A.TerminateResponseCode}});function u(I=D.env){return I.comspec||"cmd.exe"}e.$Cl=u;function c(I){let g=[],f=!1;const S=function(y){if(f){g.push(y);return}(!I.send(y,h=>{if(h&&console.error(h),f=!1,g.length>0){const b=g.slice(0);g=[],b.forEach(R=>S(R))}})||N.$j)&&(f=!0)};return{send:S}}e.$Dl=c;var k;(function(I){async function g(f,S,y){if(L.$ic(f))return f;if(S===void 0&&(S=D.cwd()),L.$mc(f)!=="."||(y===void 0&&j.$zf(D.env.PATH)&&(y=D.env.PATH.split(L.$tc)),y===void 0||y.length===0))return L.$jc(S,f);async function h(b){if(await v.Promises.exists(b)){let R;try{R=await v.Promises.stat(b)}catch(d){d.message.startsWith("EACCES")&&(R=await v.Promises.lstat(b))}return R?!R.isDirectory():!1}return!1}for(const b of y){let R;if(L.$ic(b)?R=L.$jc(b,f):R=L.$jc(S,b,f),await h(R))return R;let d=R+".com";if(await h(d)||(d=R+".exe",await h(d)))return d}return L.$jc(S,f)}I.findExecutable=g})(k||(e.win32=k={}))}),define(te[84],ne([0,1,33,13,83,56]),function(J,e,L,N,D,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$El=void 0;async function j(I,g){return I===1?N.$j?k():A.$Cl(g):u(I,g)}e.$El=j;let v=null;function u(I,g){if(N.$l&&I===2||N.$k&&I===3)return"/bin/bash";if(!v){let f;if(N.$j)f="/bin/bash";else{if(f=g.SHELL,!f)try{f=(0,L.userInfo)().shell}catch{}f||(f="sh"),f==="/bin/false"&&(f="/bin/bash")}v=f}return v}let c=null;async function k(){return c||(c=(await(0,D.$zl)()).exePath),c}});var pe=this&&this.__decorate||function(J,e,L,N){var D=arguments.length,A=D<3?e:N===null?N=Object.getOwnPropertyDescriptor(e,L):N,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(J,e,L,N);else for(var v=J.length-1;v>=0;v--)(j=J[v])&&(A=(D<3?j(A):D>3?j(e,L,A):j(e,L))||A);return D>3&&A&&Object.defineProperty(e,L,A),A};define(te[57],ne([0,1,19,8,14,20,52,9,4,2,46,29,3]),function(J,e,L,N,D,A,j,v,u,c,k,I,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$zh=e.ProxyChannel=e.$yh=e.$xh=e.$wh=e.$vh=e.$uh=e.$th=e.RequestInitiator=e.$sh=e.$rh=e.$qh=e.$ph=e.$oh=void 0;var f;(function(T){T[T.Promise=100]="Promise",T[T.PromiseCancel=101]="PromiseCancel",T[T.EventListen=102]="EventListen",T[T.EventDispose=103]="EventDispose"})(f||(f={}));function S(T){switch(T){case 100:return"req";case 101:return"cancel";case 102:return"subscribe";case 103:return"unsubscribe"}}var y;(function(T){T[T.Initialize=200]="Initialize",T[T.PromiseSuccess=201]="PromiseSuccess",T[T.PromiseError=202]="PromiseError",T[T.PromiseErrorObj=203]="PromiseErrorObj",T[T.EventFire=204]="EventFire"})(y||(y={}));function $(T){switch(T){case 200:return"init";case 201:return"reply:";case 202:case 203:return"replyErr:";case 204:return"event:"}}var h;(function(T){T[T.Uninitialized=0]="Uninitialized",T[T.Idle=1]="Idle"})(h||(h={}));function b(T){let C=0;for(let H=0;;H+=7){const G=T.read(1);if(C|=(G.buffer[0]&127)<<H,!(G.buffer[0]&128))return C}}const R=t(0);function d(T,C){if(C===0){T.write(R);return}let H=0;for(let Y=C;Y!==0;Y=Y>>>7)H++;const G=D.$ce.alloc(H);for(let Y=0;C!==0;Y++)G.buffer[Y]=C&127,C=C>>>7,C>0&&(G.buffer[Y]|=128);T.write(G)}class w{constructor(C){this.b=C,this.a=0}read(C){const H=this.b.slice(this.a,this.a+C);return this.a+=H.byteLength,H}}e.$oh=w;class s{constructor(){this.a=[]}get buffer(){return D.$ce.concat(this.a)}write(C){this.a.push(C)}}e.$ph=s;var r;(function(T){T[T.Undefined=0]="Undefined",T[T.String=1]="String",T[T.Buffer=2]="Buffer",T[T.VSBuffer=3]="VSBuffer",T[T.Array=4]="Array",T[T.Object=5]="Object",T[T.Int=6]="Int"})(r||(r={}));function t(T){const C=D.$ce.alloc(1);return C.writeUInt8(T,0),C}const i={Undefined:t(r.Undefined),String:t(r.String),Buffer:t(r.Buffer),VSBuffer:t(r.VSBuffer),Array:t(r.Array),Object:t(r.Object),Uint:t(r.Int)},n=typeof Buffer<"u";function o(T,C){if(typeof C>"u")T.write(i.Undefined);else if(typeof C=="string"){const H=D.$ce.fromString(C);T.write(i.String),d(T,H.byteLength),T.write(H)}else if(n&&Buffer.isBuffer(C)){const H=D.$ce.wrap(C);T.write(i.Buffer),d(T,H.byteLength),T.write(H)}else if(C instanceof D.$ce)T.write(i.VSBuffer),d(T,C.byteLength),T.write(C);else if(Array.isArray(C)){T.write(i.Array),d(T,C.length);for(const H of C)o(T,H)}else if(typeof C=="number"&&(C|0)===C)T.write(i.Uint),d(T,C);else{const H=D.$ce.fromString(JSON.stringify(C));T.write(i.Object),d(T,H.byteLength),T.write(H)}}e.$qh=o;function l(T){switch(T.read(1).readUInt8(0)){case r.Undefined:return;case r.String:return T.read(b(T)).toString();case r.Buffer:return T.read(b(T)).buffer;case r.VSBuffer:return T.read(b(T));case r.Array:{const H=b(T),G=[];for(let Y=0;Y<H;Y++)G.push(l(T));return G}case r.Object:return JSON.parse(T.read(b(T)).toString());case r.Int:return b(T)}}e.$rh=l;class P{constructor(C,H,G=null,Y=1e3){this.h=C,this.j=H,this.k=G,this.l=Y,this.b=new Map,this.d=new Map,this.g=new Map,this.f=this.h.onMessage(Z=>this.q(Z)),this.m({type:200})}registerChannel(C,H){this.b.set(C,H),setTimeout(()=>this.w(C),0)}m(C){switch(C.type){case 200:{const H=this.o([C.type]);this.k?.logOutgoing(H,0,1,$(C.type));return}case 201:case 202:case 204:case 203:{const H=this.o([C.type,C.id],C.data);this.k?.logOutgoing(H,C.id,1,$(C.type),C.data);return}}}o(C,H=void 0){const G=new s;return o(G,C),o(G,H),this.p(G.buffer)}p(C){try{return this.h.send(C),C.byteLength}catch{return 0}}q(C){const H=new w(C),G=l(H),Y=l(H),Z=G[0];switch(Z){case 100:return this.k?.logIncoming(C.byteLength,G[1],1,`${S(Z)}: ${G[2]}.${G[3]}`,Y),this.s({type:Z,id:G[1],channelName:G[2],name:G[3],arg:Y});case 102:return this.k?.logIncoming(C.byteLength,G[1],1,`${S(Z)}: ${G[2]}.${G[3]}`,Y),this.t({type:Z,id:G[1],channelName:G[2],name:G[3],arg:Y});case 101:return this.k?.logIncoming(C.byteLength,G[1],1,`${S(Z)}`),this.u({type:Z,id:G[1]});case 103:return this.k?.logIncoming(C.byteLength,G[1],1,`${S(Z)}`),this.u({type:Z,id:G[1]})}}s(C){const H=this.b.get(C.channelName);if(!H){this.v(C);return}const G=new A.$Yd;let Y;try{Y=H.call(this.j,C.name,C.arg,G.token)}catch(F){Y=Promise.reject(F)}const Z=C.id;Y.then(F=>{this.m({id:Z,data:F,type:201})},F=>{F instanceof Error?this.m({id:Z,data:{message:F.message,name:F.name,stack:F.stack?F.stack.split?F.stack.split(`
`):F.stack:void 0},type:202}):this.m({id:Z,data:F,type:203})}).finally(()=>{M.dispose(),this.d.delete(C.id)});const M=(0,c.$Qc)(()=>G.cancel());this.d.set(C.id,M)}t(C){const H=this.b.get(C.channelName);if(!H){this.v(C);return}const G=C.id,Z=H.listen(this.j,C.name,C.arg)(M=>this.m({id:G,data:M,type:204}));this.d.set(C.id,Z)}u(C){const H=this.d.get(C.id);H&&(H.dispose(),this.d.delete(C.id))}v(C){let H=this.g.get(C.channelName);H||(H=[],this.g.set(C.channelName,H));const G=setTimeout(()=>{console.error(`Unknown channel: ${C.channelName}`),C.type===100&&this.m({id:C.id,data:{name:"Unknown channel",message:`Channel name '${C.channelName}' timed out after ${this.l}ms`,stack:void 0},type:202})},this.l);H.push({request:C,timeoutTimer:G})}w(C){const H=this.g.get(C);if(H){for(const G of H)switch(clearTimeout(G.timeoutTimer),G.request.type){case 100:this.s(G.request);break;case 102:this.t(G.request);break}this.g.delete(C)}}dispose(){this.f&&(this.f.dispose(),this.f=null),(0,c.$Nc)(this.d.values()),this.d.clear()}}e.$sh=P;var E;(function(T){T[T.LocalSide=0]="LocalSide",T[T.OtherSide=1]="OtherSide"})(E||(e.RequestInitiator=E={}));class p{constructor(C,H=null){this.l=C,this.a=!1,this.b=h.Uninitialized,this.d=new Set,this.f=new Map,this.g=0,this.k=new u.$Od,this.onDidInitialize=this.k.event,this.h=this.l.onMessage(G=>this.s(G)),this.j=H}getChannel(C){const H=this;return{call(G,Y,Z){return H.a?Promise.reject(new v.$5):H.m(C,G,Y,Z)},listen(G,Y){return H.a?u.Event.None:H.o(C,G,Y)}}}m(C,H,G,Y=A.CancellationToken.None){const Z=this.g++,F={id:Z,type:100,channelName:C,name:H,arg:G};if(Y.isCancellationRequested)return Promise.reject(new v.$5);let a;return new Promise((z,U)=>{if(Y.isCancellationRequested)return U(new v.$5);const Q=()=>{const me=de=>{switch(de.type){case 201:this.f.delete(Z),z(de.data);break;case 202:{this.f.delete(Z);const ge=new Error(de.data.message);ge.stack=Array.isArray(de.data.stack)?de.data.stack.join(`
`):de.data.stack,ge.name=de.data.name,U(ge);break}case 203:this.f.delete(Z),U(de.data);break}};this.f.set(Z,me),this.p(F)};let W=null;this.b===h.Idle?Q():(W=(0,N.$Ig)(me=>this.u()),W.then(()=>{W=null,Q()}));const le=()=>{W?(W.cancel(),W=null):this.p({id:Z,type:101}),U(new v.$5)},ae=Y.onCancellationRequested(le);a=(0,c.$Pc)((0,c.$Qc)(le),ae),this.d.add(a)}).finally(()=>{a.dispose(),this.d.delete(a)})}o(C,H,G){const Y=this.g++,M={id:Y,type:102,channelName:C,name:H,arg:G};let F=null;const a=new u.$Od({onWillAddFirstListener:()=>{F=(0,N.$Ig)(z=>this.u()),F.then(()=>{F=null,this.d.add(a),this.p(M)})},onDidRemoveLastListener:()=>{F?(F.cancel(),F=null):(this.d.delete(a),this.p({id:Y,type:103}))}}),m=z=>a.fire(z.data);return this.f.set(Y,m),a.event}p(C){switch(C.type){case 100:case 102:{const H=this.q([C.type,C.id,C.channelName,C.name],C.arg);this.j?.logOutgoing(H,C.id,0,`${S(C.type)}: ${C.channelName}.${C.name}`,C.arg);return}case 101:case 103:{const H=this.q([C.type,C.id]);this.j?.logOutgoing(H,C.id,0,S(C.type));return}}}q(C,H=void 0){const G=new s;return o(G,C),o(G,H),this.r(G.buffer)}r(C){try{return this.l.send(C),C.byteLength}catch{return 0}}s(C){const H=new w(C),G=l(H),Y=l(H),Z=G[0];switch(Z){case 200:return this.j?.logIncoming(C.byteLength,0,0,$(Z)),this.t({type:G[0]});case 201:case 202:case 204:case 203:return this.j?.logIncoming(C.byteLength,G[1],0,$(Z),Y),this.t({type:G[0],id:G[1],data:Y})}}t(C){if(C.type===200){this.b=h.Idle,this.k.fire();return}this.f.get(C.id)?.(C)}get onDidInitializePromise(){return u.Event.toPromise(this.onDidInitialize)}u(){return this.b===h.Idle?Promise.resolve():this.onDidInitializePromise}dispose(){this.a=!0,this.h&&(this.h.dispose(),this.h=null),(0,c.$Nc)(this.d.values()),this.d.clear()}}e.$th=p,pe([j.$ih],p.prototype,"onDidInitializePromise",null);class O{get connections(){const C=[];return this.f.forEach(H=>C.push(H)),C}constructor(C){this.a=new Map,this.f=new Set,this.g=new u.$Od,this.onDidAddConnection=this.g.event,this.h=new u.$Od,this.onDidRemoveConnection=this.h.event,this.j=new c.$Rc,this.j.add(C(({protocol:H,onDidClientDisconnect:G})=>{const Y=u.Event.once(H.onMessage);this.j.add(Y(Z=>{const M=new w(Z),F=l(M),a=new P(H,F),m=new p(H);this.a.forEach((U,Q)=>a.registerChannel(Q,U));const z={channelServer:a,channelClient:m,ctx:F};this.f.add(z),this.g.fire(z),this.j.add(G(()=>{a.dispose(),m.dispose(),this.f.delete(z),this.h.fire(z)}))}))}))}getChannel(C,H){const G=this;return{call(Y,Z,M){let F;if((0,g.$Nf)(H)){const m=(0,L.$4b)(G.connections.filter(H));F=m?Promise.resolve(m):u.Event.toPromise(u.Event.filter(G.onDidAddConnection,H))}else F=H.routeCall(G,Y,Z);const a=F.then(m=>m.channelClient.getChannel(C));return _(a).call(Y,Z,M)},listen(Y,Z){if((0,g.$Nf)(H))return G.k(C,H,Y,Z);const M=H.routeEvent(G,Y,Z).then(F=>F.channelClient.getChannel(C));return _(M).listen(Y,Z)}}}k(C,H,G,Y){const Z=this;let M;const F=new u.$Od({onWillAddFirstListener:()=>{M=new c.$Rc;const a=new u.$Ud,m=new Map,z=Q=>{const le=Q.channelClient.getChannel(C).listen(G,Y),ae=a.add(le);m.set(Q,ae)},U=Q=>{const W=m.get(Q);W&&(W.dispose(),m.delete(Q))};Z.connections.filter(H).forEach(z),u.Event.filter(Z.onDidAddConnection,H)(z,void 0,M),Z.onDidRemoveConnection(U,void 0,M),a.event(F.fire,F,M),M.add(a)},onDidRemoveLastListener:()=>{M?.dispose(),M=void 0}});return F.event}registerChannel(C,H){this.a.set(C,H);for(const G of this.f)G.channelServer.registerChannel(C,H)}dispose(){this.j.dispose();for(const C of this.f)C.channelClient.dispose(),C.channelServer.dispose();this.f.clear(),this.a.clear(),this.g.dispose(),this.h.dispose()}}e.$uh=O;class B{constructor(C,H,G=null){const Y=new s;o(Y,H),C.send(Y.buffer),this.a=new p(C,G),this.d=new P(C,H,G)}getChannel(C){return this.a.getChannel(C)}registerChannel(C,H){this.d.registerChannel(C,H)}dispose(){this.a.dispose(),this.d.dispose()}}e.$vh=B;function _(T){return{call(C,H,G){return T.then(Y=>Y.call(C,H,G))},listen(C,H){const G=new u.$Xd;return T.then(Y=>G.input=Y.listen(C,H)),G.event}}}e.$wh=_;function ee(T){let C=!1;return{call(H,G,Y){return C?T.call(H,G,Y):(0,N.$Vg)(0).then(()=>C=!0).then(()=>T.call(H,G,Y))},listen(H,G){if(C)return T.listen(H,G);const Y=new u.$Xd;return(0,N.$Vg)(0).then(()=>C=!0).then(()=>Y.input=T.listen(H,G)),Y.event}}}e.$xh=ee;class oe{constructor(C){this.a=C}routeCall(C){return this.b(C)}routeEvent(C){return this.b(C)}async b(C){for(const H of C.connections)if(await Promise.resolve(this.a(H.ctx)))return Promise.resolve(H);return await u.Event.toPromise(C.onDidAddConnection),await this.b(C)}}e.$yh=oe;var se;(function(T){function C(Z,M,F){const a=Z,m=F&&F.disableMarshalling,z=new Map;for(const U in a)G(U)&&z.set(U,u.Event.buffer(a[U],!0,void 0,M));return new class{listen(U,Q,W){const le=z.get(Q);if(le)return le;if(Y(Q)){const ae=a[Q];if(typeof ae=="function")return ae.call(a,W)}throw new v.$bb(`Event not found: ${Q}`)}call(U,Q,W){const le=a[Q];if(typeof le=="function"){if(!m&&Array.isArray(W))for(let me=0;me<W.length;me++)W[me]=(0,k.$nh)(W[me]);let ae=le.apply(a,W);return ae instanceof Promise||(ae=Promise.resolve(ae)),ae}throw new v.$bb(`Method not found: ${Q}`)}}}T.fromService=C;function H(Z,M){const F=M&&M.disableMarshalling;return new Proxy({},{get(a,m){if(typeof m=="string")return M?.properties?.has(m)?M.properties.get(m):Y(m)?function(z){return Z.listen(m,z)}:G(m)?Z.listen(m):async function(...z){let U;M&&!(0,g.$If)(M.context)?U=[M.context,...z]:U=z;const Q=await Z.call(m,U);return F?Q:(0,k.$nh)(Q)};throw new v.$bb(`Property not found: ${String(m)}`)}})}T.toService=H;function G(Z){return Z[0]==="o"&&Z[1]==="n"&&I.$2e(Z.charCodeAt(2))}function Y(Z){return/^onDynamic/.test(Z)&&I.$2e(Z.charCodeAt(9))}})(se||(e.ProxyChannel=se={}));const ue=[["#2977B1","#FC802D","#34A13A","#D3282F","#9366BA"],["#8B564C","#E177C0","#7F7F7F","#BBBE3D","#2EBECD"]];function ce(T){if(Array.isArray(T))return T;if(T&&typeof T=="object"&&typeof T.toString=="function"){const C=T.toString();if(C!=="[object Object]")return C}return T}function re(T){return Array.isArray(T)?T.map(ce):ce(T)}function q(T,C,H,G,Y,Z,M){M=re(M);const F=ue[Y],a=F[G%F.length];let m=[`%c[${T}]%c[${String(C).padStart(7," ")}]%c[len: ${String(H).padStart(5," ")}]%c${String(G).padStart(5," ")} - ${Z}`,"color: darkgreen","color: grey","color: grey",`color: ${a}`];/\($/.test(Z)?(m=m.concat(M),m.push(")")):m.push(M),console.log.apply(console,m)}class X{constructor(C,H){this.d=C,this.f=H,this.a=0,this.b=0}logOutgoing(C,H,G,Y,Z){this.b+=C,q(this.d,this.b,C,H,G,Y,Z)}logIncoming(C,H,G,Y,Z){this.a+=C,q(this.f,this.a,C,H,G,Y,Z)}}e.$zh=X}),define(te[85],ne([0,1,58,8,14,20,80,9,4,2,30,56,55,57]),function(J,e,L,N,D,A,j,v,u,c,k,I,g,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$7p=e.$6p=void 0;class S extends f.$sh{constructor(h){super({send:b=>{try{process.send?.(b.buffer.toString("base64"))}catch{}},onMessage:u.Event.fromNodeEventEmitter(process,"message",b=>D.$ce.wrap(Buffer.from(b,"base64")))},h),process.once("disconnect",()=>this.dispose())}}e.$6p=S;class y{constructor(h,b){this.i=h,this.j=b,this.c=new Set,this.g=new Map,this.h=new u.$Od,this.onDidProcessExit=this.h.event;const R=b&&b.timeout?b.timeout:6e4;this.b=new N.$Rg(R),this.d=null,this.f=null}getChannel(h){const b=this;return{call(R,d,w){return b.k(h,R,d,w)},listen(R,d){return b.l(h,R,d)}}}k(h,b,R,d=A.CancellationToken.None){if(!this.b)return Promise.reject(new Error("disposed"));if(d.isCancellationRequested)return Promise.reject(v.$6());this.b.cancel();const w=this.n(h),s=(0,N.$Ig)(i=>w.call(b,R,i)),r=d.onCancellationRequested(()=>s.cancel()),t=(0,c.$Qc)(()=>s.cancel());return this.c.add(t),s.finally(()=>{r.dispose(),this.c.delete(t),this.c.size===0&&this.b&&this.b.trigger(()=>this.o())}),s}l(h,b,R){if(!this.b)return u.Event.None;this.b.cancel();let d;const w=new u.$Od({onWillAddFirstListener:()=>{d=this.n(h).listen(b,R)(w.fire,w),this.c.add(d)},onDidRemoveLastListener:()=>{this.c.delete(d),d.dispose(),this.c.size===0&&this.b&&this.b.trigger(()=>this.o())}});return w.event}get m(){if(!this.f){const h=this.j&&this.j.args?this.j.args:[],b=Object.create(null);b.env={...(0,k.$8m)(process.env),VSCODE_PARENT_PID:String(process.pid)},this.j&&this.j.env&&(b.env={...b.env,...this.j.env}),this.j&&this.j.freshExecArgv&&(b.execArgv=[]),this.j&&typeof this.j.debug=="number"&&(b.execArgv=["--nolazy","--inspect="+this.j.debug]),this.j&&typeof this.j.debugBrk=="number"&&(b.execArgv=["--nolazy","--inspect-brk="+this.j.debugBrk]),b.execArgv===void 0&&(b.execArgv=process.execArgv.filter(n=>!/^--inspect(-brk)?=/.test(n)).filter(n=>!n.startsWith("--vscode-"))),(0,g.$Bl)(b.env),this.d=(0,L.fork)(this.i,h,b);const R=new u.$Od;u.Event.fromNodeEventEmitter(this.d,"message",n=>n)(n=>{if((0,j.$2p)(n)){(0,j.log)(n,`IPC Library: ${this.j.serverName}`);return}R.fire(D.$ce.wrap(Buffer.from(n,"base64")))});const w=this.j.useQueue?(0,I.$Dl)(this.d):this.d,s=n=>this.d&&this.d.connected&&w.send(n.buffer.toString("base64")),r=R.event,t={send:s,onMessage:r};this.f=new f.$th(t);const i=()=>this.o();process.once("exit",i),this.d.on("error",n=>console.warn('IPC "'+this.j.serverName+'" errored with '+n)),this.d.on("exit",(n,o)=>{process.removeListener("exit",i),this.c.forEach(l=>(0,c.$Nc)(l)),this.c.clear(),n!==0&&o!=="SIGTERM"&&console.warn('IPC "'+this.j.serverName+'" crashed with exit code '+n+" and signal "+o),this.b?.cancel(),this.o(),this.h.fire({code:n,signal:o})})}return this.f}n(h){let b=this.g.get(h);return b||(b=this.m.getChannel(h),this.g.set(h,b)),b}o(){this.f&&(this.d&&(this.d.kill(),this.d=null),this.f=null,this.g.clear())}dispose(){this.h.dispose(),this.b?.cancel(),this.b=void 0,this.o(),this.c.clear()}}e.$7p=y}),define(te[86],ne([0,1,8,4,2,46,3]),function(J,e,L,N,D,A,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$7o=e.$6o=e.StorageState=e.$5o=e.StorageHint=void 0;var v;(function(g){g[g.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",g[g.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(v||(e.StorageHint=v={}));function u(g){const f=g;return f?.changed instanceof Map||f?.deleted instanceof Set}e.$5o=u;var c;(function(g){g[g.None=0]="None",g[g.Initialized=1]="Initialized",g[g.Closed=2]="Closed"})(c||(e.StorageState=c={}));class k extends D.$Sc{static{this.a=100}constructor(f,S=Object.create(null)){super(),this.r=f,this.s=S,this.b=this.B(new N.$Rd),this.onDidChangeStorage=this.b.event,this.c=c.None,this.f=new Map,this.g=this.B(new L.$Sg(k.a)),this.h=new Set,this.j=new Map,this.m=void 0,this.n=[],this.t()}t(){this.B(this.r.onDidChangeItemsExternal(f=>this.u(f)))}u(f){this.b.pause();try{f.changed?.forEach((S,y)=>this.w(y,S)),f.deleted?.forEach(S=>this.w(S,void 0))}finally{this.b.resume()}}w(f,S){if(this.c===c.Closed)return;let y=!1;(0,j.$If)(S)?y=this.f.delete(f):this.f.get(f)!==S&&(this.f.set(f,S),y=!0),y&&this.b.fire({key:f,external:!0})}get items(){return this.f}get size(){return this.f.size}async init(){this.c===c.None&&(this.c=c.Initialized,this.s.hint!==v.STORAGE_DOES_NOT_EXIST&&(this.f=await this.r.getItems()))}get(f,S){const y=this.f.get(f);return(0,j.$If)(y)?S:y}getBoolean(f,S){const y=this.get(f);return(0,j.$If)(y)?S:y==="true"}getNumber(f,S){const y=this.get(f);return(0,j.$If)(y)?S:parseInt(y,10)}getObject(f,S){const y=this.get(f);return(0,j.$If)(y)?S:(0,A.$mh)(y)}async set(f,S,y=!1){if(this.c===c.Closed)return;if((0,j.$If)(S))return this.delete(f,y);const $=(0,j.$Bf)(S)||Array.isArray(S)?(0,A.$lh)(S):String(S);if(this.f.get(f)!==$)return this.f.set(f,$),this.j.set(f,$),this.h.delete(f),this.b.fire({key:f,external:y}),this.D()}async delete(f,S=!1){if(!(this.c===c.Closed||!this.f.delete(f)))return this.h.has(f)||this.h.add(f),this.j.delete(f),this.b.fire({key:f,external:S}),this.D()}async optimize(){if(this.c!==c.Closed)return await this.flush(0),this.r.optimize()}async close(){return this.m||(this.m=this.y()),this.m}async y(){this.c=c.Closed;try{await this.D(0)}catch{}await this.r.close(()=>this.f)}get z(){return this.j.size>0||this.h.size>0}async C(){if(!this.z)return;const f={insert:this.j,delete:this.h};return this.h=new Set,this.j=new Map,this.r.updateItems(f).finally(()=>{if(!this.z)for(;this.n.length;)this.n.pop()?.()})}async flush(f){if(this.z)return this.D(f)}async D(f){return this.s.hint===v.STORAGE_IN_MEMORY?this.C():this.g.trigger(()=>this.C(),f)}async whenFlushed(){if(this.z)return new Promise(f=>this.n.push(f))}isInMemory(){return this.s.hint===v.STORAGE_IN_MEMORY}}e.$6o=k;class I{constructor(){this.onDidChangeItemsExternal=N.Event.None,this.a=new Map}async getItems(){return this.a}async updateItems(f){f.insert?.forEach((S,y)=>this.a.set(y,S)),f.delete?.forEach(S=>this.a.delete(S))}async optimize(){}async close(){}}e.$7o=I}),define(te[87],ne([7,5]),function(J,e){return J.create("vs/base/node/zip",e)}),define(te[88],ne([7,5]),function(J,e){return J.create("vs/platform/configuration/common/configurationRegistry",e)}),define(te[89],ne([7,5]),function(J,e){return J.create("vs/platform/contextkey/common/contextkey",e)}),define(te[90],ne([7,5]),function(J,e){return J.create("vs/platform/contextkey/common/scanner",e)}),define(te[91],ne([7,5]),function(J,e){return J.create("vs/platform/extensionManagement/common/abstractExtensionManagementService",e)}),define(te[92],ne([7,5]),function(J,e){return J.create("vs/platform/extensionManagement/common/extensionManagement",e)}),define(te[93],ne([7,5]),function(J,e){return J.create("vs/platform/extensionManagement/common/extensionManagementCLI",e)}),define(te[94],ne([7,5]),function(J,e){return J.create("vs/platform/extensionManagement/common/extensionNls",e)}),define(te[95],ne([7,5]),function(J,e){return J.create("vs/platform/extensionManagement/common/extensionsScannerService",e)}),define(te[96],ne([7,5]),function(J,e){return J.create("vs/platform/extensionManagement/node/extensionManagementService",e)}),define(te[97],ne([7,5]),function(J,e){return J.create("vs/platform/extensionManagement/node/extensionManagementUtil",e)}),define(te[98],ne([7,5]),function(J,e){return J.create("vs/platform/extensions/common/extensionValidator",e)}),define(te[99],ne([7,5]),function(J,e){return J.create("vs/platform/files/common/fileService",e)}),define(te[100],ne([7,5]),function(J,e){return J.create("vs/platform/files/common/io",e)}),define(te[101],ne([7,5]),function(J,e){return J.create("vs/platform/files/node/diskFileSystemProvider",e)}),define(te[102],ne([7,5]),function(J,e){return J.create("vs/platform/languagePacks/common/languagePacks",e)}),define(te[103],ne([7,5]),function(J,e){return J.create("vs/platform/request/common/request",e)}),define(te[104],ne([7,5]),function(J,e){return J.create("vs/platform/shell/node/shellEnv",e)}),define(te[105],ne([7,5]),function(J,e){return J.create("vs/platform/telemetry/common/telemetryService",e)}),define(te[106],ne([7,5]),function(J,e){return J.create("vs/platform/userDataProfile/common/userDataProfile",e)}),define(te[107],ne([7,5]),function(J,e){return J.create("vs/platform/workspace/common/workspace",e)}),define(te[108],ne([0,1,9,90]),function(J,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Li=e.TokenType=void 0;var D;(function(c){c[c.LParen=0]="LParen",c[c.RParen=1]="RParen",c[c.Neg=2]="Neg",c[c.Eq=3]="Eq",c[c.NotEq=4]="NotEq",c[c.Lt=5]="Lt",c[c.LtEq=6]="LtEq",c[c.Gt=7]="Gt",c[c.GtEq=8]="GtEq",c[c.RegexOp=9]="RegexOp",c[c.RegexStr=10]="RegexStr",c[c.True=11]="True",c[c.False=12]="False",c[c.In=13]="In",c[c.Not=14]="Not",c[c.And=15]="And",c[c.Or=16]="Or",c[c.Str=17]="Str",c[c.QuotedStr=18]="QuotedStr",c[c.Error=19]="Error",c[c.EOF=20]="EOF"})(D||(e.TokenType=D={}));function A(...c){switch(c.length){case 1:return(0,N.localize)(0,null,c[0]);case 2:return(0,N.localize)(1,null,c[0],c[1]);case 3:return(0,N.localize)(2,null,c[0],c[1],c[2]);default:return}}const j=(0,N.localize)(3,null),v=(0,N.localize)(4,null);class u{constructor(){this.c="",this.d=0,this.e=0,this.f=[],this.g=[],this.m=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(k){switch(k.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return k.isTripleEq?"===":"==";case 4:return k.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return k.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return k.lexeme;case 18:return k.lexeme;case 19:return k.lexeme;case 20:return"EOF";default:throw(0,L.$8)(`unhandled token type: ${JSON.stringify(k)}; have you forgotten to add a case?`)}}static{this.a=new Set(["i","g","s","m","y","u"].map(k=>k.charCodeAt(0)))}static{this.b=new Map([["not",14],["in",13],["false",12],["true",11]])}get errors(){return this.g}reset(k){return this.c=k,this.d=0,this.e=0,this.f=[],this.g=[],this}scan(){for(;!this.r();)switch(this.d=this.e,this.i()){case 40:this.k(0);break;case 41:this.k(1);break;case 33:if(this.h(61)){const I=this.h(61);this.f.push({type:4,offset:this.d,isTripleEq:I})}else this.k(2);break;case 39:this.o();break;case 47:this.q();break;case 61:if(this.h(61)){const I=this.h(61);this.f.push({type:3,offset:this.d,isTripleEq:I})}else this.h(126)?this.k(9):this.l(A("==","=~"));break;case 60:this.k(this.h(61)?6:5);break;case 62:this.k(this.h(61)?8:7);break;case 38:this.h(38)?this.k(15):this.l(A("&&"));break;case 124:this.h(124)?this.k(16):this.l(A("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this.n()}return this.d=this.e,this.k(20),Array.from(this.f)}h(k){return this.r()||this.c.charCodeAt(this.e)!==k?!1:(this.e++,!0)}i(){return this.c.charCodeAt(this.e++)}j(){return this.r()?0:this.c.charCodeAt(this.e)}k(k){this.f.push({type:k,offset:this.d})}l(k){const I=this.d,g=this.c.substring(this.d,this.e),f={type:19,offset:this.d,lexeme:g};this.g.push({offset:I,lexeme:g,additionalInfo:k}),this.f.push(f)}n(){this.m.lastIndex=this.d;const k=this.m.exec(this.c);if(k){this.e=this.d+k[0].length;const I=this.c.substring(this.d,this.e),g=u.b.get(I);g?this.k(g):this.f.push({type:17,lexeme:I,offset:this.d})}}o(){for(;this.j()!==39&&!this.r();)this.i();if(this.r()){this.l(j);return}this.i(),this.f.push({type:18,lexeme:this.c.substring(this.d+1,this.e-1),offset:this.d+1})}q(){let k=this.e,I=!1,g=!1;for(;;){if(k>=this.c.length){this.e=k,this.l(v);return}const S=this.c.charCodeAt(k);if(I)I=!1;else if(S===47&&!g){k++;break}else S===91?g=!0:S===92?I=!0:S===93&&(g=!1);k++}for(;k<this.c.length&&u.a.has(this.c.charCodeAt(k));)k++;this.e=k;const f=this.c.substring(this.d,this.e);this.f.push({type:10,lexeme:f,offset:this.d})}r(){return this.e>=this.c.length}}e.$Li=u}),define(te[109],ne([0,1,76,52,15,16,35,17,11]),function(J,e,L,N,D,A,j,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$jm=e.$im=e.$hm=e.$gm=void 0,e.$gm=/^([^.]+\..+):(.+)$/;class c{get appRoot(){return(0,A.$mc)(D.$dg.asFileUri("").fsPath)}get userHome(){return u.URI.file(this.b.homeDir)}get userDataPath(){return this.b.userDataDir}get appSettingsHome(){return u.URI.file((0,A.$jc)(this.userDataPath,"User"))}get tmpDir(){return u.URI.file(this.b.tmpDir)}get cacheHome(){return u.URI.file(this.userDataPath)}get stateResource(){return(0,v.$wg)(this.appSettingsHome,"globalStorage","storage.json")}get userRoamingDataHome(){return this.appSettingsHome.with({scheme:D.Schemas.vscodeUserData})}get userDataSyncHome(){return(0,v.$wg)(this.appSettingsHome,"sync")}get logsHome(){if(!this.args.logsPath){const f=(0,L.$fm)(new Date).replace(/-|:|\.\d+Z$/g,"");this.args.logsPath=(0,A.$jc)(this.userDataPath,"logs",f)}return u.URI.file(this.args.logsPath)}get sync(){return this.args.sync}get machineSettingsResource(){return(0,v.$wg)(u.URI.file((0,A.$jc)(this.userDataPath,"Machine")),"settings.json")}get workspaceStorageHome(){return(0,v.$wg)(this.appSettingsHome,"workspaceStorage")}get localHistoryHome(){return(0,v.$wg)(this.appSettingsHome,"History")}get keyboardLayoutResource(){return(0,v.$wg)(this.userRoamingDataHome,"keyboardLayout.json")}get argvResource(){const f=j.env.VSCODE_PORTABLE;return f?u.URI.file((0,A.$jc)(f,"argv.json")):(0,v.$wg)(this.userHome,this.c.dataFolderName,"argv.json")}get isExtensionDevelopment(){return!!this.args.extensionDevelopmentPath}get untitledWorkspacesHome(){return u.URI.file((0,A.$jc)(this.userDataPath,"Workspaces"))}get builtinExtensionsPath(){const f=this.args["builtin-extensions-dir"];return f?(0,A.$kc)(f):(0,A.$hc)((0,A.$jc)(D.$dg.asFileUri("").fsPath,"..","extensions"))}get extensionsDownloadLocation(){const f=this.args["extensions-download-dir"];return f?u.URI.file((0,A.$kc)(f)):u.URI.file((0,A.$jc)(this.userDataPath,"CachedExtensionVSIXs"))}get extensionsPath(){const f=this.args["extensions-dir"];if(f)return(0,A.$kc)(f);const S=j.env.VSCODE_EXTENSIONS;if(S)return S;const y=j.env.VSCODE_PORTABLE;return y?(0,A.$jc)(y,"extensions"):(0,v.$wg)(this.userHome,this.c.dataFolderName,"extensions").fsPath}get extensionDevelopmentLocationURI(){const f=this.args.extensionDevelopmentPath;if(Array.isArray(f))return f.map(S=>/^[^:/?#]+?:\/\//.test(S)?u.URI.parse(S):u.URI.file((0,A.$hc)(S)))}get extensionDevelopmentKind(){return this.args.extensionDevelopmentKind?.map(f=>f==="ui"||f==="workspace"||f==="web"?f:"workspace")}get extensionTestsLocationURI(){const f=this.args.extensionTestsPath;if(f)return/^[^:/?#]+?:\/\//.test(f)?u.URI.parse(f):u.URI.file((0,A.$hc)(f))}get disableExtensions(){if(this.args["disable-extensions"])return!0;const f=this.args["disable-extension"];if(f){if(typeof f=="string")return[f];if(Array.isArray(f)&&f.length>0)return f}return!1}get debugExtensionHost(){return k(this.args,this.isBuilt)}get debugRenderer(){return!!this.args.debugRenderer}get isBuilt(){return!j.env.VSCODE_DEV}get verbose(){return!!this.args.verbose}get logLevel(){return this.args.log?.find(f=>!e.$gm.test(f))}get extensionLogLevel(){const f=[];for(const S of this.args.log||[]){const y=e.$gm.exec(S);y&&y[1]&&y[2]&&f.push([y[1],y[2]])}return f.length?f:void 0}get serviceMachineIdResource(){return(0,v.$wg)(u.URI.file(this.userDataPath),"machineid")}get crashReporterId(){return this.args["crash-reporter-id"]}get crashReporterDirectory(){return this.args["crash-reporter-directory"]}get disableTelemetry(){return!!this.args["disable-telemetry"]}get disableWorkspaceTrust(){return!!this.args["disable-workspace-trust"]}get useInMemorySecretStorage(){return!!this.args["use-inmemory-secretstorage"]}get policyFile(){if(this.args["__enable-file-policy"]){const f=j.env.VSCODE_PORTABLE;return f?u.URI.file((0,A.$jc)(f,"policy.json")):(0,v.$wg)(this.userHome,this.c.dataFolderName,"policy.json")}}get continueOn(){return this.args.continueOn}set continueOn(f){this.args.continueOn=f}get args(){return this.a}constructor(f,S,y){this.a=f,this.b=S,this.c=y,this.editSessionId=this.args.editSessionId}}e.$hm=c,pe([N.$ih],c.prototype,"appRoot",null),pe([N.$ih],c.prototype,"userHome",null),pe([N.$ih],c.prototype,"userDataPath",null),pe([N.$ih],c.prototype,"appSettingsHome",null),pe([N.$ih],c.prototype,"tmpDir",null),pe([N.$ih],c.prototype,"cacheHome",null),pe([N.$ih],c.prototype,"stateResource",null),pe([N.$ih],c.prototype,"userRoamingDataHome",null),pe([N.$ih],c.prototype,"userDataSyncHome",null),pe([N.$ih],c.prototype,"sync",null),pe([N.$ih],c.prototype,"machineSettingsResource",null),pe([N.$ih],c.prototype,"workspaceStorageHome",null),pe([N.$ih],c.prototype,"localHistoryHome",null),pe([N.$ih],c.prototype,"keyboardLayoutResource",null),pe([N.$ih],c.prototype,"argvResource",null),pe([N.$ih],c.prototype,"isExtensionDevelopment",null),pe([N.$ih],c.prototype,"untitledWorkspacesHome",null),pe([N.$ih],c.prototype,"builtinExtensionsPath",null),pe([N.$ih],c.prototype,"extensionsPath",null),pe([N.$ih],c.prototype,"extensionDevelopmentLocationURI",null),pe([N.$ih],c.prototype,"extensionDevelopmentKind",null),pe([N.$ih],c.prototype,"extensionTestsLocationURI",null),pe([N.$ih],c.prototype,"debugExtensionHost",null),pe([N.$ih],c.prototype,"logLevel",null),pe([N.$ih],c.prototype,"extensionLogLevel",null),pe([N.$ih],c.prototype,"serviceMachineIdResource",null),pe([N.$ih],c.prototype,"disableTelemetry",null),pe([N.$ih],c.prototype,"disableWorkspaceTrust",null),pe([N.$ih],c.prototype,"useInMemorySecretStorage",null),pe([N.$ih],c.prototype,"policyFile",null);function k(g,f){return I(g["inspect-extensions"],g["inspect-brk-extensions"],5870,f,g.debugId,g.extensionEnvironment)}e.$im=k;function I(g,f,S,y,$,h){const R=Number(f||g)||(y?null:S),d=R?!!f:!1;let w;if(h)try{w=JSON.parse(h)}catch{}return{port:R,break:d,debugId:$,env:w}}e.$jm=I}),function(){"use strict";function J(e,L,N){function D(j,v){const u=A(j,v),c=[u];return e.isAbsolute(u)||c.unshift(N),e.resolve(...c)}function A(j,v){process.env.VSCODE_DEV&&(v="code-oss-dev");const u=process.env.VSCODE_PORTABLE;if(u)return e.join(u,"user-data");let c=process.env.VSCODE_APPDATA;if(c)return e.join(c,v);const k=j["user-data-dir"];if(k)return k;switch(process.platform){case"win32":if(c=process.env.APPDATA,!c){const I=process.env.USERPROFILE;if(typeof I!="string")throw new Error("Windows: Unexpected undefined %USERPROFILE% environment variable");c=e.join(I,"AppData","Roaming")}break;case"darwin":c=e.join(L.homedir(),"Library","Application Support");break;case"linux":c=process.env.XDG_CONFIG_HOME||e.join(L.homedir(),".config");break;default:throw new Error("Platform not supported")}return e.join(c,v)}return{getUserDataPath:D}}if(typeof define=="function")define(te[110],ne([165,33,35]),function(e,L,N){return J(e,L,N.cwd())});else if(typeof module=="object"&&typeof module.exports=="object"){const e=require("path"),L=require("os");module.exports=J(e,L,process.env.VSCODE_CWD||process.cwd())}else throw new Error("Unknown context")}(),define(te[111],ne([0,1,33,109,110]),function(J,e,L,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$mm=e.$lm=e.$km=void 0;class A extends N.$hm{constructor(c,k){super(c,{homeDir:(0,L.homedir)(),tmpDir:(0,L.tmpdir)(),userDataDir:(0,D.getUserDataPath)(c,k.nameShort)},k)}}e.$km=A;function j(u,c){return(0,N.$jm)(u["inspect-ptyhost"],u["inspect-brk-ptyhost"],5877,c,u.extensionEnvironment)}e.$lm=j;function v(u,c){return(0,N.$jm)(u["inspect-sharedprocess"],u["inspect-brk-sharedprocess"],5879,c,u.extensionEnvironment)}e.$mm=v}),define(te[112],ne([0,1,3,94]),function(J,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Bp=void 0;function D(j,v,u,c){try{A(j,v,u,c)}catch(k){j.error(k?.message??k)}return v}e.$Bp=D;function A(j,v,u,c){const k=(I,g,f)=>{const S=I[g];if((0,L.$zf)(S)){const y=S,$=y.length;if($>1&&y[0]==="%"&&y[$-1]==="%"){const h=y.substr(1,$-2);let b=u[h];b===void 0&&c&&(b=c[h]);const R=typeof b=="string"?b:b?.message,d=c?.[h],w=typeof d=="string"?d:d?.message;if(!R){w||j.warn(`[${v.name}]: ${(0,N.localize)(0,null,h)}`);return}if(f&&(g==="title"||g==="category")&&w&&w!==R){const s={value:R,original:w};I[g]=s}else I[g]=R}}else if((0,L.$Bf)(S))for(const y in S)S.hasOwnProperty(y)&&(y==="commands"?k(S,y,!0):k(S,y,f));else if(Array.isArray(S))for(let y=0;y<S.length;y++)k(S,y,f)};for(const I in v)v.hasOwnProperty(I)&&k(v,I)}}),define(te[48],ne([0,1,17,54,98,42]),function(J,e,L,N,D,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Vo=e.$Uo=e.$To=e.$So=e.$Ro=e.$Qo=e.$Po=void 0;const j=/^(\^|>=)?((\d+)|x)\.((\d+)|x)\.((\d+)|x)(\-.*)?$/,v=/^-(\d{4})(\d{2})(\d{2})$/;function u(h){return h=h.trim(),h==="*"||j.test(h)}e.$Po=u;function c(h){if(!u(h))return null;if(h=h.trim(),h==="*")return{hasCaret:!1,hasGreaterEquals:!1,majorBase:0,majorMustEqual:!1,minorBase:0,minorMustEqual:!1,patchBase:0,patchMustEqual:!1,preRelease:null};const b=h.match(j);return b?{hasCaret:b[1]==="^",hasGreaterEquals:b[1]===">=",majorBase:b[2]==="x"?0:parseInt(b[2],10),majorMustEqual:b[2]!=="x",minorBase:b[4]==="x"?0:parseInt(b[4],10),minorMustEqual:b[4]!=="x",patchBase:b[6]==="x"?0:parseInt(b[6],10),patchMustEqual:b[6]!=="x",preRelease:b[8]||null}:null}e.$Qo=c;function k(h){if(!h)return null;const b=h.majorBase,R=h.majorMustEqual,d=h.minorBase;let w=h.minorMustEqual;const s=h.patchBase;let r=h.patchMustEqual;h.hasCaret&&(b===0||(w=!1),r=!1);let t=0;if(h.preRelease){const i=v.exec(h.preRelease);if(i){const[,n,o,l]=i;t=Date.UTC(Number(n),Number(o)-1,Number(l))}}return{majorBase:b,majorMustEqual:R,minorBase:d,minorMustEqual:w,patchBase:s,patchMustEqual:r,isMinimum:h.hasGreaterEquals,notBefore:t}}e.$Ro=k;function I(h,b,R){let d;typeof h=="string"?d=k(c(h)):d=h;let w;b instanceof Date?w=b.getTime():typeof b=="string"&&(w=new Date(b).getTime());let s;if(typeof R=="string"?s=k(c(R)):s=R,!d||!s)return!1;const r=d.majorBase,t=d.minorBase,i=d.patchBase;let n=s.majorBase,o=s.minorBase,l=s.patchBase;const P=s.notBefore;let E=s.majorMustEqual,p=s.minorMustEqual,O=s.patchMustEqual;return s.isMinimum?r>n?!0:r<n?!1:t>o?!0:t<o||w&&w<P?!1:i>=l:(r===1&&n===0&&(!E||!p||!O)&&(n=1,o=0,l=0,E=!0,p=!1,O=!1),r<n?!1:r>n?!E:t<o?!1:t>o?!p:i<l?!1:i>l?!O:!(w&&w<P))}e.$So=I;function g(h,b,R,d,w){const s=[];if(typeof d.publisher<"u"&&typeof d.publisher!="string")return s.push([N.default.Error,D.localize(0,null)]),s;if(typeof d.name!="string")return s.push([N.default.Error,D.localize(1,null,"name")]),s;if(typeof d.version!="string")return s.push([N.default.Error,D.localize(2,null,"version")]),s;if(!d.engines)return s.push([N.default.Error,D.localize(3,null,"engines")]),s;if(typeof d.engines.vscode!="string")return s.push([N.default.Error,D.localize(4,null,"engines.vscode")]),s;if(typeof d.extensionDependencies<"u"&&!$(d.extensionDependencies))return s.push([N.default.Error,D.localize(5,null,"extensionDependencies")]),s;if(typeof d.activationEvents<"u"){if(!$(d.activationEvents))return s.push([N.default.Error,D.localize(6,null,"activationEvents")]),s;if(typeof d.main>"u"&&typeof d.browser>"u")return s.push([N.default.Error,D.localize(7,null,"activationEvents","main","browser")]),s}if(typeof d.extensionKind<"u"&&typeof d.main>"u"&&s.push([N.default.Warning,D.localize(8,null,"extensionKind")]),typeof d.main<"u"){if(typeof d.main!="string")return s.push([N.default.Error,D.localize(9,null,"main")]),s;{const i=(0,L.$wg)(R,d.main);(0,L.$qg)(i,R)||s.push([N.default.Warning,D.localize(10,null,i.path,R.path)])}}if(typeof d.browser<"u"){if(typeof d.browser!="string")return s.push([N.default.Error,D.localize(11,null,"browser")]),s;{const i=(0,L.$wg)(R,d.browser);(0,L.$qg)(i,R)||s.push([N.default.Warning,D.localize(12,null,i.path,R.path)])}}if(!A.valid(d.version))return s.push([N.default.Error,D.localize(13,null)]),s;const r=[];if(!f(h,b,d,w,r))for(const i of r)s.push([N.default.Error,i]);return s}e.$To=g;function f(h,b,R,d,w){return d||typeof R.main>"u"&&typeof R.browser>"u"?!0:y(h,b,R.engines.vscode,w)}e.$Uo=f;function S(h,b,R){return h==="*"||y(b,R,h)}e.$Vo=S;function y(h,b,R,d=[]){const w=k(c(R));if(!w)return d.push(D.localize(14,null,R)),!1;if(w.majorBase===0){if(!w.majorMustEqual||!w.minorMustEqual)return d.push(D.localize(15,null,R)),!1}else if(!w.majorMustEqual)return d.push(D.localize(16,null,R)),!1;return I(h,b,w)?!0:(d.push(D.localize(17,null,h,R)),!1)}function $(h){if(!Array.isArray(h))return!1;for(let b=0,R=h.length;b<R;b++)if(typeof h[b]!="string")return!1;return!0}}),define(te[113],ne([0,1,14,28]),function(J,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$dp=void 0;async function D(A,j,v){let u=v&&v.get("storage.serviceMachineId",-1)||null;if(u)return u;try{const k=(await j.readFile(A.serviceMachineIdResource)).value.toString();u=(0,N.$eg)(k)?k:null}catch{u=null}if(!u){u=(0,N.$fg)();try{await j.writeFile(A.serviceMachineIdResource,L.$ce.fromString(u))}catch{}}return v?.store("storage.serviceMachineId",u,-1,1),u}e.$dp=D}),define(te[49],ne([0,1]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Nh=void 0;class L{constructor(D,A=[],j=!1){this.ctor=D,this.staticArguments=A,this.supportsDelayedInstantiation=j}}e.$Nh=L}),define(te[114],ne([0,1,49]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Br=e.$Ar=e.InstantiationType=void 0;const N=[];var D;(function(v){v[v.Eager=0]="Eager",v[v.Delayed=1]="Delayed"})(D||(e.InstantiationType=D={}));function A(v,u,c){u instanceof L.$Nh||(u=new L.$Nh(u,[],!!c)),N.push([v,u])}e.$Ar=A;function j(){return N}e.$Br=j}),define(te[115],ne([0,1]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$gq=e.$fq=void 0;class L{constructor(A,j){this.key=A,this.data=j,this.incoming=new Map,this.outgoing=new Map}}e.$fq=L;class N{constructor(A){this.b=A,this.a=new Map}roots(){const A=[];for(const j of this.a.values())j.outgoing.size===0&&A.push(j);return A}insertEdge(A,j){const v=this.lookupOrInsertNode(A),u=this.lookupOrInsertNode(j);v.outgoing.set(u.key,u),u.incoming.set(v.key,v)}removeNode(A){const j=this.b(A);this.a.delete(j);for(const v of this.a.values())v.outgoing.delete(j),v.incoming.delete(j)}lookupOrInsertNode(A){const j=this.b(A);let v=this.a.get(j);return v||(v=new L(j,A),this.a.set(j,v)),v}lookup(A){return this.a.get(this.b(A))}isEmpty(){return this.a.size===0}toString(){const A=[];for(const[j,v]of this.a)A.push(`${j}
	(-> incoming)[${[...v.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...v.outgoing.keys()].join(",")}]
`);return A.join(`
`)}findCycleSlow(){for(const[A,j]of this.a){const v=new Set([A]),u=this.c(j,v);if(u)return u}}c(A,j){for(const[v,u]of A.outgoing){if(j.has(v))return[...j,v].join(" -> ");j.add(v);const c=this.c(u,j);if(c)return c;j.delete(v)}}}e.$gq=N}),define(te[25],ne([0,1,3,11,10]),function(J,e,L,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ui=e.$ti=e.$si=e.$ri=e.$qi=e.$pi=e.$oi=e.$ni=e.ConfigurationTarget=e.$mi=e.$li=e.$ki=void 0,e.$ki=(0,D.$Qh)("configurationService");function A(h){return h&&typeof h=="object"&&(!h.overrideIdentifier||typeof h.overrideIdentifier=="string")&&(!h.resource||h.resource instanceof N.URI)}e.$li=A;function j(h){return h&&typeof h=="object"&&(!h.overrideIdentifiers||Array.isArray(h.overrideIdentifiers))&&!h.overrideIdentifier&&(!h.resource||h.resource instanceof N.URI)}e.$mi=j;var v;(function(h){h[h.APPLICATION=1]="APPLICATION",h[h.USER=2]="USER",h[h.USER_LOCAL=3]="USER_LOCAL",h[h.USER_REMOTE=4]="USER_REMOTE",h[h.WORKSPACE=5]="WORKSPACE",h[h.WORKSPACE_FOLDER=6]="WORKSPACE_FOLDER",h[h.DEFAULT=7]="DEFAULT",h[h.MEMORY=8]="MEMORY"})(v||(e.ConfigurationTarget=v={}));function u(h){switch(h){case 1:return"APPLICATION";case 2:return"USER";case 3:return"USER_LOCAL";case 4:return"USER_REMOTE";case 5:return"WORKSPACE";case 6:return"WORKSPACE_FOLDER";case 7:return"DEFAULT";case 8:return"MEMORY"}}e.$ni=u;function c(h){return h.applicationValue!==void 0||h.userValue!==void 0||h.userLocalValue!==void 0||h.userRemoteValue!==void 0||h.workspaceValue!==void 0||h.workspaceFolderValue!==void 0}e.$oi=c;function k(h,b){const R=Object.create(null);for(const d in h)I(R,d,h[d],b);return R}e.$pi=k;function I(h,b,R,d){const w=b.split("."),s=w.pop();let r=h;for(let t=0;t<w.length;t++){const i=w[t];let n=r[i];switch(typeof n){case"undefined":n=r[i]=Object.create(null);break;case"object":break;default:d(`Ignoring ${b} as ${w.slice(0,t+1).join(".")} is ${JSON.stringify(n)}`);return}r=n}if(typeof r=="object"&&r!==null)try{r[s]=R}catch{d(`Ignoring ${b} as ${w.join(".")} is ${JSON.stringify(r)}`)}else d(`Ignoring ${b} as ${w.join(".")} is ${JSON.stringify(r)}`)}e.$qi=I;function g(h,b){const R=b.split(".");f(h,R)}e.$ri=g;function f(h,b){const R=b.shift();if(b.length===0){delete h[R];return}if(Object.keys(h).indexOf(R)!==-1){const d=h[R];typeof d=="object"&&!Array.isArray(d)&&(f(d,b),Object.keys(d).length===0&&delete h[R])}}function S(h,b,R){function d(r,t){let i=r;for(const n of t){if(typeof i!="object"||i===null)return;i=i[n]}return i}const w=b.split("."),s=d(h,w);return typeof s>"u"?R:s}e.$si=S;function y(h,b,R){Object.keys(b).forEach(d=>{d!=="__proto__"&&(d in h?L.$Bf(h[d])&&L.$Bf(b[d])?y(h[d],b[d],R):R&&(h[d]=b[d]):h[d]=b[d])})}e.$ti=y;function $(h){return h.replace(/[\[\]]/g,"")}e.$ui=$}),define(te[116],ne([0,1,13,29,108,10,89,9]),function(J,e,L,N,D,A,j,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$0i=e.$9i=e.$8i=e.$7i=e.$6i=e.$5i=e.$4i=e.$3i=e.$2i=e.$1i=e.$Zi=e.$Yi=e.$Xi=e.$Wi=e.$Vi=e.$Ui=e.$Ti=e.$Si=e.$Ri=e.$Qi=e.$Pi=e.$Oi=e.$Ni=e.ContextKeyExprType=e.$Mi=void 0;const u=new Map;u.set("false",!1),u.set("true",!0),u.set("isMac",L.$k),u.set("isLinux",L.$l),u.set("isWindows",L.$j),u.set("isWeb",L.$p),u.set("isMacNative",L.$k&&!L.$p),u.set("isEdge",L.$H),u.set("isFirefox",L.$F),u.set("isChrome",L.$E),u.set("isSafari",L.$G);function c(F,a){if(u.get(F)!==void 0)throw(0,v.$7)("contextkey.setConstant(k, v) invoked with already set constant `k`");u.set(F,a)}e.$Mi=c;const k=Object.prototype.hasOwnProperty;var I;(function(F){F[F.False=0]="False",F[F.True=1]="True",F[F.Defined=2]="Defined",F[F.Not=3]="Not",F[F.Equals=4]="Equals",F[F.NotEquals=5]="NotEquals",F[F.And=6]="And",F[F.Regex=7]="Regex",F[F.NotRegex=8]="NotRegex",F[F.Or=9]="Or",F[F.In=10]="In",F[F.NotIn=11]="NotIn",F[F.Greater=12]="Greater",F[F.GreaterEquals=13]="GreaterEquals",F[F.Smaller=14]="Smaller",F[F.SmallerEquals=15]="SmallerEquals"})(I||(e.ContextKeyExprType=I={}));const g={regexParsingWithErrorRecovery:!0},f=(0,j.localize)(0,null),S=(0,j.localize)(1,null),y=(0,j.localize)(2,null),$=(0,j.localize)(3,null),h=(0,j.localize)(4,null),b=(0,j.localize)(5,null),R=(0,j.localize)(6,null),d=(0,j.localize)(7,null);class w{static{this.c=new Error}get lexingErrors(){return this.d.errors}get parsingErrors(){return this.h}constructor(a=g){this.k=a,this.d=new D.$Li,this.f=[],this.g=0,this.h=[],this.v=/g|y/g}parse(a){if(a===""){this.h.push({message:f,offset:0,lexeme:"",additionalInfo:S});return}this.f=this.d.reset(a).scan(),this.g=0,this.h=[];try{const m=this.l();if(!this.E()){const z=this.D(),U=z.type===17?b:void 0;throw this.h.push({message:h,offset:z.offset,lexeme:D.$Li.getLexeme(z),additionalInfo:U}),w.c}return m}catch(m){if(m!==w.c)throw m;return}}l(){return this.m()}m(){const a=[this.o()];for(;this.y(16);){const m=this.o();a.push(m)}return a.length===1?a[0]:s.or(...a)}o(){const a=[this.s()];for(;this.y(15);){const m=this.s();a.push(m)}return a.length===1?a[0]:s.and(...a)}s(){if(this.y(2)){const a=this.D();switch(a.type){case 11:return this.z(),n.INSTANCE;case 12:return this.z(),o.INSTANCE;case 0:{this.z();const m=this.l();return this.A(1,$),m?.negate()}case 17:return this.z(),B.create(a.lexeme);default:throw this.B("KEY | true | false | '(' expression ')'",a)}}return this.t()}t(){const a=this.D();switch(a.type){case 11:return this.z(),s.true();case 12:return this.z(),s.false();case 0:{this.z();const m=this.l();return this.A(1,$),m}case 17:{const m=a.lexeme;if(this.z(),this.y(9)){const U=this.D();if(!this.k.regexParsingWithErrorRecovery){if(this.z(),U.type!==10)throw this.B("REGEX",U);const Q=U.lexeme,W=Q.lastIndexOf("/"),le=W===Q.length-1?void 0:this.w(Q.substring(W+1));let ae;try{ae=new RegExp(Q.substring(1,W),le)}catch{throw this.B("REGEX",U)}return ce.create(m,ae)}switch(U.type){case 10:case 19:{const Q=[U.lexeme];this.z();let W=this.D(),le=0;for(let fe=0;fe<U.lexeme.length;fe++)U.lexeme.charCodeAt(fe)===40?le++:U.lexeme.charCodeAt(fe)===41&&le--;for(;!this.E()&&W.type!==15&&W.type!==16;){switch(W.type){case 0:le++;break;case 1:le--;break;case 10:case 18:for(let fe=0;fe<W.lexeme.length;fe++)W.lexeme.charCodeAt(fe)===40?le++:U.lexeme.charCodeAt(fe)===41&&le--}if(le<0)break;Q.push(D.$Li.getLexeme(W)),this.z(),W=this.D()}const ae=Q.join(""),me=ae.lastIndexOf("/"),de=me===ae.length-1?void 0:this.w(ae.substring(me+1));let ge;try{ge=new RegExp(ae.substring(1,me),de)}catch{throw this.B("REGEX",U)}return s.regex(m,ge)}case 18:{const Q=U.lexeme;this.z();let W=null;if(!(0,N.$Ce)(Q)){const le=Q.indexOf("/"),ae=Q.lastIndexOf("/");if(le!==ae&&le>=0){const me=Q.slice(le+1,ae),de=Q[ae+1]==="i"?"i":"";try{W=new RegExp(me,de)}catch{throw this.B("REGEX",U)}}}if(W===null)throw this.B("REGEX",U);return ce.create(m,W)}default:throw this.B("REGEX",this.D())}}if(this.y(14)){this.A(13,y);const U=this.u();return s.notIn(m,U)}switch(this.D().type){case 3:{this.z();const U=this.u();if(this.x().type===18)return s.equals(m,U);switch(U){case"true":return s.has(m);case"false":return s.not(m);default:return s.equals(m,U)}}case 4:{this.z();const U=this.u();if(this.x().type===18)return s.notEquals(m,U);switch(U){case"true":return s.not(m);case"false":return s.has(m);default:return s.notEquals(m,U)}}case 5:return this.z(),se.create(m,this.u());case 6:return this.z(),ue.create(m,this.u());case 7:return this.z(),ee.create(m,this.u());case 8:return this.z(),oe.create(m,this.u());case 13:return this.z(),s.in(m,this.u());default:return s.has(m)}}case 20:throw this.h.push({message:R,offset:a.offset,lexeme:"",additionalInfo:d}),w.c;default:throw this.B(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this.D())}}u(){const a=this.D();switch(a.type){case 17:case 18:return this.z(),a.lexeme;case 11:return this.z(),"true";case 12:return this.z(),"false";case 13:return this.z(),"in";default:return""}}w(a){return a.replaceAll(this.v,"")}x(){return this.f[this.g-1]}y(a){return this.C(a)?(this.z(),!0):!1}z(){return this.E()||this.g++,this.x()}A(a,m){if(this.C(a))return this.z();throw this.B(m,this.D())}B(a,m,z){const U=(0,j.localize)(8,null,a,D.$Li.getLexeme(m)),Q=m.offset,W=D.$Li.getLexeme(m);return this.h.push({message:U,offset:Q,lexeme:W,additionalInfo:z}),w.c}C(a){return this.D().type===a}D(){return this.f[this.g]}E(){return this.D().type===20}}e.$Ni=w;class s{static false(){return n.INSTANCE}static true(){return o.INSTANCE}static has(a){return l.create(a)}static equals(a,m){return P.create(a,m)}static notEquals(a,m){return O.create(a,m)}static regex(a,m){return ce.create(a,m)}static in(a,m){return E.create(a,m)}static notIn(a,m){return p.create(a,m)}static not(a){return B.create(a)}static and(...a){return X.create(a,null,!0)}static or(...a){return T.create(a,null,!0)}static greater(a,m){return ee.create(a,m)}static greaterEquals(a,m){return oe.create(a,m)}static smaller(a,m){return se.create(a,m)}static smallerEquals(a,m){return ue.create(a,m)}static{this.c=new w({regexParsingWithErrorRecovery:!1})}static deserialize(a){return a==null?void 0:this.c.parse(a)}}e.$Oi=s;function r(F){const a=new w({regexParsingWithErrorRecovery:!1});return F.map(m=>(a.parse(m),a.lexingErrors.length>0?a.lexingErrors.map(z=>({errorMessage:z.additionalInfo?(0,j.localize)(9,null,z.additionalInfo):(0,j.localize)(10,null),offset:z.offset,length:z.lexeme.length})):a.parsingErrors.length>0?a.parsingErrors.map(z=>({errorMessage:z.additionalInfo?`${z.message}. ${z.additionalInfo}`:z.message,offset:z.offset,length:z.lexeme.length})):[]))}e.$Pi=r;function t(F,a){const m=F?F.substituteConstants():void 0,z=a?a.substituteConstants():void 0;return!m&&!z?!0:!m||!z?!1:m.equals(z)}e.$Qi=t;function i(F,a){return F.cmp(a)}class n{static{this.INSTANCE=new n}constructor(){this.type=0}cmp(a){return this.type-a.type}equals(a){return a.type===this.type}substituteConstants(){return this}evaluate(a){return!1}serialize(){return"false"}keys(){return[]}map(a){return this}negate(){return o.INSTANCE}}e.$Ri=n;class o{static{this.INSTANCE=new o}constructor(){this.type=1}cmp(a){return this.type-a.type}equals(a){return a.type===this.type}substituteConstants(){return this}evaluate(a){return!0}serialize(){return"true"}keys(){return[]}map(a){return this}negate(){return n.INSTANCE}}e.$Si=o;class l{static create(a,m=null){const z=u.get(a);return typeof z=="boolean"?z?o.INSTANCE:n.INSTANCE:new l(a,m)}constructor(a,m){this.key=a,this.c=m,this.type=2}cmp(a){return a.type!==this.type?this.type-a.type:H(this.key,a.key)}equals(a){return a.type===this.type?this.key===a.key:!1}substituteConstants(){const a=u.get(this.key);return typeof a=="boolean"?a?o.INSTANCE:n.INSTANCE:this}evaluate(a){return!!a.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(a){return a.mapDefined(this.key)}negate(){return this.c||(this.c=B.create(this.key,this)),this.c}}e.$Ti=l;class P{static create(a,m,z=null){if(typeof m=="boolean")return m?l.create(a,z):B.create(a,z);const U=u.get(a);return typeof U=="boolean"?m===(U?"true":"false")?o.INSTANCE:n.INSTANCE:new P(a,m,z)}constructor(a,m,z){this.c=a,this.d=m,this.f=z,this.type=4}cmp(a){return a.type!==this.type?this.type-a.type:G(this.c,this.d,a.c,a.d)}equals(a){return a.type===this.type?this.c===a.c&&this.d===a.d:!1}substituteConstants(){const a=u.get(this.c);if(typeof a=="boolean"){const m=a?"true":"false";return this.d===m?o.INSTANCE:n.INSTANCE}return this}evaluate(a){return a.getValue(this.c)==this.d}serialize(){return`${this.c} == '${this.d}'`}keys(){return[this.c]}map(a){return a.mapEquals(this.c,this.d)}negate(){return this.f||(this.f=O.create(this.c,this.d,this)),this.f}}e.$Ui=P;class E{static create(a,m){return new E(a,m)}constructor(a,m){this.d=a,this.f=m,this.type=10,this.c=null}cmp(a){return a.type!==this.type?this.type-a.type:G(this.d,this.f,a.d,a.f)}equals(a){return a.type===this.type?this.d===a.d&&this.f===a.f:!1}substituteConstants(){return this}evaluate(a){const m=a.getValue(this.f),z=a.getValue(this.d);return Array.isArray(m)?m.includes(z):typeof z=="string"&&typeof m=="object"&&m!==null?k.call(m,z):!1}serialize(){return`${this.d} in '${this.f}'`}keys(){return[this.d,this.f]}map(a){return a.mapIn(this.d,this.f)}negate(){return this.c||(this.c=p.create(this.d,this.f)),this.c}}e.$Vi=E;class p{static create(a,m){return new p(a,m)}constructor(a,m){this.d=a,this.f=m,this.type=11,this.c=E.create(a,m)}cmp(a){return a.type!==this.type?this.type-a.type:this.c.cmp(a.c)}equals(a){return a.type===this.type?this.c.equals(a.c):!1}substituteConstants(){return this}evaluate(a){return!this.c.evaluate(a)}serialize(){return`${this.d} not in '${this.f}'`}keys(){return this.c.keys()}map(a){return a.mapNotIn(this.d,this.f)}negate(){return this.c}}e.$Wi=p;class O{static create(a,m,z=null){if(typeof m=="boolean")return m?B.create(a,z):l.create(a,z);const U=u.get(a);return typeof U=="boolean"?m===(U?"true":"false")?n.INSTANCE:o.INSTANCE:new O(a,m,z)}constructor(a,m,z){this.c=a,this.d=m,this.f=z,this.type=5}cmp(a){return a.type!==this.type?this.type-a.type:G(this.c,this.d,a.c,a.d)}equals(a){return a.type===this.type?this.c===a.c&&this.d===a.d:!1}substituteConstants(){const a=u.get(this.c);if(typeof a=="boolean"){const m=a?"true":"false";return this.d===m?n.INSTANCE:o.INSTANCE}return this}evaluate(a){return a.getValue(this.c)!=this.d}serialize(){return`${this.c} != '${this.d}'`}keys(){return[this.c]}map(a){return a.mapNotEquals(this.c,this.d)}negate(){return this.f||(this.f=P.create(this.c,this.d,this)),this.f}}e.$Xi=O;class B{static create(a,m=null){const z=u.get(a);return typeof z=="boolean"?z?n.INSTANCE:o.INSTANCE:new B(a,m)}constructor(a,m){this.c=a,this.d=m,this.type=3}cmp(a){return a.type!==this.type?this.type-a.type:H(this.c,a.c)}equals(a){return a.type===this.type?this.c===a.c:!1}substituteConstants(){const a=u.get(this.c);return typeof a=="boolean"?a?n.INSTANCE:o.INSTANCE:this}evaluate(a){return!a.getValue(this.c)}serialize(){return`!${this.c}`}keys(){return[this.c]}map(a){return a.mapNot(this.c)}negate(){return this.d||(this.d=l.create(this.c,this)),this.d}}e.$Yi=B;function _(F,a){if(typeof F=="string"){const m=parseFloat(F);isNaN(m)||(F=m)}return typeof F=="string"||typeof F=="number"?a(F):n.INSTANCE}class ee{static create(a,m,z=null){return _(m,U=>new ee(a,U,z))}constructor(a,m,z){this.c=a,this.d=m,this.f=z,this.type=12}cmp(a){return a.type!==this.type?this.type-a.type:G(this.c,this.d,a.c,a.d)}equals(a){return a.type===this.type?this.c===a.c&&this.d===a.d:!1}substituteConstants(){return this}evaluate(a){return typeof this.d=="string"?!1:parseFloat(a.getValue(this.c))>this.d}serialize(){return`${this.c} > ${this.d}`}keys(){return[this.c]}map(a){return a.mapGreater(this.c,this.d)}negate(){return this.f||(this.f=ue.create(this.c,this.d,this)),this.f}}e.$Zi=ee;class oe{static create(a,m,z=null){return _(m,U=>new oe(a,U,z))}constructor(a,m,z){this.c=a,this.d=m,this.f=z,this.type=13}cmp(a){return a.type!==this.type?this.type-a.type:G(this.c,this.d,a.c,a.d)}equals(a){return a.type===this.type?this.c===a.c&&this.d===a.d:!1}substituteConstants(){return this}evaluate(a){return typeof this.d=="string"?!1:parseFloat(a.getValue(this.c))>=this.d}serialize(){return`${this.c} >= ${this.d}`}keys(){return[this.c]}map(a){return a.mapGreaterEquals(this.c,this.d)}negate(){return this.f||(this.f=se.create(this.c,this.d,this)),this.f}}e.$1i=oe;class se{static create(a,m,z=null){return _(m,U=>new se(a,U,z))}constructor(a,m,z){this.c=a,this.d=m,this.f=z,this.type=14}cmp(a){return a.type!==this.type?this.type-a.type:G(this.c,this.d,a.c,a.d)}equals(a){return a.type===this.type?this.c===a.c&&this.d===a.d:!1}substituteConstants(){return this}evaluate(a){return typeof this.d=="string"?!1:parseFloat(a.getValue(this.c))<this.d}serialize(){return`${this.c} < ${this.d}`}keys(){return[this.c]}map(a){return a.mapSmaller(this.c,this.d)}negate(){return this.f||(this.f=oe.create(this.c,this.d,this)),this.f}}e.$2i=se;class ue{static create(a,m,z=null){return _(m,U=>new ue(a,U,z))}constructor(a,m,z){this.c=a,this.d=m,this.f=z,this.type=15}cmp(a){return a.type!==this.type?this.type-a.type:G(this.c,this.d,a.c,a.d)}equals(a){return a.type===this.type?this.c===a.c&&this.d===a.d:!1}substituteConstants(){return this}evaluate(a){return typeof this.d=="string"?!1:parseFloat(a.getValue(this.c))<=this.d}serialize(){return`${this.c} <= ${this.d}`}keys(){return[this.c]}map(a){return a.mapSmallerEquals(this.c,this.d)}negate(){return this.f||(this.f=ee.create(this.c,this.d,this)),this.f}}e.$3i=ue;class ce{static create(a,m){return new ce(a,m)}constructor(a,m){this.d=a,this.f=m,this.type=7,this.c=null}cmp(a){if(a.type!==this.type)return this.type-a.type;if(this.d<a.d)return-1;if(this.d>a.d)return 1;const m=this.f?this.f.source:"",z=a.f?a.f.source:"";return m<z?-1:m>z?1:0}equals(a){if(a.type===this.type){const m=this.f?this.f.source:"",z=a.f?a.f.source:"";return this.d===a.d&&m===z}return!1}substituteConstants(){return this}evaluate(a){const m=a.getValue(this.d);return this.f?this.f.test(m):!1}serialize(){const a=this.f?`/${this.f.source}/${this.f.flags}`:"/invalid/";return`${this.d} =~ ${a}`}keys(){return[this.d]}map(a){return a.mapRegex(this.d,this.f)}negate(){return this.c||(this.c=re.create(this)),this.c}}e.$4i=ce;class re{static create(a){return new re(a)}constructor(a){this.c=a,this.type=8}cmp(a){return a.type!==this.type?this.type-a.type:this.c.cmp(a.c)}equals(a){return a.type===this.type?this.c.equals(a.c):!1}substituteConstants(){return this}evaluate(a){return!this.c.evaluate(a)}serialize(){return`!(${this.c.serialize()})`}keys(){return this.c.keys()}map(a){return new re(this.c.map(a))}negate(){return this.c}}e.$5i=re;function q(F){let a=null;for(let m=0,z=F.length;m<z;m++){const U=F[m].substituteConstants();if(F[m]!==U&&a===null){a=[];for(let Q=0;Q<m;Q++)a[Q]=F[Q]}a!==null&&(a[m]=U)}return a===null?F:a}class X{static create(a,m,z){return X.d(a,m,z)}constructor(a,m){this.expr=a,this.c=m,this.type=6}cmp(a){if(a.type!==this.type)return this.type-a.type;if(this.expr.length<a.expr.length)return-1;if(this.expr.length>a.expr.length)return 1;for(let m=0,z=this.expr.length;m<z;m++){const U=i(this.expr[m],a.expr[m]);if(U!==0)return U}return 0}equals(a){if(a.type===this.type){if(this.expr.length!==a.expr.length)return!1;for(let m=0,z=this.expr.length;m<z;m++)if(!this.expr[m].equals(a.expr[m]))return!1;return!0}return!1}substituteConstants(){const a=q(this.expr);return a===this.expr?this:X.create(a,this.c,!1)}evaluate(a){for(let m=0,z=this.expr.length;m<z;m++)if(!this.expr[m].evaluate(a))return!1;return!0}static d(a,m,z){const U=[];let Q=!1;for(const W of a)if(W){if(W.type===1){Q=!0;continue}if(W.type===0)return n.INSTANCE;if(W.type===6){U.push(...W.expr);continue}U.push(W)}if(U.length===0&&Q)return o.INSTANCE;if(U.length!==0){if(U.length===1)return U[0];U.sort(i);for(let W=1;W<U.length;W++)U[W-1].equals(U[W])&&(U.splice(W,1),W--);if(U.length===1)return U[0];for(;U.length>1;){const W=U[U.length-1];if(W.type!==9)break;U.pop();const le=U.pop(),ae=U.length===0,me=T.create(W.expr.map(de=>X.create([de,le],null,z)),null,ae);me&&(U.push(me),U.sort(i))}if(U.length===1)return U[0];if(z){for(let W=0;W<U.length;W++)for(let le=W+1;le<U.length;le++)if(U[W].negate().equals(U[le]))return n.INSTANCE;if(U.length===1)return U[0]}return new X(U,m)}}serialize(){return this.expr.map(a=>a.serialize()).join(" && ")}keys(){const a=[];for(const m of this.expr)a.push(...m.keys());return a}map(a){return new X(this.expr.map(m=>m.map(a)),null)}negate(){if(!this.c){const a=[];for(const m of this.expr)a.push(m.negate());this.c=T.create(a,this,!0)}return this.c}}e.$6i=X;class T{static create(a,m,z){return T.d(a,m,z)}constructor(a,m){this.expr=a,this.c=m,this.type=9}cmp(a){if(a.type!==this.type)return this.type-a.type;if(this.expr.length<a.expr.length)return-1;if(this.expr.length>a.expr.length)return 1;for(let m=0,z=this.expr.length;m<z;m++){const U=i(this.expr[m],a.expr[m]);if(U!==0)return U}return 0}equals(a){if(a.type===this.type){if(this.expr.length!==a.expr.length)return!1;for(let m=0,z=this.expr.length;m<z;m++)if(!this.expr[m].equals(a.expr[m]))return!1;return!0}return!1}substituteConstants(){const a=q(this.expr);return a===this.expr?this:T.create(a,this.c,!1)}evaluate(a){for(let m=0,z=this.expr.length;m<z;m++)if(this.expr[m].evaluate(a))return!0;return!1}static d(a,m,z){let U=[],Q=!1;if(a){for(let W=0,le=a.length;W<le;W++){const ae=a[W];if(ae){if(ae.type===0){Q=!0;continue}if(ae.type===1)return o.INSTANCE;if(ae.type===9){U=U.concat(ae.expr);continue}U.push(ae)}}if(U.length===0&&Q)return n.INSTANCE;U.sort(i)}if(U.length!==0){if(U.length===1)return U[0];for(let W=1;W<U.length;W++)U[W-1].equals(U[W])&&(U.splice(W,1),W--);if(U.length===1)return U[0];if(z){for(let W=0;W<U.length;W++)for(let le=W+1;le<U.length;le++)if(U[W].negate().equals(U[le]))return o.INSTANCE;if(U.length===1)return U[0]}return new T(U,m)}}serialize(){return this.expr.map(a=>a.serialize()).join(" || ")}keys(){const a=[];for(const m of this.expr)a.push(...m.keys());return a}map(a){return new T(this.expr.map(m=>m.map(a)),null)}negate(){if(!this.c){const a=[];for(const m of this.expr)a.push(m.negate());for(;a.length>1;){const m=a.shift(),z=a.shift(),U=[];for(const Q of M(m))for(const W of M(z))U.push(X.create([Q,W],null,!1));a.unshift(T.create(U,null,!1))}this.c=T.create(a,this,!0)}return this.c}}e.$7i=T;class C extends l{static{this.d=[]}static all(){return C.d.values()}constructor(a,m,z){super(a,null),this.f=m,typeof z=="object"?C.d.push({...z,key:a}):z!==!0&&C.d.push({key:a,description:z,type:m!=null?typeof m:void 0})}bindTo(a){return a.createKey(this.key,this.f)}getValue(a){return a.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(a){return P.create(this.key,a)}notEqualsTo(a){return O.create(this.key,a)}}e.$8i=C,e.$9i=(0,A.$Qh)("contextKeyService");function H(F,a){return F<a?-1:F>a?1:0}function G(F,a,m,z){return F<m?-1:F>m?1:a<z?-1:a>z?1:0}function Y(F,a){if(F.type===0||a.type===1)return!0;if(F.type===9)return a.type===9?Z(F.expr,a.expr):!1;if(a.type===9){for(const m of a.expr)if(Y(F,m))return!0;return!1}if(F.type===6){if(a.type===6)return Z(a.expr,F.expr);for(const m of F.expr)if(Y(m,a))return!0;return!1}return F.equals(a)}e.$0i=Y;function Z(F,a){let m=0,z=0;for(;m<F.length&&z<a.length;){const U=F[m].cmp(a[z]);if(U<0)return!1;U===0&&m++,z++}return m===F.length}function M(F){return F.type===9?F.expr:[F]}}),define(te[59],ne([0,1,10]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Sn=void 0,e.$Sn=(0,L.$Qh)("downloadService")}),define(te[18],ne([0,1,10]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Yh=e.$Xh=void 0,e.$Xh=(0,L.$Qh)("environmentService"),e.$Yh=(0,L.$Rh)(e.$Xh)}),define(te[21],ne([0,1,92,10]),function(J,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ko=e.$jo=e.$io=e.$ho=e.$go=e.$fo=e.$eo=e.$do=e.$co=e.ExtensionSignaturetErrorCode=e.ExtensionManagementErrorCode=e.$bo=e.InstallOperation=e.StatisticType=e.SortOrder=e.SortBy=e.$ao=e.$_n=e.$$n=e.$0n=e.$9n=e.$8n=e.$7n=e.$6n=e.$5n=e.$4n=e.$3n=e.$2n=void 0,e.$2n="^([a-z0-9A-Z][a-z0-9-A-Z]*)\\.([a-z0-9A-Z][a-z0-9-A-Z]*)$",e.$3n=new RegExp(e.$2n),e.$4n="__web_extension",e.$5n="skipWalkthrough",e.$6n="extensionsSync",e.$7n="dependecyOrPackExtensionInstall";function D(h){switch(h){case"win32-x64":return"Windows 64 bit";case"win32-arm64":return"Windows ARM";case"linux-x64":return"Linux 64 bit";case"linux-arm64":return"Linux ARM 64";case"linux-armhf":return"Linux ARM";case"alpine-x64":return"Alpine Linux 64 bit";case"alpine-arm64":return"Alpine ARM 64";case"darwin-x64":return"Mac";case"darwin-arm64":return"Mac Silicon";case"web":return"Web";case"universal":return"universal";case"unknown":return"unknown";case"undefined":return"undefined"}}e.$8n=D;function A(h){switch(h){case"win32-x64":return"win32-x64";case"win32-arm64":return"win32-arm64";case"linux-x64":return"linux-x64";case"linux-arm64":return"linux-arm64";case"linux-armhf":return"linux-armhf";case"alpine-x64":return"alpine-x64";case"alpine-arm64":return"alpine-arm64";case"darwin-x64":return"darwin-x64";case"darwin-arm64":return"darwin-arm64";case"web":return"web";case"universal":return"universal";default:return"unknown"}}e.$9n=A;function j(h,b){switch(h){case 3:return b==="x64"?"win32-x64":b==="arm64"?"win32-arm64":"unknown";case 2:return b==="x64"?"linux-x64":b==="arm64"?"linux-arm64":b==="arm"?"linux-armhf":"unknown";case"alpine":return b==="x64"?"alpine-x64":b==="arm64"?"alpine-arm64":"unknown";case 1:return b==="x64"?"darwin-x64":b==="arm64"?"darwin-arm64":"unknown";case 0:return"web"}}e.$0n=j;function v(h,b){return b==="web"&&!h.includes("web")}e.$$n=v;function u(h,b,R){return v(b,R)?!1:h==="undefined"||h==="universal"?!0:h==="unknown"?!1:h===R}e.$_n=u;function c(h){return h&&typeof h=="object"&&typeof h.id=="string"&&(!h.uuid||typeof h.uuid=="string")}e.$ao=c;var k;(function(h){h[h.NoneOrRelevance=0]="NoneOrRelevance",h[h.LastUpdatedDate=1]="LastUpdatedDate",h[h.Title=2]="Title",h[h.PublisherName=3]="PublisherName",h[h.InstallCount=4]="InstallCount",h[h.PublishedDate=10]="PublishedDate",h[h.AverageRating=6]="AverageRating",h[h.WeightedRating=12]="WeightedRating"})(k||(e.SortBy=k={}));var I;(function(h){h[h.Default=0]="Default",h[h.Ascending=1]="Ascending",h[h.Descending=2]="Descending"})(I||(e.SortOrder=I={}));var g;(function(h){h.Install="install",h.Uninstall="uninstall"})(g||(e.StatisticType=g={}));var f;(function(h){h[h.None=1]="None",h[h.Install=2]="Install",h[h.Update=3]="Update",h[h.Migrate=4]="Migrate"})(f||(e.InstallOperation=f={})),e.$bo=(0,N.$Qh)("extensionGalleryService");var S;(function(h){h.Unsupported="Unsupported",h.Deprecated="Deprecated",h.Malicious="Malicious",h.Incompatible="Incompatible",h.IncompatibleTargetPlatform="IncompatibleTargetPlatform",h.ReleaseVersionNotFound="ReleaseVersionNotFound",h.Invalid="Invalid",h.Download="Download",h.Extract="Extract",h.Delete="Delete",h.Rename="Rename",h.CorruptZip="CorruptZip",h.IncompleteZip="IncompleteZip",h.Signature="Signature",h.Internal="Internal"})(S||(e.ExtensionManagementErrorCode=S={}));var y;(function(h){h.UnknownError="UnknownError",h.PackageIsInvalidZip="PackageIsInvalidZip",h.SignatureArchiveIsInvalidZip="SignatureArchiveIsInvalidZip"})(y||(e.ExtensionSignaturetErrorCode=y={}));class $ extends Error{constructor(b,R){super(b),this.code=R,this.name=R}}e.$co=$,e.$do=(0,N.$Qh)("extensionManagementService"),e.$eo="extensionsIdentifiers/disabled",e.$fo="extensionsIdentifiers/enabled",e.$go=(0,N.$Qh)("IGlobalExtensionEnablementService"),e.$ho=(0,N.$Qh)("IExtensionTipsService"),e.$io=(0,L.localize)(0,null),e.$jo={value:e.$io,original:"Extensions"},e.$ko={value:(0,L.localize)(1,null),original:"Preferences"}}),define(te[60],ne([0,1,10]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$jp=e.$ip=void 0,e.$ip=(0,L.$Qh)("IExtensionSignatureVerificationService");class N{b(){return this.a||(this.a=new Promise((A,j)=>J(["node-vsce-sign"],async v=>A(v),j))),this.a}async verify(A,j,v){let u;try{u=await this.b()}catch{return!1}return u.verify(A,j,v)}}e.$jp=N}),define(te[61],ne([0,1,14,9,100,12]),function(J,e,L,N,D,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Qp=void 0;async function j(k,I,g,f,S,y){let $;try{await v(k,I,g,f,S,y)}catch(h){$=h}finally{$&&S.errorTransformer&&($=S.errorTransformer($)),typeof $<"u"&&g.error($),g.end()}}e.$Qp=j;async function v(k,I,g,f,S,y){u(y);const $=await k.open(I,{create:!1});try{u(y);let h=0,b=0,R=S&&typeof S.length=="number"?S.length:void 0,d=L.$ce.alloc(Math.min(S.bufferSize,typeof R=="number"?R:S.bufferSize)),w=S&&typeof S.position=="number"?S.position:0,s=0;do b=await k.read($,w,d.buffer,s,d.byteLength-s),w+=b,s+=b,h+=b,typeof R=="number"&&(R-=b),s===d.byteLength&&(await g.write(f(d)),d=L.$ce.alloc(Math.min(S.bufferSize,typeof R=="number"?R:S.bufferSize)),s=0);while(b>0&&(typeof R!="number"||R>0)&&u(y)&&c(h,S));if(s>0){let r=s;typeof R=="number"&&(r=Math.min(s,R)),g.write(f(d.slice(0,r)))}}catch(h){throw(0,A.$nk)(h)}finally{await k.close($)}}function u(k){if(k.isCancellationRequested)throw(0,N.$6)();return!0}function c(k,I){if(typeof I?.limits?.size=="number"&&k>I.limits.size)throw(0,A.$mk)((0,D.localize)(0,null),A.FileSystemProviderErrorCode.FileTooLarge);return!0}}),define(te[117],ne([0,1,4,166,2,13,167]),function(J,e,L,N,D,A,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$cq=void 0;class v extends D.$Sc{constructor(){super(...arguments),this.a=this.B(new L.$Od),this.onDidChangeFile=this.a.event,this.b=this.B(new L.$Od),this.onDidLogMessage=this.b.event,this.onDidError=L.Event.None,this.c=new Map,this.f=!1}async watch(c){const k=this.j(c),I=k.filter(f=>{const S=this.c.get(f.path);return S?!(0,N.$Bj)(S.request.excludes,f.excludes)||!(0,N.$Bj)(S.request.includes,f.includes):!0}),g=Array.from(this.c.values()).filter(({request:f})=>!k.find(S=>S.path===f.path&&(0,N.$Bj)(S.excludes,f.excludes)&&(0,N.$Bj)(S.includes,f.includes))).map(({request:f})=>f.path);I.length&&this.m(`Request to start watching: ${I.map(f=>`${f.path} (excludes: ${f.excludes.length>0?f.excludes:"<none>"}, includes: ${f.includes&&f.includes.length>0?JSON.stringify(f.includes):"<all>"}, correlationId: ${typeof f.correlationId=="number"?f.correlationId:"<none>"})`).join(",")}`),g.length&&this.m(`Request to stop watching: ${g.join(",")}`);for(const f of g)this.h(f);for(const f of I)this.g(f)}g(c){const k=new j.$aq(c,g=>this.a.fire(g),g=>this.b.fire(g),this.f),I={request:c,instance:k};this.c.set(c.path,I)}async stop(){for(const[c]of this.c)this.h(c);this.c.clear()}h(c){const k=this.c.get(c);k&&(this.c.delete(c),k.instance.dispose())}j(c){const k=new Map;for(const I of c){const g=A.$l?I.path:I.path.toLowerCase();let f=k.get(I.correlationId);f||(f=new Map,k.set(I.correlationId,f)),f.set(g,I)}return Array.from(k.values()).map(I=>Array.from(I.values())).flat()}async setVerboseLogging(c){this.f=c;for(const[,k]of this.c)k.instance.setVerboseLogging(c)}m(c){this.f&&this.b.fire({type:"trace",message:this.n(c)})}n(c,k){return k?`[File Watcher (node.js)] ${c} (path: ${k.request.path})`:`[File Watcher (node.js)] ${c}`}}e.$cq=v}),define(te[118],ne([0,1,62,117]),function(J,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$dq=void 0;class D extends L.$Up{constructor(j,v,u){super(j,v,u),this.s()}r(j){return j.add(new N.$cq)}}e.$dq=D}),define(te[119],ne([0,1,15,57,85,62]),function(J,e,L,N,D,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$8p=void 0;class j extends A.$Vp{constructor(u,c,k){super(u,c,k),this.s()}r(u){const c=u.add(new D.$7p(L.$dg.asFileUri("bootstrap-fork").fsPath,{serverName:"File Watcher",args:["--type=fileWatcher"],env:{VSCODE_AMD_ENTRYPOINT:"vs/platform/files/node/watcher/watcherMain",VSCODE_PIPE_LOGGING:"true",VSCODE_VERBOSE_LOGGING:"true"}}));return u.add(c.onDidProcessExit(({code:k,signal:I})=>this.t(`terminated by itself with code ${k}, signal: ${I}`))),N.ProxyChannel.toService((0,N.$xh)(c.getChannel("watcher")))}}e.$8p=j}),define(te[63],ne([0,1]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Oh=void 0;class L{constructor(...D){this.a=new Map;for(const[A,j]of D)this.set(A,j)}set(D,A){const j=this.a.get(D);return this.a.set(D,A),j}has(D){return this.a.has(D)}get(D){return this.a.get(D)}}e.$Oh=L}),define(te[120],ne([0,1,8,9,2,49,115,10,63,168]),function(J,e,L,N,D,A,j,v,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$iq=e.$hq=void 0;const k=!1;class I extends Error{constructor($){super("cyclic dependency between services"),this.message=$.findCycleSlow()??`UNABLE to detect cycle, dumping graph: 
${$.toString()}`}}class g{constructor($=new u.$Oh,h=!1,b,R=k){this.f=$,this.g=h,this.h=b,this.i=R,this.o=new Set,this.f.set(v.$Ph,this),this._globalGraph=R?b?._globalGraph??new j.$gq(d=>d):void 0}createChild($){return new g($,this.g,this,this.i)}invokeFunction($,...h){const b=S.traceInvocation(this.i,$);let R=!1;try{return $({get:w=>{if(R)throw(0,N.$8)("service accessor is only valid during the invocation of its target method");const s=this.m(w,b);if(!s)throw new Error(`[invokeFunction] unknown service '${w}'`);return s}},...h)}finally{R=!0,b.stop()}}createInstance($,...h){let b,R;return $ instanceof A.$Nh?(b=S.traceCreation(this.i,$.ctor),R=this.j($.ctor,$.staticArguments.concat(h),b)):(b=S.traceCreation(this.i,$),R=this.j($,h,b)),b.stop(),R}j($,h=[],b){const R=v._util.getServiceDependencies($).sort((s,r)=>s.index-r.index),d=[];for(const s of R){const r=this.m(s.id,b);r||this.u(`[createInstance] ${$.name} depends on UNKNOWN service ${s.id}.`,!1),d.push(r)}const w=R.length>0?R[0].index:h.length;if(h.length!==w){console.trace(`[createInstance] First service dependency of ${$.name} at position ${w+1} conflicts with ${h.length} static arguments`);const s=w-h.length;s>0?h=h.concat(new Array(s)):h=h.slice(0,w)}return Reflect.construct($,h.concat(d))}k($,h){if(this.f.get($)instanceof A.$Nh)this.f.set($,h);else if(this.h)this.h.k($,h);else throw new Error("illegalState - setting UNKNOWN service instance")}l($){const h=this.f.get($);return!h&&this.h?this.h.l($):h}m($,h){this._globalGraph&&this.c&&this._globalGraph.insertEdge(this.c,String($));const b=this.l($);return b instanceof A.$Nh?this.q($,b,h.branch($,!0)):(h.branch($,!1),b)}q($,h,b){if(this.o.has($))throw new Error(`illegal state - RECURSIVELY instantiating service '${$}'`);this.o.add($);try{return this.r($,h,b)}finally{this.o.delete($)}}r($,h,b){const R=new j.$gq(s=>s.id.toString());let d=0;const w=[{id:$,desc:h,_trace:b}];for(;w.length;){const s=w.pop();if(R.lookupOrInsertNode(s),d++>1e3)throw new I(R);for(const r of v._util.getServiceDependencies(s.desc.ctor)){const t=this.l(r.id);if(t||this.u(`[createInstance] ${$} depends on ${r.id} which is NOT registered.`,!0),this._globalGraph?.insertEdge(String(s.id),String(r.id)),t instanceof A.$Nh){const i={id:r.id,desc:t,_trace:s._trace.branch(r.id,!0)};R.insertEdge(s,i),w.push(i)}}}for(;;){const s=R.roots();if(s.length===0){if(!R.isEmpty())throw new I(R);break}for(const{data:r}of s){if(this.l(r.id)instanceof A.$Nh){const i=this.s(r.id,r.desc.ctor,r.desc.staticArguments,r.desc.supportsDelayedInstantiation,r._trace);this.k(r.id,i)}R.removeNode(r)}}return this.l($)}s($,h,b=[],R,d){if(this.f.get($)instanceof A.$Nh)return this.t($,h,b,R,d);if(this.h)return this.h.s($,h,b,R,d);throw new Error(`illegalState - creating UNKNOWN service instance ${h.name}`)}t($,h,b=[],R,d){if(R){const w=new g(void 0,this.g,this,this.i);w.c=String($);const s=new Map,r=new L.$_g(()=>{const t=w.j(h,b,d);for(const[i,n]of s){const o=t[i];if(typeof o=="function")for(const l of n)o.apply(t,l)}return s.clear(),t});return new Proxy(Object.create(null),{get(t,i){if(!r.isInitialized&&typeof i=="string"&&(i.startsWith("onDid")||i.startsWith("onWill"))){let l=s.get(i);return l||(l=new c.$2c,s.set(i,l)),(E,p,O)=>{const B=l.push([E,p,O]);return(0,D.$Qc)(B)}}if(i in t)return t[i];const n=r.value;let o=n[i];return typeof o!="function"||(o=o.bind(n),t[i]=o),o},set(t,i,n){return r.value[i]=n,!0},getPrototypeOf(t){return h.prototype}})}else return this.j(h,b,d)}u($,h){if(h&&console.warn($),this.g)throw new Error($)}}e.$hq=g;var f;(function(y){y[y.None=0]="None",y[y.Creation=1]="Creation",y[y.Invocation=2]="Invocation",y[y.Branch=3]="Branch"})(f||(f={}));class S{static{this.all=new Set}static{this.c=new class extends S{constructor(){super(0,null)}stop(){}branch(){return this}}}static traceInvocation($,h){return $?new S(2,h.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):S.c}static traceCreation($,h){return $?new S(1,h.name):S.c}static{this.f=0}constructor($,h){this.type=$,this.name=h,this.g=Date.now(),this.h=[]}branch($,h){const b=new S(3,$.toString());return this.h.push([$,h,b]),b}stop(){const $=Date.now()-this.g;S.f+=$;let h=!1;function b(d,w){const s=[],r=new Array(d+1).join("	");for(const[t,i,n]of w.h)if(i&&n){h=!0,s.push(`${r}CREATES -> ${t}`);const o=b(d+1,n);o&&s.push(o)}else s.push(`${r}uses -> ${t}`);return s.join(`
`)}const R=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${b(1,this)}`,`DONE, took ${$.toFixed(2)}ms (grand total ${S.f.toFixed(2)}ms)`];($>2||h)&&S.all.add(R.join(`
`))}}e.$iq=S});var ie=this&&this.__param||function(J,e){return function(L,N){e(L,N,J)}};define(te[64],ne([0,1,20,2,13,102,21,10]),function(J,e,L,N,D,A,j,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Xq=e.$Wq=e.$Vq=void 0;function u(k){return k.tags.find(I=>I.startsWith("lp-"))?.split("lp-")[1]}e.$Vq=u,e.$Wq=(0,v.$Qh)("languagePackService");let c=class extends N.$Sc{constructor(I){super(),this.c=I}async getAvailableLanguages(){const I=new L.$Yd;setTimeout(()=>I.cancel(),1e3);let g;try{g=await this.c.query({text:'category:"language packs"',pageSize:20},I.token)}catch{return[]}const S=g.firstPage.filter(y=>y.properties.localizedLanguages?.length&&y.tags.some($=>$.startsWith("lp-"))).map(y=>{const $=y.properties.localizedLanguages?.[0],h=u(y);return{...this.f(h,$,y),extensionId:y.identifier.id,galleryExtension:y}});return S.push(this.f("en","English")),S}f(I,g,f){const S=g??I;let y;if(S!==I&&(y=`(${I})`),I.toLowerCase()===D.$w.toLowerCase()&&(y??="",y+=(0,A.localize)(0,null)),f?.installCount){y??="";const $=f.installCount;let h;$>1e6?h=`${Math.floor($/1e5)/10}M`:$>1e3?h=`${Math.floor($/1e3)}K`:h=String($),y+=` $(cloud-download) ${h}`}return{id:I,label:S,description:y}}};e.$Xq=c,e.$Xq=c=pe([ie(0,j.$bo)],c)}),define(te[6],ne([0,1,34,4,41,2,31,13,17,3,11,116,10]),function(J,e,L,N,D,A,j,v,u,c,k,I,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$pj=e.$oj=e.$nj=e.$mj=e.$lj=e.$kj=e.$jj=e.$ij=e.$hj=e.$gj=e.$fj=e.$ej=e.$dj=e.log=e.$bj=e.LogLevel=e.$aj=e.$_i=e.$$i=void 0,e.$$i=(0,g.$Qh)("logService"),e.$_i=(0,g.$Qh)("loggerService");function f(){return new Date().toISOString()}function S(E){return(0,c.$Df)(E)}e.$aj=S;var y;(function(E){E[E.Off=0]="Off",E[E.Trace=1]="Trace",E[E.Debug=2]="Debug",E[E.Info=3]="Info",E[E.Warning=4]="Warning",E[E.Error=5]="Error"})(y||(e.LogLevel=y={})),e.$bj=y.Info;function $(E,p,O){switch(p){case y.Trace:E.trace(O);break;case y.Debug:E.debug(O);break;case y.Info:E.info(O);break;case y.Warning:E.warn(O);break;case y.Error:E.error(O);break;case y.Off:break;default:throw new Error(`Invalid log level ${p}`)}}e.log=$;function h(E,p=!1){let O="";for(let B=0;B<E.length;B++){let _=E[B];if(_ instanceof Error&&(_=(0,L.$Bi)(_,p)),typeof _=="object")try{_=JSON.stringify(_)}catch{}O+=(B>0?" ":"")+_}return O}class b extends A.$Sc{constructor(){super(...arguments),this.b=e.$bj,this.c=this.B(new N.$Od),this.onDidChangeLogLevel=this.c.event}setLevel(p){this.b!==p&&(this.b=p,this.c.fire(this.b))}getLevel(){return this.b}f(p){return this.b!==y.Off&&this.b<=p}}e.$dj=b;class R extends b{constructor(p){super(),this.h=p}f(p){return this.h||super.f(p)}trace(p,...O){this.f(y.Trace)&&this.g(y.Trace,h([p,...O],!0))}debug(p,...O){this.f(y.Debug)&&this.g(y.Debug,h([p,...O]))}info(p,...O){this.f(y.Info)&&this.g(y.Info,h([p,...O]))}warn(p,...O){this.f(y.Warning)&&this.g(y.Warning,h([p,...O]))}error(p,...O){if(this.f(y.Error))if(p instanceof Error){const B=Array.prototype.slice.call(arguments);B[0]=p.stack,this.g(y.Error,h(B))}else this.g(y.Error,h([p,...O]))}flush(){}}e.$ej=R;class d extends b{constructor(p=e.$bj){super(),this.setLevel(p),this.g=!v.$j}trace(p,...O){this.f(y.Trace)&&(this.g?console.log(`\x1B[90m[main ${f()}]\x1B[0m`,p,...O):console.log(`[main ${f()}]`,p,...O))}debug(p,...O){this.f(y.Debug)&&(this.g?console.log(`\x1B[90m[main ${f()}]\x1B[0m`,p,...O):console.log(`[main ${f()}]`,p,...O))}info(p,...O){this.f(y.Info)&&(this.g?console.log(`\x1B[90m[main ${f()}]\x1B[0m`,p,...O):console.log(`[main ${f()}]`,p,...O))}warn(p,...O){this.f(y.Warning)&&(this.g?console.warn(`\x1B[93m[main ${f()}]\x1B[0m`,p,...O):console.warn(`[main ${f()}]`,p,...O))}error(p,...O){this.f(y.Error)&&(this.g?console.error(`\x1B[91m[main ${f()}]\x1B[0m`,p,...O):console.error(`[main ${f()}]`,p,...O))}dispose(){}flush(){}}e.$fj=d;class w extends b{constructor(p=e.$bj,O=!0){super(),this.g=O,this.setLevel(p)}trace(p,...O){this.f(y.Trace)&&(this.g?console.log("%cTRACE","color: #888",p,...O):console.log(p,...O))}debug(p,...O){this.f(y.Debug)&&(this.g?console.log("%cDEBUG","background: #eee; color: #888",p,...O):console.log(p,...O))}info(p,...O){this.f(y.Info)&&(this.g?console.log("%c INFO","color: #33f",p,...O):console.log(p,...O))}warn(p,...O){this.f(y.Warning)&&(this.g?console.log("%c WARN","color: #993",p,...O):console.log(p,...O))}error(p,...O){this.f(y.Error)&&(this.g?console.log("%c  ERR","color: #f33",p,...O):console.error(p,...O))}dispose(){}flush(){}}e.$gj=w;class s extends b{constructor(p,O=e.$bj){super(),this.g=p,this.setLevel(O)}trace(p,...O){this.f(y.Trace)&&this.g.log(y.Trace,[this.h(p),...O])}debug(p,...O){this.f(y.Debug)&&this.g.log(y.Debug,[this.h(p),...O])}info(p,...O){this.f(y.Info)&&this.g.log(y.Info,[this.h(p),...O])}warn(p,...O){this.f(y.Warning)&&this.g.log(y.Warning,[this.h(p),...O])}error(p,...O){this.f(y.Error)&&this.g.log(y.Error,[this.h(p),...O])}h(p){return typeof p=="string"?p:(0,L.$Bi)(p,this.f(y.Trace))}dispose(){}flush(){}}e.$hj=s;class r extends b{constructor(p){super(),this.g=p,p.length&&this.setLevel(p[0].getLevel())}setLevel(p){for(const O of this.g)O.setLevel(p);super.setLevel(p)}trace(p,...O){for(const B of this.g)B.trace(p,...O)}debug(p,...O){for(const B of this.g)B.debug(p,...O)}info(p,...O){for(const B of this.g)B.info(p,...O)}warn(p,...O){for(const B of this.g)B.warn(p,...O)}error(p,...O){for(const B of this.g)B.error(p,...O)}flush(){for(const p of this.g)p.flush()}dispose(){for(const p of this.g)p.dispose()}}e.$ij=r;class t extends A.$Sc{constructor(p,O,B){if(super(),this.h=p,this.j=O,this.b=new j.$Ac,this.c=this.B(new N.$Od),this.onDidChangeLoggers=this.c.event,this.f=this.B(new N.$Od),this.onDidChangeLogLevel=this.f.event,this.g=this.B(new N.$Od),this.onDidChangeVisibility=this.g.event,B)for(const _ of B)this.b.set(_.resource,{logger:void 0,info:_})}m(p){return(0,c.$zf)(p)?[...this.b.values()].find(O=>O.info.id===p):this.b.get(p)}getLogger(p){return this.m(p)?.logger}createLogger(p,O){const B=this.n(p),_=(0,c.$zf)(p)?p:O?.id??(0,D.$Ei)(B.toString()).toString(16);let ee=this.b.get(B)?.logger;const oe=O?.logLevel==="always"?y.Trace:O?.logLevel;ee||(ee=this.s(B,oe??this.getLogLevel(B)??this.h,{...O,id:_}));const se={logger:ee,info:{resource:B,id:_,logLevel:oe,name:O?.name,hidden:O?.hidden,extensionId:O?.extensionId,when:O?.when}};return this.registerLogger(se.info),this.b.set(B,se),ee}n(p){return(0,c.$zf)(p)?(0,u.$wg)(this.j,`${p}.log`):p}setLogLevel(p,O){if(k.URI.isUri(p)){const B=p,_=O,ee=this.b.get(B);ee&&_!==ee.info.logLevel&&(ee.info.logLevel=_===this.h?void 0:_,ee.logger?.setLevel(_),this.b.set(ee.info.resource,ee),this.f.fire([B,_]))}else{this.h=p;for(const[B,_]of this.b.entries())this.b.get(B)?.info.logLevel===void 0&&_.logger?.setLevel(this.h);this.f.fire(this.h)}}setVisibility(p,O){const B=this.m(p);B&&O!==!B.info.hidden&&(B.info.hidden=!O,this.b.set(B.info.resource,B),this.g.fire([B.info.resource,O]))}getLogLevel(p){let O;return p&&(O=this.b.get(p)?.info.logLevel),O??this.h}registerLogger(p){const O=this.b.get(p.resource);O?O.info.hidden!==p.hidden&&this.setVisibility(p.resource,!p.hidden):(this.b.set(p.resource,{info:p,logger:void 0}),this.c.fire({added:[p],removed:[]}))}deregisterLogger(p){const O=this.b.get(p);O&&(O.logger&&O.logger.dispose(),this.b.delete(p),this.c.fire({added:[],removed:[O.info]}))}*getRegisteredLoggers(){for(const p of this.b.values())yield p.info}getRegisteredLogger(p){return this.b.get(p)?.info}dispose(){this.b.forEach(p=>p.logger?.dispose()),this.b.clear(),super.dispose()}}e.$jj=t;class i{constructor(){this.onDidChangeLogLevel=new N.$Od().event}setLevel(p){}getLevel(){return y.Info}trace(p,...O){}debug(p,...O){}info(p,...O){}warn(p,...O){}error(p,...O){}critical(p,...O){}dispose(){}flush(){}}e.$kj=i;class n extends i{}e.$lj=n;function o(E){if(E.verbose)return y.Trace;if(typeof E.logLevel=="string"){const p=P(E.logLevel.toLowerCase());if(p!==void 0)return p}return e.$bj}e.$mj=o;function l(E){switch(E){case y.Trace:return"trace";case y.Debug:return"debug";case y.Info:return"info";case y.Warning:return"warn";case y.Error:return"error";case y.Off:return"off"}}e.$nj=l;function P(E){switch(E){case"trace":return y.Trace;case"debug":return y.Debug;case"info":return y.Info;case"warn":return y.Warning;case"error":return y.Error;case"critical":return y.Error;case"off":return y.Off}}e.$oj=P,e.$pj=new I.$8i("logLevel",l(y.Info))}),define(te[121],ne([0,1,19,8,9,4,2,16,62,6]),function(J,e,L,N,D,A,j,v,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$1p=void 0;class k extends j.$Sc{constructor(g,f){super(),this.a=g,this.b=f,this.c=this.B(new A.$Od),this.onDidChangeFile=this.c.event,this.g=this.B(new A.$Od),this.onDidWatchError=this.g.event,this.j=[],this.m=this.B(new N.$Sg(0)),this.w=[],this.y=this.B(new N.$Sg(0))}watch(g,f){return f.recursive||this.b?.watcher?.forceUniversal?this.n(g,f):this.z(g,f)}n(g,f){const S={path:this.H(g),excludes:f.excludes,includes:f.includes,recursive:f.recursive,correlationId:f.correlationId},y=(0,L.$Ub)(this.j,S);return this.r(),(0,j.$Qc)(()=>{y(),this.r()})}r(){this.m.trigger(()=>this.s()).catch(g=>(0,D.$1)(g))}s(){this.h||(this.h=this.B(this.t(f=>this.c.fire((0,u.$Wp)(f)),f=>this.G(f),this.a.getLevel()===c.LogLevel.Trace)),this.B(this.a.onDidChangeLogLevel(()=>{this.h?.setVerboseLogging(this.a.getLevel()===c.LogLevel.Trace)})));const g=this.b?.watcher?.recursive?.usePolling;if(g===!0)for(const f of this.j)(0,u.$Sp)(f)&&(f.pollingInterval=this.b?.watcher?.recursive?.pollingInterval??5e3);else if(Array.isArray(g))for(const f of this.j)(0,u.$Sp)(f)&&g.includes(f.path)&&(f.pollingInterval=this.b?.watcher?.recursive?.pollingInterval??5e3);return this.h.watch(this.j)}z(g,f){const S={path:this.H(g),excludes:f.excludes,includes:f.includes,recursive:!1,correlationId:f.correlationId},y=(0,L.$Ub)(this.w,S);return this.C(),(0,j.$Qc)(()=>{y(),this.C()})}C(){this.y.trigger(()=>this.D()).catch(g=>(0,D.$1)(g))}D(){return this.u||(this.u=this.B(this.F(g=>this.c.fire((0,u.$Wp)(g)),g=>this.G(g),this.a.getLevel()===c.LogLevel.Trace)),this.B(this.a.onDidChangeLogLevel(()=>{this.u?.setVerboseLogging(this.a.getLevel()===c.LogLevel.Trace)}))),this.u.watch(this.w)}G(g){g.type==="error"&&this.g.fire(g.message),this.a[g.type](g.message)}H(g){return(0,v.$hc)(g.fsPath)}}e.$1p=k}),define(te[122],ne([0,1,19,8,14,20,4,41,65,2,47,15,123,17,45,99,12,61,6,9]),function(J,e,L,N,D,A,j,v,u,c,k,I,g,f,S,y,$,h,b,R){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.$Rp=void 0;let w=class extends c.$Sc{static{d=this}constructor(r){super(),this.b=r,this.a=256*1024,this.c=this.B(new j.$Od),this.onDidChangeFileSystemProviderRegistrations=this.c.event,this.f=this.B(new j.$Od),this.onWillActivateFileSystemProvider=this.f.event,this.g=this.B(new j.$Od),this.onDidChangeFileSystemProviderCapabilities=this.g.event,this.h=new Map,this.r=this.B(new j.$Od),this.onDidRunOperation=this.r.event,this.X=this.B(new j.$Od),this.Y=this.B(new j.$Od),this.onDidFilesChange=this.Y.event,this.Z=this.B(new j.$Od),this.onDidWatchError=this.Z.event,this.$=new Map,this.cb=this.B(new N.$4g)}registerProvider(r,t){if(this.h.has(r))throw new Error(`A filesystem provider for the scheme '${r}' is already registered.`);(0,g.mark)(`code/registerFilesystem/${r}`);const i=new c.$Rc;return this.h.set(r,t),this.c.fire({added:!0,scheme:r,provider:t}),i.add(t.onDidChangeFile(n=>{const o=new $.$sk(n,!this.S(t));this.X.fire(o),o.hasCorrelation()||this.Y.fire(o)})),typeof t.onDidWatchError=="function"&&i.add(t.onDidWatchError(n=>this.Z.fire(new Error(n)))),i.add(t.onDidChangeCapabilities(()=>this.g.fire({provider:t,scheme:r}))),(0,c.$Qc)(()=>{this.c.fire({added:!1,scheme:r,provider:t}),this.h.delete(r),(0,c.$Nc)(i)})}getProvider(r){return this.h.get(r)}async activateProvider(r){const t=[];this.f.fire({scheme:r,join(i){t.push(i)}}),!this.h.has(r)&&await N.Promises.settled(t)}async canHandleResource(r){return await this.activateProvider(r.scheme),this.hasProvider(r)}hasProvider(r){return this.h.has(r.scheme)}hasCapability(r,t){const i=this.h.get(r.scheme);return!!(i&&i.capabilities&t)}listCapabilities(){return u.Iterable.map(this.h,([r,t])=>({scheme:r,capabilities:t.capabilities}))}async j(r){if(!(0,f.$Ag)(r))throw new $.$uk((0,y.localize)(0,null,this.sb(r)),8);await this.activateProvider(r.scheme);const t=this.h.get(r.scheme);if(!t){const i=new R.$bb;throw i.message=(0,y.localize)(1,null,r.toString()),i}return t}async m(r){const t=await this.j(r);if((0,$.$fk)(t)||(0,$.$ck)(t)||(0,$.$gk)(t))return t;throw new Error(`Filesystem provider for scheme '${r.scheme}' neither has FileReadWrite, FileReadStream nor FileOpenReadWriteClose capability which is needed for the read operation.`)}async n(r){const t=await this.j(r);if((0,$.$fk)(t)||(0,$.$ck)(t))return t;throw new Error(`Filesystem provider for scheme '${r.scheme}' neither has FileReadWrite nor FileOpenReadWriteClose capability which is needed for the write operation.`)}async resolve(r,t){try{return await this.s(r,t)}catch(i){throw(0,$.$pk)(i)===$.FileSystemProviderErrorCode.FileNotFound?new $.$uk((0,y.localize)(2,null,this.sb(r)),1):(0,$.$nk)(i)}}async s(r,t){const i=await this.j(r),n=this.S(i),o=t?.resolveTo,l=t?.resolveSingleChildDescendants,P=t?.resolveMetadata,E=await i.stat(r);let p;return this.t(i,r,E,void 0,!!P,(O,B)=>(p||(p=k.$Wh.forUris(()=>!n),p.set(r,!0),o&&p.fill(!0,o)),p.get(O.resource)||p.findSuperstr(O.resource.with({query:null,fragment:null}))?!0:O.isDirectory&&l?B===1:!1))}async t(r,t,i,n,o,l){const{providerExtUri:P}=this.R(r),E={resource:t,name:P.basename(t),isFile:(i.type&$.FileType.File)!==0,isDirectory:(i.type&$.FileType.Directory)!==0,isSymbolicLink:(i.type&$.FileType.SymbolicLink)!==0,mtime:i.mtime,ctime:i.ctime,size:i.size,readonly:!!((i.permissions??0)&$.FilePermission.Readonly)||!!(r.capabilities&2048),locked:!!((i.permissions??0)&$.FilePermission.Locked),etag:(0,$.$Fk)({mtime:i.mtime,size:i.size}),children:void 0};if(E.isDirectory&&l(E,n)){try{const p=await r.readdir(t),O=await N.Promises.settled(p.map(async([B,_])=>{try{const ee=P.joinPath(t,B),oe=o?await r.stat(ee):{type:_};return await this.t(r,ee,oe,p.length,o,l)}catch(ee){return this.b.trace(ee),null}}));E.children=(0,L.$Hb)(O)}catch(p){this.b.trace(p),E.children=[]}return E}return E}async resolveAll(r){return N.Promises.settled(r.map(async t=>{try{return{stat:await this.s(t.resource,t.options),success:!0}}catch(i){return this.b.trace(i),{stat:void 0,success:!1}}}))}async stat(r){const t=await this.j(r),i=await t.stat(r);return this.t(t,r,i,void 0,!0,()=>!1)}async exists(r){const t=await this.j(r);try{return!!await t.stat(r)}catch{return!1}}async canCreateFile(r,t){try{await this.u(r,t)}catch(i){return i}return!0}async u(r,t){if(!t?.overwrite&&await this.exists(r))throw new $.$uk((0,y.localize)(3,null,this.sb(r)),3,t)}async createFile(r,t=D.$ce.fromString(""),i){await this.u(r,i);const n=await this.writeFile(r,t);return this.r.fire(new $.$rk(r,0,n)),n}async writeFile(r,t,i){const n=this.qb(await this.n(r),r),{providerExtUri:o}=this.R(n);let l=i;if((0,$.$ik)(n)&&!l?.atomic){const P=n.enforceAtomicWriteFile?.(r);P&&(l={...i,atomic:P})}try{await this.w(n,r,l)||await this.U(n,o.dirname(r));let E;if((0,$.$ck)(n)&&!(t instanceof D.$ce))if((0,S.$1d)(t)){const p=await(0,S.$8d)(t,3);p.ended?E=D.$ce.concat(p.buffer):E=p}else E=(0,S.$5d)(t,p=>D.$ce.concat(p),3);else E=t;!(0,$.$fk)(n)||(0,$.$ck)(n)&&E instanceof D.$ce||(0,$.$ck)(n)&&(0,$.$ik)(n)&&l?.atomic?await this.hb(n,r,l,E):await this.db(n,r,l,E instanceof D.$ce?(0,D.$ne)(E):E),this.r.fire(new $.$rk(r,4))}catch(P){throw new $.$uk((0,y.localize)(4,null,this.sb(r),(0,$.$nk)(P).toString()),(0,$.$qk)(P),l)}return this.resolve(r,{resolveMetadata:!0})}async w(r,t,i){const n=!!i?.unlock;if(n&&!(r.capabilities&8192))throw new Error((0,y.localize)(5,null,this.sb(t)));if(!!i?.atomic){if(!(r.capabilities&32768))throw new Error((0,y.localize)(6,null,this.sb(t)));if(!(r.capabilities&2))throw new Error((0,y.localize)(7,null,this.sb(t)));if(n)throw new Error((0,y.localize)(8,null,this.sb(t)))}let l;try{l=await r.stat(t)}catch{return}if(l.type&$.FileType.Directory)throw new $.$uk((0,y.localize)(9,null,this.sb(t)),0,i);if(this.rb(t,l),typeof i?.mtime=="number"&&typeof i.etag=="string"&&i.etag!==$.$Ek&&typeof l.mtime=="number"&&typeof l.size=="number"&&i.mtime<l.mtime&&i.etag!==(0,$.$Fk)({mtime:i.mtime,size:l.size}))throw new $.$uk((0,y.localize)(10,null),3,i);return l}async readFile(r,t,i){const n=await this.m(r);return t?.atomic?this.z(n,r,t,i):this.C(n,r,t,i)}async z(r,t,i,n){return new Promise((o,l)=>{this.cb.queueFor(t,this.R(r).providerExtUri).queue(async()=>{try{const P=await this.C(r,t,i,n);o(P)}catch(P){l(P)}})})}async C(r,t,i,n){const o=await this.D(r,t,{...i,preferUnbuffered:!0},n);return{...o,value:await(0,D.$oe)(o.value)}}async readFileStream(r,t,i){const n=await this.m(r);return this.D(n,r,t,i)}async D(r,t,i,n){const o=new A.$Yd(n);let l=i;(0,$.$hk)(r)&&r.enforceAtomicReadFile?.(t)&&(l={...i,atomic:!0});const P=this.J(t,l).then(p=>p,p=>{throw o.dispose(!0),p});let E;try{return typeof l?.etag=="string"&&l.etag!==$.$Ek&&await P,l?.atomic&&(0,$.$hk)(r)||!((0,$.$fk)(r)||(0,$.$gk)(r))||(0,$.$ck)(r)&&l?.preferUnbuffered?E=this.I(r,t,l):(0,$.$gk)(r)?E=this.G(r,t,o.token,l):E=this.H(r,t,o.token,l),E.on("end",()=>o.dispose()),E.on("error",()=>o.dispose()),{...await P,value:E}}catch(p){throw E&&await(0,S.$6d)(E),this.F(p,t,l)}}F(r,t,i){const n=(0,y.localize)(11,null,this.sb(t),(0,$.$nk)(r).toString());return r instanceof $.$wk?new $.$wk(n,r.stat,i):r instanceof $.$vk?new $.$vk(n,r.fileOperationResult,r.size,r.options):new $.$uk(n,(0,$.$qk)(r),i)}G(r,t,i,n=Object.create(null)){const o=r.readFileStream(t,n,i);return(0,S.$_d)(o,{data:l=>l instanceof D.$ce?l:D.$ce.wrap(l),error:l=>this.F(l,t,n)},l=>D.$ce.concat(l))}H(r,t,i,n=Object.create(null)){const o=(0,D.$se)();return(0,h.$Qp)(r,t,o,l=>l,{...n,bufferSize:this.a,errorTransformer:l=>this.F(l,t,n)},i),o}I(r,t,i){const n=(0,S.$3d)(o=>D.$ce.concat(o));return(async()=>{try{let o;i?.atomic&&(0,$.$hk)(r)?o=await r.readFile(t,{atomic:!0}):o=await r.readFile(t),typeof i?.position=="number"&&(o=o.slice(i.position)),typeof i?.length=="number"&&(o=o.slice(0,i.length)),this.L(t,o.byteLength,i),n.end(D.$ce.wrap(o))}catch(o){n.error(o),n.end()}})(),n}async J(r,t){const i=await this.resolve(r,{resolveMetadata:!0});if(i.isDirectory)throw new $.$uk((0,y.localize)(12,null,this.sb(r)),0,t);if(typeof t?.etag=="string"&&t.etag!==$.$Ek&&t.etag===i.etag)throw new $.$wk((0,y.localize)(13,null),i,t);return this.L(r,i.size,t),i}L(r,t,i){if(typeof i?.limits?.size=="number"&&t>i.limits.size)throw new $.$vk((0,y.localize)(14,null,this.sb(r)),7,t,i)}async canMove(r,t,i){return this.M(r,t,"move",i)}async canCopy(r,t,i){return this.M(r,t,"copy",i)}async M(r,t,i,n){if(r.toString()!==t.toString())try{const o=i==="move"?this.qb(await this.n(r),r):await this.m(r),l=this.qb(await this.n(t),t);await this.Q(o,r,l,t,i,n)}catch(o){return o}return!0}async move(r,t,i){const n=this.qb(await this.n(r),r),o=this.qb(await this.n(t),t),l=await this.N(n,r,o,t,"move",!!i),P=await this.resolve(t,{resolveMetadata:!0});return this.r.fire(new $.$rk(r,l==="move"?2:3,P)),P}async copy(r,t,i){const n=await this.m(r),o=this.qb(await this.n(t),t),l=await this.N(n,r,o,t,"copy",!!i),P=await this.resolve(t,{resolveMetadata:!0});return this.r.fire(new $.$rk(r,l==="copy"?3:2,P)),P}async N(r,t,i,n,o,l){if(t.toString()===n.toString())return o;const{exists:P,isSameResourceWithDifferentPathCase:E}=await this.Q(r,t,i,n,o,l);if(P&&!E&&l&&await this.del(n,{recursive:!0}),await this.U(i,this.R(i).providerExtUri.dirname(n)),o==="copy"){if(r===i&&(0,$.$dk)(r))await r.copy(t,n,{overwrite:l});else{const p=await this.resolve(t);p.isDirectory?await this.P(r,p,i,n):await this.O(r,t,i,n)}return o}else return r===i?(await r.rename(t,n,{overwrite:l}),o):(await this.N(r,t,i,n,"copy",l),await this.del(t,{recursive:!0}),"copy")}async O(r,t,i,n){if((0,$.$fk)(r)&&(0,$.$fk)(i))return this.jb(r,t,i,n);if((0,$.$fk)(r)&&(0,$.$ck)(i))return this.pb(r,t,i,n);if((0,$.$ck)(r)&&(0,$.$fk)(i))return this.nb(r,t,i,n);if((0,$.$ck)(r)&&(0,$.$ck)(i))return this.lb(r,t,i,n)}async P(r,t,i,n){await i.mkdir(n),Array.isArray(t.children)&&await N.Promises.settled(t.children.map(async o=>{const l=this.R(i).providerExtUri.joinPath(n,o.name);return o.isDirectory?this.P(r,await this.resolve(o.resource),i,l):this.O(r,o.resource,i,l)}))}async Q(r,t,i,n,o,l){let P=!1;if(r===i){const{providerExtUri:p,isPathCaseSensitive:O}=this.R(r);if(O||(P=p.isEqual(t,n)),P&&o==="copy")throw new Error((0,y.localize)(15,null,this.sb(t),this.sb(n)));if(!P&&p.isEqualOrParent(n,t))throw new Error((0,y.localize)(16,null,this.sb(t),this.sb(n)))}const E=await this.exists(n);if(E&&!P){if(!l)throw new $.$uk((0,y.localize)(17,null,this.sb(t),this.sb(n)),4);if(r===i){const{providerExtUri:p}=this.R(r);if(p.isEqualOrParent(t,n))throw new Error((0,y.localize)(18,null,this.sb(t),this.sb(n)))}}return{exists:E,isSameResourceWithDifferentPathCase:P}}R(r){const t=this.S(r);return{providerExtUri:t?f.$mg:f.$og,isPathCaseSensitive:t}}S(r){return!!(r.capabilities&1024)}async createFolder(r){const t=this.qb(await this.j(r),r);await this.U(t,r);const i=await this.resolve(r,{resolveMetadata:!0});return this.r.fire(new $.$rk(r,0,i)),i}async U(r,t){const i=[],{providerExtUri:n}=this.R(r);for(;!n.isEqual(t,n.dirname(t));)try{if(!((await r.stat(t)).type&$.FileType.Directory))throw new Error((0,y.localize)(19,null,this.sb(t)));break}catch(o){if((0,$.$pk)(o)!==$.FileSystemProviderErrorCode.FileNotFound)throw o;i.push(n.basename(t)),t=n.dirname(t)}for(let o=i.length-1;o>=0;o--){t=n.joinPath(t,i[o]);try{await r.mkdir(t)}catch(l){if((0,$.$pk)(l)!==$.FileSystemProviderErrorCode.FileExists)throw l}}}async canDelete(r,t){try{await this.W(r,t)}catch(i){return i}return!0}async W(r,t){const i=this.qb(await this.j(r),r),n=!!t?.useTrash;if(n&&!(i.capabilities&4096))throw new Error((0,y.localize)(20,null,this.sb(r)));const o=t?.atomic;if(o&&!(i.capabilities&65536))throw new Error((0,y.localize)(21,null,this.sb(r)));if(n&&o)throw new Error((0,y.localize)(22,null,this.sb(r)));let l;try{l=await i.stat(r)}catch{}if(l)this.rb(r,l);else throw new $.$uk((0,y.localize)(23,null,this.sb(r)),1);if(!!!t?.recursive){const E=await this.resolve(r);if(E.isDirectory&&Array.isArray(E.children)&&E.children.length>0)throw new Error((0,y.localize)(24,null,this.sb(r)))}return i}async del(r,t){const i=await this.W(r,t);let n=t;if((0,$.$jk)(i)&&!n?.atomic){const E=i.enforceAtomicDelete?.(r);E&&(n={...t,atomic:E})}const o=!!n?.useTrash,l=!!n?.recursive,P=n?.atomic??!1;await i.delete(r,{recursive:l,useTrash:o,atomic:P}),this.r.fire(new $.$rk(r,1))}async cloneFile(r,t){const i=await this.j(r),n=this.qb(await this.n(t),t);if(i===n&&this.R(i).providerExtUri.isEqual(r,t))return;if(i===n&&(0,$.$ek)(i))return i.cloneFile(r,t);await this.U(n,this.R(n).providerExtUri.dirname(t));const o=this.cb.queueFor(r,this.R(i).providerExtUri);return i===n&&(0,$.$dk)(i)?o.queue(()=>i.copy(r,t,{overwrite:!0})):o.queue(()=>this.O(i,r,n,t))}static{this.ab=0}createWatcher(r,t){return this.watch(r,{...t,correlationId:d.ab++})}watch(r,t={recursive:!1,excludes:[]}){const i=new c.$Rc;let n=!1,o=()=>{n=!0};i.add((0,c.$Qc)(()=>o())),(async()=>{try{const P=await this.bb(r,t);n?(0,c.$Nc)(P):o=()=>(0,c.$Nc)(P)}catch(P){this.b.error(P)}})();const l=t.correlationId;if(typeof l=="number"){const P=i.add(new j.$Od);return i.add(this.X.event(p=>{p.correlates(l)&&P.fire(p)})),{onDidChange:P.event,dispose:()=>i.dispose()}}return i}async bb(r,t){const i=await this.j(r),n=(0,v.$Ei)([this.R(i).providerExtUri.getComparisonKey(r),t]);let o=this.$.get(n);return o||(o={count:0,disposable:i.watch(r,t)},this.$.set(n,o)),o.count+=1,(0,c.$Qc)(()=>{o&&(o.count--,o.count===0&&((0,c.$Nc)(o.disposable),this.$.delete(n)))})}dispose(){super.dispose();for(const[,r]of this.$)(0,c.$Nc)(r.disposable);this.$.clear()}async db(r,t,i,n){return this.cb.queueFor(t,this.R(r).providerExtUri).queue(async()=>{const o=await r.open(t,{create:!0,unlock:i?.unlock??!1});try{(0,S.$1d)(n)||(0,S.$2d)(n)?await this.eb(r,o,n):await this.fb(r,o,n)}catch(l){throw(0,$.$nk)(l)}finally{await r.close(o)}})}async eb(r,t,i){let n=0,o;if((0,S.$2d)(i)){if(i.buffer.length>0){const l=D.$ce.concat(i.buffer);await this.gb(r,t,l,l.byteLength,n,0),n+=l.byteLength}if(i.ended)return;o=i.stream}else o=i;return new Promise((l,P)=>{(0,S.$7d)(o,{onData:async E=>{o.pause();try{await this.gb(r,t,E,E.byteLength,n,0)}catch(p){return P(p)}n+=E.byteLength,setTimeout(()=>o.resume())},onError:E=>P(E),onEnd:()=>l()})})}async fb(r,t,i){let n=0,o;for(;(o=i.read())!==null;)await this.gb(r,t,o,o.byteLength,n,0),n+=o.byteLength}async gb(r,t,i,n,o,l){let P=0;for(;P<n;){const E=await r.write(t,o+P,i.buffer,l+P,n-P);P+=E}}async hb(r,t,i,n){return this.cb.queueFor(t,this.R(r).providerExtUri).queue(()=>this.ib(r,t,i,n))}async ib(r,t,i,n){let o;n instanceof D.$ce?o=n:(0,S.$1d)(n)?o=await(0,D.$oe)(n):(0,S.$2d)(n)?o=await(0,D.$pe)(n):o=(0,D.$me)(n),await r.writeFile(t,o.buffer,{create:!0,overwrite:!0,unlock:i?.unlock??!1,atomic:i?.atomic??!1})}async jb(r,t,i,n){return this.cb.queueFor(n,this.R(i).providerExtUri).queue(()=>this.kb(r,t,i,n))}async kb(r,t,i,n){let o,l;try{o=await r.open(t,{create:!1}),l=await i.open(n,{create:!0,unlock:!1});const P=D.$ce.alloc(this.a);let E=0,p=0,O=0;do O=await r.read(o,E,P.buffer,p,P.byteLength-p),await this.gb(i,l,P,O,E,p),E+=O,p+=O,p===P.byteLength&&(p=0);while(O>0)}catch(P){throw(0,$.$nk)(P)}finally{await N.Promises.settled([typeof o=="number"?r.close(o):Promise.resolve(),typeof l=="number"?i.close(l):Promise.resolve()])}}async lb(r,t,i,n){return this.cb.queueFor(n,this.R(i).providerExtUri).queue(()=>this.mb(r,t,i,n))}async mb(r,t,i,n){return i.writeFile(n,await r.readFile(t),{create:!0,overwrite:!0,unlock:!1,atomic:!1})}async nb(r,t,i,n){return this.cb.queueFor(n,this.R(i).providerExtUri).queue(()=>this.ob(r,t,i,n))}async ob(r,t,i,n){const o=await i.open(n,{create:!0,unlock:!1});try{const l=await r.readFile(t);await this.gb(i,o,D.$ce.wrap(l),l.byteLength,0,0)}catch(l){throw(0,$.$nk)(l)}finally{await i.close(o)}}async pb(r,t,i,n){const o=await(0,D.$oe)(this.H(r,t,A.CancellationToken.None));await this.hb(i,n,void 0,o)}qb(r,t){if(r.capabilities&2048)throw new $.$uk((0,y.localize)(25,null,this.sb(t)),6);return r}rb(r,t){if((t.permissions??0)&$.FilePermission.Readonly)throw new $.$uk((0,y.localize)(26,null,this.sb(r)),6)}sb(r){return r.scheme===I.Schemas.file?r.fsPath:r.toString(!0)}};e.$Rp=w,e.$Rp=w=d=pe([ie(0,b.$$i)],w)}),define(te[124],ne([0,1,125,169,8,31,14,4,170,2,16,13,17,45,24,101,12,61,121,34,119,118]),function(J,e,L,N,D,A,j,v,u,c,k,I,g,f,S,y,$,h,b,R,d,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$eq=void 0,(()=>{try{(0,N.gracefulify)(L)}catch(r){console.error(`Error enabling graceful-fs: ${(0,R.$Bi)(r)}`)}})();class s extends b.$1p{static{this.I=!1}constructor(t,i){super(t,i),this.onDidChangeCapabilities=v.Event.None,this.N=new A.$Ac(n=>g.$ng.getComparisonKey(n)),this.U=new Map,this.W=new Map,this.X=new Map}get capabilities(){return this.J||(this.J=253982,I.$l&&(this.J|=1024)),this.J}async stat(t){try{const{stat:i,symbolicLink:n}=await S.SymlinkSupport.stat(this.H(t));return{type:this.M(i,n),ctime:i.birthtime.getTime(),mtime:i.mtime.getTime(),size:i.size,permissions:i.mode&128?void 0:$.FilePermission.Locked}}catch(i){throw this.fb(i)}}async L(t){try{return await this.stat(t)}catch{return}}async readdir(t){try{const i=await S.Promises.readdir(this.H(t),{withFileTypes:!0}),n=[];return await Promise.all(i.map(async o=>{try{let l;o.isSymbolicLink()?l=(await this.stat((0,g.$wg)(t,o.name))).type:l=this.M(o),n.push([o.name,l])}catch(l){this.a.trace(l)}})),n}catch(i){throw this.fb(i)}}M(t,i){let n;return i?.dangling?n=$.FileType.Unknown:t.isFile()?n=$.FileType.File:t.isDirectory()?n=$.FileType.Directory:n=$.FileType.Unknown,i&&(n|=$.FileType.SymbolicLink),n}async O(t){const i=this.H(t);this.P(`[Disk FileSystemProvider]: createResourceLock() - request to acquire resource lock (${i})`);let n;for(;n=this.N.get(t);)this.P(`[Disk FileSystemProvider]: createResourceLock() - waiting for resource lock to be released (${i})`),await n.wait();const o=new D.$Tg;return this.N.set(t,o),this.P(`[Disk FileSystemProvider]: createResourceLock() - new resource lock created (${i})`),(0,c.$Qc)(()=>{this.P(`[Disk FileSystemProvider]: createResourceLock() - resource lock dispose() (${i})`),this.N.get(t)===o&&(this.P(`[Disk FileSystemProvider]: createResourceLock() - resource lock removed from resource-lock map (${i})`),this.N.delete(t)),this.P(`[Disk FileSystemProvider]: createResourceLock() - resource lock barrier open() (${i})`),o.open()})}async readFile(t,i){let n;try{i?.atomic&&(this.P(`[Disk FileSystemProvider]: atomic read operation started (${this.H(t)})`),n=await this.O(t));const o=this.H(t);return await S.Promises.readFile(o)}catch(o){throw this.fb(o)}finally{n?.dispose()}}P(t){s.I&&this.a.trace(t)}readFileStream(t,i,n){const o=(0,f.$3d)(l=>j.$ce.concat(l.map(P=>j.$ce.wrap(P))).buffer);return(0,h.$Qp)(this,t,o,l=>l.buffer,{...i,bufferSize:256*1024},n),o}async writeFile(t,i,n){return n?.atomic!==!1&&n?.atomic?.postfix&&await this.Q(t)?this.R(t,(0,g.$wg)((0,g.$vg)(t),`${(0,g.$tg)(t)}${n.atomic.postfix}`),i,n):this.S(t,i,n)}async Q(t){try{const i=this.H(t),{symbolicLink:n}=await S.SymlinkSupport.stat(i);if(n)return!1}catch{}return!0}async R(t,i,n,o){const l=new c.$Rc;try{l.add(await this.O(t)),l.add(await this.O(i)),await this.S(i,n,o,!0);try{await this.rename(i,t,{overwrite:!0})}catch(P){try{await this.delete(i,{recursive:!1,useTrash:!1,atomic:!1})}catch{}throw P}}finally{l.dispose()}}async S(t,i,n,o){let l;try{const P=this.H(t);if(!n.create||!n.overwrite){if(await S.Promises.exists(P)){if(!n.overwrite)throw(0,$.$mk)((0,y.localize)(0,null),$.FileSystemProviderErrorCode.FileExists)}else if(!n.create)throw(0,$.$mk)((0,y.localize)(1,null),$.FileSystemProviderErrorCode.FileNotFound)}l=await this.open(t,{create:!0,unlock:n.unlock},o),await this.write(l,0,i,0,i.byteLength)}catch(P){throw await this.gb(t,P)}finally{typeof l=="number"&&await this.close(l)}}static{this.Y=!0}static configureFlushOnWrite(t){s.Y=t}async open(t,i,n){const o=this.H(t);let l;(0,$.$ak)(i)&&!n&&(l=await this.O(t));let P;try{if((0,$.$ak)(i)&&i.unlock)try{const{stat:p}=await S.SymlinkSupport.stat(o);p.mode&128||await S.Promises.chmod(o,p.mode|128)}catch(p){p.code!=="ENOENT"&&this.a.trace(p)}let E;if((0,$.$ak)(i)){if(I.$j)try{await S.Promises.truncate(o,0),E="r+"}catch(p){p.code!=="ENOENT"&&this.a.trace(p)}E||(E="w")}else E="r";P=await S.Promises.open(o,E)}catch(E){throw l?.dispose(),(0,$.$ak)(i)?await this.gb(t,E):this.fb(E)}if(this.U.set(P,0),(0,$.$ak)(i)&&this.X.set(P,t),l){const E=this.W.get(P);this.P(`[Disk FileSystemProvider]: open() - storing lock for handle ${P} (${o})`),this.W.set(P,l),E&&(this.P(`[Disk FileSystemProvider]: open() - disposing a previous lock that was still stored on same handle ${P} (${o})`),E.dispose())}return P}async close(t){const i=this.W.get(t);try{if(this.U.delete(t),this.X.delete(t)&&s.Y)try{await S.Promises.fdatasync(t)}catch(n){s.configureFlushOnWrite(!1),this.a.error(n)}return await S.Promises.close(t)}catch(n){throw this.fb(n)}finally{i&&(this.W.get(t)===i&&(this.P(`[Disk FileSystemProvider]: close() - resource lock removed from handle-lock map ${t}`),this.W.delete(t)),this.P(`[Disk FileSystemProvider]: close() - disposing lock for handle ${t}`),i.dispose())}}async read(t,i,n,o,l){const P=this.Z(t,i);let E=null;try{E=(await S.Promises.read(t,n,o,l,P)).bytesRead}catch(p){throw this.fb(p)}finally{this.$(t,P,E)}return E}Z(t,i){return i===this.U.get(t)?null:i}$(t,i,n){const o=this.U.get(t);typeof o=="number"&&(typeof i=="number"||(typeof n=="number"?this.U.set(t,o+n):this.U.delete(t)))}async write(t,i,n,o,l){return(0,D.$ah)(()=>this.ab(t,i,n,o,l),100,3)}async ab(t,i,n,o,l){const P=this.Z(t,i);let E=null;try{E=(await S.Promises.write(t,n,o,l,P)).bytesWritten}catch(p){throw await this.gb(this.X.get(t),p)}finally{this.$(t,P,E)}return E}async mkdir(t){try{await S.Promises.mkdir(this.H(t))}catch(i){throw this.fb(i)}}async delete(t,i){try{const n=this.H(t);if(i.recursive){let o;i?.atomic!==!1&&i.atomic.postfix&&(o=(0,k.$jc)((0,k.$mc)(n),`${(0,k.$nc)(n)}${i.atomic.postfix}`)),await S.Promises.rm(n,S.RimRafMode.MOVE,o)}else try{await S.Promises.unlink(n)}catch(o){if(o.code==="EPERM"||o.code==="EISDIR"){let l=!1;try{const{stat:P,symbolicLink:E}=await S.SymlinkSupport.stat(n);l=P.isDirectory()&&!E}catch{}if(l)await S.Promises.rmdir(n);else throw o}else throw o}}catch(n){throw this.fb(n)}}async rename(t,i,n){const o=this.H(t),l=this.H(i);if(o!==l)try{await this.bb(t,i,"move",n.overwrite),await S.Promises.rename(o,l)}catch(P){throw(P.code==="EINVAL"||P.code==="EBUSY"||P.code==="ENAMETOOLONG")&&(P=new Error((0,y.localize)(2,null,(0,k.$nc)(o),(0,k.$nc)((0,k.$mc)(l)),P.toString()))),this.fb(P)}}async copy(t,i,n){const o=this.H(t),l=this.H(i);if(o!==l)try{await this.bb(t,i,"copy",n.overwrite),await S.Promises.copy(o,l,{preserveSymlinks:!0})}catch(P){throw(P.code==="EINVAL"||P.code==="EBUSY"||P.code==="ENAMETOOLONG")&&(P=new Error((0,y.localize)(3,null,(0,k.$nc)(o),(0,k.$nc)((0,k.$mc)(l)),P.toString()))),this.fb(P)}}async bb(t,i,n,o){const l=this.H(t),P=this.H(i);let E=!1;if(!!(this.capabilities&1024)||(E=(0,u.$Xf)(l,P,!0)),E){if(n==="copy")throw(0,$.$mk)((0,y.localize)(4,null),$.FileSystemProviderErrorCode.FileExists);if(n==="move")return}const O=await this.L(t);if(!O)throw(0,$.$mk)((0,y.localize)(5,null),$.FileSystemProviderErrorCode.FileNotFound);const B=await this.L(i);if(B){if(!o)throw(0,$.$mk)((0,y.localize)(6,null),$.FileSystemProviderErrorCode.FileExists);O.type&$.FileType.File&&B.type&$.FileType.File||await this.delete(i,{recursive:!0,useTrash:!1,atomic:!1})}}async cloneFile(t,i){return this.cb(t,i,!1)}async cb(t,i,n){const o=this.H(t),l=this.H(i),P=!!(this.capabilities&1024);if((0,u.$Xf)(o,l,!P))return;const E=new c.$Rc;try{E.add(await this.O(t)),E.add(await this.O(i)),n&&await S.Promises.mkdir((0,k.$mc)(l),{recursive:!0}),await S.Promises.copyFile(o,l)}catch(p){if(p.code==="ENOENT"&&!n)return this.cb(t,i,!0);throw this.fb(p)}finally{E.dispose()}}t(t,i,n){return new d.$8p(o=>t(o),o=>i(o),n)}F(t,i,n){return new w.$dq(o=>t(o),o=>i(o),n)}fb(t){if(t instanceof $.$lk)return t;let i=t,n;switch(t.code){case"ENOENT":n=$.FileSystemProviderErrorCode.FileNotFound;break;case"EISDIR":n=$.FileSystemProviderErrorCode.FileIsADirectory;break;case"ENOTDIR":n=$.FileSystemProviderErrorCode.FileNotADirectory;break;case"EEXIST":n=$.FileSystemProviderErrorCode.FileExists;break;case"EPERM":case"EACCES":n=$.FileSystemProviderErrorCode.NoPermissions;break;case"ERR_UNC_HOST_NOT_ALLOWED":i=`${t.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`,n=$.FileSystemProviderErrorCode.Unknown;break;default:n=$.FileSystemProviderErrorCode.Unknown}return(0,$.$mk)(i,n)}async gb(t,i){let n=this.fb(i);if(t&&n.code===$.FileSystemProviderErrorCode.NoPermissions)try{const{stat:o}=await S.SymlinkSupport.stat(this.H(t));o.mode&128||(n=(0,$.$mk)(i,$.FileSystemProviderErrorCode.FileWriteLocked))}catch(o){this.a.trace(o)}return n}}e.$eq=s}),define(te[126],ne([0,1,2,6]),function(J,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$NN=void 0;class D extends L.$Sc{constructor(j,v=[]){super(),this.a=new N.$ij([j,...v]),this.B(j.onDidChangeLogLevel(u=>this.setLevel(u)))}get onDidChangeLogLevel(){return this.a.onDidChangeLogLevel}setLevel(j){this.a.setLevel(j)}getLevel(){return this.a.getLevel()}trace(j,...v){this.a.trace(j,...v)}debug(j,...v){this.a.debug(j,...v)}info(j,...v){this.a.info(j,...v)}warn(j,...v){this.a.warn(j,...v)}error(j,...v){this.a.error(j,...v)}flush(){this.a.flush()}}e.$NN=D}),define(te[127],ne([0,1,12,6]),function(J,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$CN=void 0;var D;(function(c){c[c.Trace=0]="Trace",c[c.Debug=1]="Debug",c[c.Info=2]="Info",c[c.Warning=3]="Warning",c[c.Error=4]="Error",c[c.Critical=5]="Critical",c[c.Off=6]="Off"})(D||(D={}));async function A(c,k,I,g,f){try{const S=await new Promise(($,h)=>{J(["@vscode/spdlog"],$,h)});S.setFlushOn(D.Trace);const y=await S.createAsyncRotatingLogger(c,k,I,g);return f?y.clearFormatters():y.setPattern("%Y-%m-%d %H:%M:%S.%e [%l] %v"),y}catch(S){console.error(S)}return null}function j(c,k,I){switch(k){case N.LogLevel.Trace:c.trace(I);break;case N.LogLevel.Debug:c.debug(I);break;case N.LogLevel.Info:c.info(I);break;case N.LogLevel.Warning:c.warn(I);break;case N.LogLevel.Error:c.error(I);break;case N.LogLevel.Off:break;default:throw new Error(`Invalid log level ${k}`)}}function v(c,k){switch(k){case N.LogLevel.Trace:c.setLevel(D.Trace);break;case N.LogLevel.Debug:c.setLevel(D.Debug);break;case N.LogLevel.Info:c.setLevel(D.Info);break;case N.LogLevel.Warning:c.setLevel(D.Warning);break;case N.LogLevel.Error:c.setLevel(D.Error);break;case N.LogLevel.Off:c.setLevel(D.Off);break;default:throw new Error(`Invalid log level ${k}`)}}class u extends N.$ej{constructor(k,I,g,f,S){super(),this.m=[],this.setLevel(S),this.n=this.s(k,I,g,f),this.B(this.onDidChangeLogLevel(y=>{this.r&&v(this.r,y)}))}async s(k,I,g,f){const S=g?6:1,y=30/S*L.$Hk.MB,$=await A(k,I,y,S,f);if($){this.r=$,v(this.r,this.getLevel());for(const{level:h,message:b}of this.m)j(this.r,h,b);this.m=[]}}g(k,I){this.r?j(this.r,k,I):this.getLevel()<=k&&this.m.push({level:k,message:I})}flush(){this.r?this.r.flush():this.n.then(()=>this.flush())}dispose(){this.r?this.u():this.n.then(()=>this.u())}u(){this.r&&(this.r.drop(),this.r=void 0)}}e.$CN=u}),define(te[128],ne([0,1,28,6,127]),function(J,e,L,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$DN=void 0;class A extends N.$jj{s(v,u,c){return new D.$CN((0,L.$fg)(),v.fsPath,!c?.donotRotate,!!c?.donotUseFormatters,u)}}e.$DN=A}),define(te[38],ne([0,1,4,65,2,10]),function(J,e,L,N,D,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$on=e.$nn=e.$mn=void 0,e.$mn=(0,A.$Qh)("policy");class j extends D.$Sc{constructor(){super(...arguments),this.f={},this.g=new Map,this.h=this.B(new L.$Od),this.onDidChange=this.h.event}async updatePolicyDefinitions(c){const k=Object.keys(this.f).length;return this.f={...c,...this.f},k!==Object.keys(this.f).length&&await this.j(c),N.Iterable.reduce(this.g.entries(),(I,[g,f])=>({...I,[g]:f}),{})}getPolicyValue(c){return this.g.get(c)}serialize(){return N.Iterable.reduce(Object.entries(this.f),(c,[k,I])=>({...c,[k]:{definition:I,value:this.g.get(k)}}),{})}}e.$nn=j;class v{constructor(){this.onDidChange=L.Event.None}async updatePolicyDefinitions(){return{}}getPolicyValue(){}serialize(){}}e.$on=v}),define(te[129],ne([0,1,8,4,65,3,12,6,38]),function(J,e,L,N,D,A,j,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$I8b=void 0;function c(I,g){const f=[];for(const S of new Set(D.Iterable.concat(I.keys(),g.keys())))I.get(S)!==g.get(S)&&f.push(S);return f}let k=class extends u.$nn{constructor(g,f,S){super(),this.m=g,this.n=f,this.s=S,this.c=this.B(new L.$Sg(500));const y=N.Event.filter(f.onDidFilesChange,$=>$.affects(g));this.B(f.watch(g)),this.B(y(()=>this.c.trigger(()=>this.w())))}async j(){await this.w()}async u(){const g=new Map;try{const f=await this.n.readFile(this.m),S=JSON.parse(f.value.toString());if(!(0,A.$Bf)(S))throw new Error("Policy file isn't a JSON object");for(const y of Object.keys(S))this.f[y]&&g.set(y,S[y])}catch(f){f.fileOperationResult!==1&&this.s.error("[FilePolicyService] Failed to read policies",f)}return g}async w(){const g=await this.u(),f=c(this.g,g);this.g=g,f.length>0&&this.h.fire(f)}};e.$I8b=k,e.$I8b=k=pe([ie(1,j.$_j),ie(2,v.$$i)],k)}),define(te[130],ne([0,1,38,8,171,2,6]),function(J,e,L,N,D,A,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$H8b=void 0;let v=class extends L.$nn{constructor(c,k){super(),this.m=c,this.n=k,this.a=new N.$Og,this.b=this.B(new A.$Tc)}async j(c){this.m.trace(`NativePolicyService#_updatePolicyDefinitions - Found ${Object.keys(c).length} policy definitions`),await this.a.queue(()=>new Promise((k,I)=>{try{this.b.value=(0,D.createWatcher)(this.n,c,g=>{this.t(g),k()})}catch(g){this.m.error("NativePolicyService#_updatePolicyDefinitions - Error creating watcher:",g),I(g)}}))}t(c){this.m.trace(`NativePolicyService#_onDidPolicyChange - Updated policy values: ${JSON.stringify(c)}`);for(const k in c){const I=c[k];I===void 0?this.g.delete(k):this.g.set(k,I)}this.h.fire(Object.keys(c))}};e.$H8b=v,e.$H8b=v=pe([ie(0,j.$$i)],v)}),define(te[32],ne([0,1,10]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$rj=e.$qj=void 0,e.$qj=(0,L.$Qh)("productService"),e.$rj="vscode://schemas/vscode-product"}),define(te[36],ne([0,1,71,3]),function(J,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$kn=void 0;class D{constructor(){this.a=new Map}add(j,v){L.ok(N.$zf(j)),L.ok(N.$Bf(v)),L.ok(!this.a.has(j),"There is already an extension with this id"),this.a.set(j,v)}knows(j){return this.a.has(j)}as(j){return this.a.get(j)||null}}e.$kn=new D}),define(te[131],ne([0,1,4,36]),function(J,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ln=void 0,e.$ln={JSONContribution:"base.contributions.json"};function D(v){return v.length>0&&v.charAt(v.length-1)==="#"?v.substring(0,v.length-1):v}class A{constructor(){this.b=new L.$Od,this.onDidChangeSchema=this.b.event,this.a={}}registerSchema(u,c){this.a[D(u)]=c,this.b.fire(u)}notifySchemaChanged(u){this.b.fire(u)}getSchemaContributions(){return{schemas:this.a}}}const j=new A;N.$kn.add(e.$ln.JSONContribution,j)}),define(te[43],ne([0,1,19,4,3,88,25,131,36]),function(J,e,L,N,D,A,j,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$En=e.$Dn=e.$Cn=e.$Bn=e.$An=e.$zn=e.$yn=e.$xn=e.$wn=e.$vn=e.$un=e.$tn=e.$sn=e.$rn=e.$qn=e.ConfigurationScope=e.$pn=e.EditPresentationTypes=void 0;var c;(function(w){w.Multiline="multilineText",w.Singleline="singlelineText"})(c||(e.EditPresentationTypes=c={})),e.$pn={Configuration:"base.contributions.configuration"};var k;(function(w){w[w.APPLICATION=1]="APPLICATION",w[w.MACHINE=2]="MACHINE",w[w.WINDOW=3]="WINDOW",w[w.RESOURCE=4]="RESOURCE",w[w.LANGUAGE_OVERRIDABLE=5]="LANGUAGE_OVERRIDABLE",w[w.MACHINE_OVERRIDABLE=6]="MACHINE_OVERRIDABLE"})(k||(e.ConfigurationScope=k={})),e.$qn={properties:{},patternProperties:{}},e.$rn={properties:{},patternProperties:{}},e.$sn={properties:{},patternProperties:{}},e.$tn={properties:{},patternProperties:{}},e.$un={properties:{},patternProperties:{}},e.$vn={properties:{},patternProperties:{}},e.$wn="vscode://schemas/settings/resourceLanguage",e.$xn="vscode://schemas/settings/configurationDefaults";const I=u.$kn.as(v.$ln.JSONContribution);class g{constructor(){this.h=new Set,this.i=new N.$Od,this.onDidSchemaChange=this.i.event,this.j=new N.$Od,this.onDidUpdateConfiguration=this.j.event,this.a=new Map,this.b={id:"defaultOverrides",title:A.localize(0,null),properties:{}},this.c=[this.b],this.g={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.d={},this.e=new Map,this.f={},I.registerSchema(e.$wn,this.g),this.v()}registerConfiguration(s,r=!0){this.registerConfigurations([s],r)}registerConfigurations(s,r=!0){const t=new Set;this.n(s,r,t),I.registerSchema(e.$wn,this.g),this.i.fire(),this.j.fire({properties:t})}deregisterConfigurations(s){const r=new Set;this.o(s,r),I.registerSchema(e.$wn,this.g),this.i.fire(),this.j.fire({properties:r})}updateConfigurations({add:s,remove:r}){const t=new Set;this.o(r,t),this.n(s,!1,t),I.registerSchema(e.$wn,this.g),this.i.fire(),this.j.fire({properties:t})}registerDefaultConfigurations(s){const r=new Set;this.k(s,r),this.i.fire(),this.j.fire({properties:r,defaultsOverrides:!0})}k(s,r){const t=[];for(const{overrides:i,source:n}of s)for(const o in i)if(r.add(o),e.$zn.test(o)){const l=this.a.get(o),P=l?.valuesSources??new Map;if(n)for(const B of Object.keys(i[o]))P.set(B,n);const E={...l?.value||{},...i[o]};this.a.set(o,{source:n,value:E,valuesSources:P});const p=(0,j.$ui)(o),O={type:"object",default:E,description:A.localize(1,null,p),$ref:e.$wn,defaultDefaultValue:E,source:D.$zf(n)?void 0:n,defaultValueSource:n};t.push(...y(o)),this.d[o]=O,this.b.properties[o]=O}else{this.a.set(o,{value:i[o],source:n});const l=this.d[o];l&&(this.w(o,l),this.r(o,l))}this.m(t)}deregisterDefaultConfigurations(s){const r=new Set;this.l(s,r),this.i.fire(),this.j.fire({properties:r,defaultsOverrides:!0})}l(s,r){for(const{overrides:t,source:i}of s)for(const n in t){const o=this.a.get(n),l=D.$zf(i)?i:i?.id,P=D.$zf(o?.source)?o?.source:o?.source?.id;if(l===P)if(r.add(n),this.a.delete(n),e.$zn.test(n))delete this.d[n],delete this.b.properties[n];else{const E=this.d[n];E&&(this.w(n,E),this.r(n,E))}}this.u()}deltaConfiguration(s){let r=!1;const t=new Set;s.removedDefaults&&(this.l(s.removedDefaults,t),r=!0),s.addedDefaults&&(this.k(s.addedDefaults,t),r=!0),s.removedConfigurations&&this.o(s.removedConfigurations,t),s.addedConfigurations&&this.n(s.addedConfigurations,!1,t),this.i.fire(),this.j.fire({properties:t,defaultsOverrides:r})}notifyConfigurationSchemaUpdated(...s){this.i.fire()}registerOverrideIdentifiers(s){this.m(s),this.i.fire()}m(s){for(const r of s)this.h.add(r);this.u()}n(s,r,t){s.forEach(i=>{this.p(i,r,i.extensionInfo,i.restrictedProperties,void 0,t),this.c.push(i),this.q(i)})}o(s,r){const t=i=>{if(i.properties)for(const n in i.properties){r.add(n);const o=this.d[n];o?.policy?.name&&this.e.delete(o.policy.name),delete this.d[n],this.s(n,i.properties[n])}i.allOf?.forEach(n=>t(n))};for(const i of s){t(i);const n=this.c.indexOf(i);n!==-1&&this.c.splice(n,1)}}p(s,r=!0,t,i,n=3,o){n=D.$If(s.scope)?n:s.scope;const l=s.properties;if(l)for(const E in l){const p=l[E];if(r&&R(E,p)){delete l[E];continue}if(p.source=t,p.defaultDefaultValue=l[E].default,this.w(E,p),e.$zn.test(E)?p.scope=void 0:(p.scope=D.$If(p.scope)?n:p.scope,p.restricted=D.$If(p.restricted)?!!i?.includes(E):p.restricted),l[E].hasOwnProperty("included")&&!l[E].included){this.f[E]=l[E],delete l[E];continue}else this.d[E]=l[E],l[E].policy?.name&&this.e.set(l[E].policy.name,E);!l[E].deprecationMessage&&l[E].markdownDeprecationMessage&&(l[E].deprecationMessage=l[E].markdownDeprecationMessage),o.add(E)}const P=s.allOf;if(P)for(const E of P)this.p(E,r,t,i,n,o)}getConfigurations(){return this.c}getConfigurationProperties(){return this.d}getPolicyConfigurations(){return this.e}getExcludedConfigurationProperties(){return this.f}getConfigurationDefaultsOverrides(){return this.a}q(s){const r=t=>{const i=t.properties;if(i)for(const o in i)this.r(o,i[o]);t.allOf?.forEach(r)};r(s)}r(s,r){switch(e.$qn.properties[s]=r,r.scope){case 1:e.$rn.properties[s]=r;break;case 2:e.$sn.properties[s]=r;break;case 6:e.$tn.properties[s]=r;break;case 3:e.$un.properties[s]=r;break;case 4:e.$vn.properties[s]=r;break;case 5:e.$vn.properties[s]=r,this.g.properties[s]=r;break}}s(s,r){switch(delete e.$qn.properties[s],r.scope){case 1:delete e.$rn.properties[s];break;case 2:delete e.$sn.properties[s];break;case 6:delete e.$tn.properties[s];break;case 3:delete e.$un.properties[s];break;case 4:case 5:delete e.$vn.properties[s],delete this.g.properties[s];break}}u(){for(const s of this.h.values()){const r=`[${s}]`,t={type:"object",description:A.localize(2,null),errorMessage:A.localize(3,null),$ref:e.$wn};this.w(r,t),e.$qn.properties[r]=t,e.$rn.properties[r]=t,e.$sn.properties[r]=t,e.$tn.properties[r]=t,e.$un.properties[r]=t,e.$vn.properties[r]=t}}v(){const s={type:"object",description:A.localize(4,null),errorMessage:A.localize(5,null),$ref:e.$wn};e.$qn.patternProperties[e.$yn]=s,e.$rn.patternProperties[e.$yn]=s,e.$sn.patternProperties[e.$yn]=s,e.$tn.patternProperties[e.$yn]=s,e.$un.patternProperties[e.$yn]=s,e.$vn.patternProperties[e.$yn]=s,this.i.fire()}w(s,r){const t=this.a.get(s);let i=t?.value,n=t?.source;D.$Gf(i)&&(i=r.defaultDefaultValue,n=void 0),D.$Gf(i)&&(i=h(r.type)),r.default=i,r.defaultValueSource=n}}const f="\\[([^\\]]+)\\]",S=new RegExp(f,"g");e.$yn=`^(${f})+$`,e.$zn=new RegExp(e.$yn);function y(w){const s=[];if(e.$zn.test(w)){let r=S.exec(w);for(;r?.length;){const t=r[1].trim();t&&s.push(t),r=S.exec(w)}}return(0,L.$Mb)(s)}e.$An=y;function $(w){return w.reduce((s,r)=>`${s}[${r}]`,"")}e.$Bn=$;function h(w){switch(Array.isArray(w)?w[0]:w){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.$Cn=h;const b=new g;u.$kn.add(e.$pn.Configuration,b);function R(w,s){return w.trim()?e.$zn.test(w)?A.localize(7,null,w):b.getConfigurationProperties()[w]!==void 0?A.localize(8,null,w):s.policy?.name&&b.getPolicyConfigurations().get(s.policy?.name)!==void 0?A.localize(9,null,w,s.policy?.name,b.getPolicyConfigurations().get(s.policy?.name)):null:A.localize(6,null)}e.$Dn=R;function d(){const w=[],s=b.getConfigurationProperties();for(const r of Object.keys(s))w.push([r,s[r].scope]);return w.push(["launch",4]),w.push(["task",4]),w}e.$En=d}),define(te[66],ne([0,1,19,4,53,2,31,30,3,11,25,43,36]),function(J,e,L,N,D,A,j,v,u,c,k,I,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Kn=e.$Jn=e.$In=e.$Hn=e.$Gn=e.$Fn=void 0;function f(r){return Object.isFrozen(r)?r:v.$9m(r)}class S{constructor(t={},i=[],n=[],o){this.b=t,this.c=i,this.d=n,this.raw=o,this.a=new Map}get rawConfiguration(){if(!this.f)if(this.raw?.length){const t=this.raw.map(i=>{if(i instanceof S)return i;const n=new y("");return n.parseRaw(i),n.configurationModel});this.f=t.reduce((i,n)=>n===i?n:i.merge(n),t[0])}else this.f=this;return this.f}get contents(){return this.b}get overrides(){return this.d}get keys(){return this.c}isEmpty(){return this.c.length===0&&Object.keys(this.b).length===0&&this.d.length===0}getValue(t){return t?(0,k.$si)(this.contents,t):this.contents}inspect(t,i){const n=this.rawConfiguration.getValue(t),o=i?this.rawConfiguration.getOverrideValue(t,i):void 0,l=i?this.rawConfiguration.override(i).getValue(t):n;return{value:n,override:o,merged:l}}getOverrideValue(t,i){const n=this.i(i);return n?t?(0,k.$si)(n,t):n:void 0}getKeysForOverrideIdentifier(t){const i=[];for(const n of this.overrides)n.identifiers.includes(t)&&i.push(...n.keys);return L.$Mb(i)}getAllOverrideIdentifiers(){const t=[];for(const i of this.overrides)t.push(...i.identifiers);return L.$Mb(t)}override(t){let i=this.a.get(t);return i||(i=this.g(t),this.a.set(t,i)),i}merge(...t){const i=v.$8m(this.contents),n=v.$8m(this.overrides),o=[...this.keys],l=this.raw?.length?[...this.raw]:[this];for(const P of t)if(l.push(...P.raw?.length?P.raw:[P]),!P.isEmpty()){this.h(i,P.contents);for(const E of P.overrides){const[p]=n.filter(O=>L.$ub(O.identifiers,E.identifiers));p?(this.h(p.contents,E.contents),p.keys.push(...E.keys),p.keys=L.$Mb(p.keys)):n.push(v.$8m(E))}for(const E of P.keys)o.indexOf(E)===-1&&o.push(E)}return new S(i,o,n,l.every(P=>P instanceof S)?void 0:l)}g(t){const i=this.i(t);if(!i||typeof i!="object"||!Object.keys(i).length)return this;const n={};for(const o of L.$Mb([...Object.keys(this.contents),...Object.keys(i)])){let l=this.contents[o];const P=i[o];P&&(typeof l=="object"&&typeof P=="object"?(l=v.$8m(l),this.h(l,P)):l=P),n[o]=l}return new S(n,this.keys,this.overrides)}h(t,i){for(const n of Object.keys(i)){if(n in t&&u.$Bf(t[n])&&u.$Bf(i[n])){this.h(t[n],i[n]);continue}t[n]=v.$8m(i[n])}}i(t){let i=null,n=null;const o=l=>{l&&(n?this.h(n,l):n=v.$8m(l))};for(const l of this.overrides)l.identifiers.length===1&&l.identifiers[0]===t?i=l.contents:l.identifiers.includes(t)&&o(l.contents);return o(i),n}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(t,i){this.j(t,i,!0)}setValue(t,i){this.j(t,i,!1)}removeValue(t){const i=this.keys.indexOf(t);i!==-1&&(this.keys.splice(i,1),(0,k.$ri)(this.contents,t),I.$zn.test(t)&&this.overrides.splice(this.overrides.findIndex(n=>L.$ub(n.identifiers,(0,I.$An)(t))),1))}j(t,i,n){(0,k.$qi)(this.contents,t,i,o=>console.error(o)),n=n||this.keys.indexOf(t)===-1,n&&this.keys.push(t),I.$zn.test(t)&&this.overrides.push({identifiers:(0,I.$An)(t),keys:Object.keys(this.contents[t]),contents:(0,k.$pi)(this.contents[t],o=>console.error(o))})}}e.$Fn=S;class y{constructor(t){this.f=t,this.a=null,this.b=null,this.c=[],this.d=[]}get configurationModel(){return this.b||new S}get restrictedConfigurations(){return this.c}get errors(){return this.d}parse(t,i){if(!u.$If(t)){const n=this.g(t);this.parseRaw(n,i)}}reparse(t){this.a&&this.parseRaw(this.a,t)}parseRaw(t,i){this.a=t;const{contents:n,keys:o,overrides:l,restricted:P,hasExcludedProperties:E}=this.h(t,i);this.b=new S(n,o,l,E?[t]:void 0),this.c=P||[]}g(t){let i={},n=null,o=[];const l=[],P=[];function E(O){Array.isArray(o)?o.push(O):n!==null&&(o[n]=O)}const p={onObjectBegin:()=>{const O={};E(O),l.push(o),o=O,n=null},onObjectProperty:O=>{n=O},onObjectEnd:()=>{o=l.pop()},onArrayBegin:()=>{const O=[];E(O),l.push(o),o=O,n=null},onArrayEnd:()=>{o=l.pop()},onLiteralValue:E,onError:(O,B,_)=>{P.push({error:O,offset:B,length:_})}};if(t)try{D.$5m(t,p),i=o[0]||{}}catch(O){console.error(`Error while parsing settings file ${this.f}: ${O}`),this.d=[O]}return i}h(t,i){const n=g.$kn.as(I.$pn.Configuration).getConfigurationProperties(),o=this.i(t,n,!0,i);t=o.raw;const l=(0,k.$pi)(t,p=>console.error(`Conflict in settings file ${this.f}: ${p}`)),P=Object.keys(t),E=this.j(t,p=>console.error(`Conflict in settings file ${this.f}: ${p}`));return{contents:l,keys:P,overrides:E,restricted:o.restricted,hasExcludedProperties:o.hasExcludedProperties}}i(t,i,n,o){let l=!1;if(!o?.scopes&&!o?.skipRestricted&&!o?.exclude?.length)return{raw:t,restricted:[],hasExcludedProperties:l};const P={},E=[];for(const p in t)if(I.$zn.test(p)&&n){const O=this.i(t[p],i,!1,o);P[p]=O.raw,l=l||O.hasExcludedProperties,E.push(...O.restricted)}else{const O=i[p],B=O?typeof O.scope<"u"?O.scope:3:void 0;O?.restricted&&E.push(p),!o.exclude?.includes(p)&&(o.include?.includes(p)||(B===void 0||o.scopes===void 0||o.scopes.includes(B))&&!(o.skipRestricted&&O?.restricted))?P[p]=t[p]:l=!0}return{raw:P,restricted:E,hasExcludedProperties:l}}j(t,i){const n=[];for(const o of Object.keys(t))if(I.$zn.test(o)){const l={};for(const P in t[o])l[P]=t[o][P];n.push({identifiers:(0,I.$An)(o),keys:Object.keys(l),contents:(0,k.$pi)(l,i)})}return n}}e.$Gn=y;class $ extends A.$Sc{constructor(t,i,n,o){super(),this.c=t,this.f=i,this.g=o,this.b=this.B(new N.$Od),this.onDidChange=this.b.event,this.a=new y(this.c.toString()),this.B(this.g.watch(n.dirname(this.c))),this.B(this.g.watch(this.c)),this.B(N.Event.any(N.Event.filter(this.g.onDidFilesChange,l=>l.contains(this.c)),N.Event.filter(this.g.onDidRunOperation,l=>(l.isOperation(0)||l.isOperation(3)||l.isOperation(1)||l.isOperation(4))&&n.isEqual(l.resource,t)))(()=>this.b.fire()))}async loadConfiguration(){try{const t=await this.g.readFile(this.c);return this.a.parse(t.value.toString()||"{}",this.f),this.a.configurationModel}catch{return new S}}reparse(t){return t&&(this.f=t),this.a.reparse(this.f),this.a.configurationModel}getRestrictedSettings(){return this.a.restrictedConfigurations}}e.$Hn=$;class h{constructor(t,i,n,o,l,P,E,p,O,B,_,ee,oe){this.a=t,this.b=i,this.c=n,this.overrideIdentifiers=o,this.d=l,this.f=P,this.g=E,this.h=p,this.i=O,this.j=B,this.k=_,this.l=ee,this.m=oe}get value(){return f(this.c)}n(t,i,n){const o=t.inspect(i,n);return{get value(){return f(o.value)},get override(){return f(o.override)},get merged(){return f(o.merged)}}}get q(){return this.p||(this.p=this.n(this.d,this.a,this.b.overrideIdentifier)),this.p}get defaultValue(){return this.q.merged}get default(){return this.q.value!==void 0||this.q.override!==void 0?{value:this.q.value,override:this.q.override}:void 0}get s(){return this.r===void 0&&(this.r=this.f?this.n(this.f,this.a):null),this.r}get policyValue(){return this.s?.merged}get policy(){return this.s?.value!==void 0?{value:this.s.value}:void 0}get u(){return this.t===void 0&&(this.t=this.g?this.n(this.g,this.a):null),this.t}get applicationValue(){return this.u?.merged}get application(){return this.u?.value!==void 0||this.u?.override!==void 0?{value:this.u.value,override:this.u.override}:void 0}get w(){return this.v||(this.v=this.n(this.h,this.a,this.b.overrideIdentifier)),this.v}get userValue(){return this.w.merged}get user(){return this.w.value!==void 0||this.w.override!==void 0?{value:this.w.value,override:this.w.override}:void 0}get y(){return this.x||(this.x=this.n(this.i,this.a,this.b.overrideIdentifier)),this.x}get userLocalValue(){return this.y.merged}get userLocal(){return this.y.value!==void 0||this.y.override!==void 0?{value:this.y.value,override:this.y.override}:void 0}get A(){return this.z||(this.z=this.n(this.j,this.a,this.b.overrideIdentifier)),this.z}get userRemoteValue(){return this.A.merged}get userRemote(){return this.A.value!==void 0||this.A.override!==void 0?{value:this.A.value,override:this.A.override}:void 0}get D(){return this.B===void 0&&(this.B=this.k?this.n(this.k,this.a,this.b.overrideIdentifier):null),this.B}get workspaceValue(){return this.D?.merged}get workspace(){return this.D?.value!==void 0||this.D?.override!==void 0?{value:this.D.value,override:this.D.override}:void 0}get F(){return this.E===void 0&&(this.E=this.l?this.n(this.l,this.a,this.b.overrideIdentifier):null),this.E}get workspaceFolderValue(){return this.F?.merged}get workspaceFolder(){return this.F?.value!==void 0||this.F?.override!==void 0?{value:this.F.value,override:this.F.override}:void 0}get H(){return this.G===void 0&&(this.G=this.n(this.m,this.a,this.b.overrideIdentifier)),this.G}get memoryValue(){return this.H.merged}get memory(){return this.H.value!==void 0||this.H.override!==void 0?{value:this.H.value,override:this.H.override}:void 0}}class b{constructor(t,i,n,o,l=new S,P=new S,E=new j.$Ac,p=new S,O=new j.$Ac){this.c=t,this.d=i,this.f=n,this.g=o,this.h=l,this.i=P,this.j=E,this.l=p,this.m=O,this.a=null,this.b=new j.$Ac,this.n=null}getValue(t,i,n){return this.q(t,i,n).getValue(t)}updateValue(t,i,n={}){let o;n.resource?(o=this.m.get(n.resource),o||(o=new S,this.m.set(n.resource,o))):o=this.l,i===void 0?o.removeValue(t):o.setValue(t,i),n.resource||(this.a=null)}inspect(t,i,n){const o=this.q(t,i,n),l=this.u(i.resource,n),P=i.resource?this.m.get(i.resource)||this.l:this.l,E=new Set;for(const p of o.overrides)for(const O of p.identifiers)o.getOverrideValue(t,O)!==void 0&&E.add(O);return new h(t,i,o.getValue(t),E.size?[...E]:void 0,this.c,this.d.isEmpty()?void 0:this.d,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,n?this.i:void 0,l||void 0,P)}keys(t){const i=this.u(void 0,t);return{default:this.c.keys.slice(0),user:this.userConfiguration.keys.slice(0),workspace:this.i.keys.slice(0),workspaceFolder:i?i.keys.slice(0):[]}}updateDefaultConfiguration(t){this.c=t,this.a=null,this.b.clear()}updatePolicyConfiguration(t){this.d=t}updateApplicationConfiguration(t){this.f=t,this.a=null,this.b.clear()}updateLocalUserConfiguration(t){this.g=t,this.n=null,this.a=null,this.b.clear()}updateRemoteUserConfiguration(t){this.h=t,this.n=null,this.a=null,this.b.clear()}updateWorkspaceConfiguration(t){this.i=t,this.a=null,this.b.clear()}updateFolderConfiguration(t,i){this.j.set(t,i),this.b.delete(t)}deleteFolderConfiguration(t){this.p.delete(t),this.b.delete(t)}compareAndUpdateDefaultConfiguration(t,i){const n=[];if(!i){const{added:o,updated:l,removed:P}=w(this.c,t);i=[...o,...l,...P]}for(const o of i)for(const l of(0,I.$An)(o)){const P=this.c.getKeysForOverrideIdentifier(l),E=t.getKeysForOverrideIdentifier(l),p=[...E.filter(O=>P.indexOf(O)===-1),...P.filter(O=>E.indexOf(O)===-1),...P.filter(O=>!v.$_m(this.c.override(l).getValue(O),t.override(l).getValue(O)))];n.push([l,p])}return this.updateDefaultConfiguration(t),{keys:i,overrides:n}}compareAndUpdatePolicyConfiguration(t){const{added:i,updated:n,removed:o}=w(this.d,t),l=[...i,...n,...o];return l.length&&this.updatePolicyConfiguration(t),{keys:l,overrides:[]}}compareAndUpdateApplicationConfiguration(t){const{added:i,updated:n,removed:o,overrides:l}=w(this.applicationConfiguration,t),P=[...i,...n,...o];return P.length&&this.updateApplicationConfiguration(t),{keys:P,overrides:l}}compareAndUpdateLocalUserConfiguration(t){const{added:i,updated:n,removed:o,overrides:l}=w(this.localUserConfiguration,t),P=[...i,...n,...o];return P.length&&this.updateLocalUserConfiguration(t),{keys:P,overrides:l}}compareAndUpdateRemoteUserConfiguration(t){const{added:i,updated:n,removed:o,overrides:l}=w(this.remoteUserConfiguration,t),P=[...i,...n,...o];return P.length&&this.updateRemoteUserConfiguration(t),{keys:P,overrides:l}}compareAndUpdateWorkspaceConfiguration(t){const{added:i,updated:n,removed:o,overrides:l}=w(this.workspaceConfiguration,t),P=[...i,...n,...o];return P.length&&this.updateWorkspaceConfiguration(t),{keys:P,overrides:l}}compareAndUpdateFolderConfiguration(t,i){const n=this.p.get(t),{added:o,updated:l,removed:P,overrides:E}=w(n,i),p=[...o,...l,...P];return(p.length||!n)&&this.updateFolderConfiguration(t,i),{keys:p,overrides:E}}compareAndDeleteFolderConfiguration(t){const i=this.p.get(t);if(!i)throw new Error("Unknown folder");this.deleteFolderConfiguration(t);const{added:n,updated:o,removed:l,overrides:P}=w(i,void 0);return{keys:[...n,...o,...l],overrides:P}}get defaults(){return this.c}get applicationConfiguration(){return this.f}get userConfiguration(){return this.n||(this.n=this.h.isEmpty()?this.g:this.g.merge(this.h)),this.n}get localUserConfiguration(){return this.g}get remoteUserConfiguration(){return this.h}get workspaceConfiguration(){return this.i}get p(){return this.j}q(t,i,n){let o=this.r(i,n);return i.overrideIdentifier&&(o=o.override(i.overrideIdentifier)),!this.d.isEmpty()&&this.d.getValue(t)!==void 0&&(o=o.merge(this.d)),o}r({resource:t},i){let n=this.s();if(i&&t){const o=i.getFolder(t);o&&(n=this.t(o.uri)||n);const l=this.m.get(t);l&&(n=n.merge(l))}return n}s(){return this.a||(this.a=this.c.merge(this.applicationConfiguration,this.userConfiguration,this.i,this.l)),this.a}t(t){let i=this.b.get(t);if(!i){const n=this.s(),o=this.j.get(t);o?(i=n.merge(o),this.b.set(t,i)):i=n}return i}u(t,i){if(i&&t){const n=i.getFolder(t);if(n)return this.j.get(n.uri)}}toData(){return{defaults:{contents:this.c.contents,overrides:this.c.overrides,keys:this.c.keys},policy:{contents:this.d.contents,overrides:this.d.overrides,keys:this.d.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this.i.contents,overrides:this.i.overrides,keys:this.i.keys},folders:[...this.j.keys()].reduce((t,i)=>{const{contents:n,overrides:o,keys:l}=this.j.get(i);return t.push([i,{contents:n,overrides:o,keys:l}]),t},[])}}allKeys(){const t=new Set;return this.c.keys.forEach(i=>t.add(i)),this.userConfiguration.keys.forEach(i=>t.add(i)),this.i.keys.forEach(i=>t.add(i)),this.j.forEach(i=>i.keys.forEach(n=>t.add(n))),[...t.values()]}v(){const t=new Set;return this.c.getAllOverrideIdentifiers().forEach(i=>t.add(i)),this.userConfiguration.getAllOverrideIdentifiers().forEach(i=>t.add(i)),this.i.getAllOverrideIdentifiers().forEach(i=>t.add(i)),this.j.forEach(i=>i.getAllOverrideIdentifiers().forEach(n=>t.add(n))),[...t.values()]}w(t){const i=new Set;return this.c.getKeysForOverrideIdentifier(t).forEach(n=>i.add(n)),this.userConfiguration.getKeysForOverrideIdentifier(t).forEach(n=>i.add(n)),this.i.getKeysForOverrideIdentifier(t).forEach(n=>i.add(n)),this.j.forEach(n=>n.getKeysForOverrideIdentifier(t).forEach(o=>i.add(o))),[...i.values()]}static parse(t){const i=this.x(t.defaults),n=this.x(t.policy),o=this.x(t.application),l=this.x(t.user),P=this.x(t.workspace),E=t.folders.reduce((p,O)=>(p.set(c.URI.revive(O[0]),this.x(O[1])),p),new j.$Ac);return new b(i,n,o,l,new S,P,E,new S,new j.$Ac)}static x(t){return new S(t.contents,t.keys,t.overrides)}}e.$In=b;function R(...r){if(r.length===0)return{keys:[],overrides:[]};if(r.length===1)return r[0];const t=new Set,i=new Map;for(const o of r)o.keys.forEach(l=>t.add(l)),o.overrides.forEach(([l,P])=>{const E=(0,j.$xc)(i,l,new Set);P.forEach(p=>E.add(p))});const n=[];return i.forEach((o,l)=>n.push([l,[...o.values()]])),{keys:[...t.values()],overrides:n}}e.$Jn=R;class d{constructor(t,i,n,o){this.change=t,this.f=i,this.g=n,this.h=o,this.a=`
`,this.b=this.a.charCodeAt(0),this.c=".".charCodeAt(0),this.affectedKeys=new Set,this.i=void 0;for(const l of t.keys)this.affectedKeys.add(l);for(const[,l]of t.overrides)for(const P of l)this.affectedKeys.add(P);this.d=this.a;for(const l of this.affectedKeys)this.d+=l+this.a}get previousConfiguration(){return!this.i&&this.f&&(this.i=b.parse(this.f.data)),this.i}affectsConfiguration(t,i){const n=this.a+t,o=this.d.indexOf(n);if(o<0)return!1;const l=o+n.length;if(l>=this.d.length)return!1;const P=this.d.charCodeAt(l);if(P!==this.b&&P!==this.c)return!1;if(i){const E=this.previousConfiguration?this.previousConfiguration.getValue(t,i,this.f?.workspace):void 0,p=this.g.getValue(t,i,this.h);return!v.$_m(E,p)}return!0}}e.$Kn=d;function w(r,t){const{added:i,removed:n,updated:o}=s(t?.rawConfiguration,r?.rawConfiguration),l=[],P=r?.getAllOverrideIdentifiers()||[],E=t?.getAllOverrideIdentifiers()||[];if(t){const p=E.filter(O=>!P.includes(O));for(const O of p)l.push([O,t.getKeysForOverrideIdentifier(O)])}if(r){const p=P.filter(O=>!E.includes(O));for(const O of p)l.push([O,r.getKeysForOverrideIdentifier(O)])}if(t&&r){for(const p of P)if(E.includes(p)){const O=s({contents:r.getOverrideValue(void 0,p)||{},keys:r.getKeysForOverrideIdentifier(p)},{contents:t.getOverrideValue(void 0,p)||{},keys:t.getKeysForOverrideIdentifier(p)});l.push([p,[...O.added,...O.removed,...O.updated]])}}return{added:i,removed:n,updated:o,overrides:l}}function s(r,t){const i=r?t?r.keys.filter(l=>t.keys.indexOf(l)===-1):[...r.keys]:[],n=t?r?t.keys.filter(l=>r.keys.indexOf(l)===-1):[...t.keys]:[],o=[];if(r&&t){for(const l of t.keys)if(r.keys.indexOf(l)!==-1){const P=(0,k.$si)(t.contents,l),E=(0,k.$si)(r.contents,l);v.$_m(P,E)||o.push(l)}}return{added:i,removed:n,updated:o}}}),define(te[132],ne([0,1,19,4,2,30,3,66,43,6,38,36]),function(J,e,L,N,D,A,j,v,u,c,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Nn=e.$Mn=e.$Ln=void 0;class g extends D.$Sc{constructor(){super(...arguments),this.a=this.B(new N.$Od),this.onDidChangeConfiguration=this.a.event,this.b=new v.$Fn}get configurationModel(){return this.b}async initialize(){return this.g(),this.B(I.$kn.as(u.$pn.Configuration).onDidUpdateConfiguration(({properties:$,defaultsOverrides:h})=>this.c(Array.from($),h))),this.configurationModel}reload(){return this.g(),this.configurationModel}c($,h){this.h($,I.$kn.as(u.$pn.Configuration).getConfigurationProperties()),this.a.fire({defaults:this.configurationModel,properties:$})}f(){return{}}g(){this.b=new v.$Fn;const $=I.$kn.as(u.$pn.Configuration).getConfigurationProperties();this.h(Object.keys($),$)}h($,h){const b=this.f();for(const R of $){const d=b[R],w=h[R];d!==void 0?this.b.addValue(R,d):w?this.b.addValue(R,w.default):this.b.removeValue(R)}}}e.$Ln=g;class f{constructor(){this.onDidChangeConfiguration=N.Event.None,this.configurationModel=new v.$Fn}async initialize(){return this.configurationModel}}e.$Mn=f;let S=class extends D.$Sc{get configurationModel(){return this.b}constructor($,h,b){super(),this.c=$,this.f=h,this.g=b,this.a=this.B(new N.$Od),this.onDidChangeConfiguration=this.a.event,this.b=new v.$Fn}async initialize(){return this.g.trace("PolicyConfiguration#initialize"),this.m(await this.h(this.c.configurationModel.keys),!1),this.B(this.f.onDidChange($=>this.j($))),this.B(this.c.onDidChangeConfiguration(async({properties:$})=>this.m(await this.h($),!0))),this.b}async h($){this.g.trace("PolicyConfiguration#updatePolicyDefinitions",$);const h={},b=[],R=I.$kn.as(u.$pn.Configuration).getConfigurationProperties();for(const d of $){const w=R[d];if(!w){b.push(d);continue}if(w.policy){if(w.type!=="string"&&w.type!=="number"){this.g.warn(`Policy ${w.policy.name} has unsupported type ${w.type}`);continue}b.push(d),h[w.policy.name]={type:w.type}}}return(0,j.$Mf)(h)||await this.f.updatePolicyDefinitions(h),b}j($){this.g.trace("PolicyConfiguration#onDidChangePolicies",$);const h=I.$kn.as(u.$pn.Configuration).getPolicyConfigurations(),b=(0,L.$Hb)($.map(R=>h.get(R)));this.m(b,!0)}m($,h){this.g.trace("PolicyConfiguration#update",$);const b=I.$kn.as(u.$pn.Configuration).getConfigurationProperties(),R=[],d=this.b.isEmpty();for(const w of $){const s=b[w]?.policy?.name;if(s){const r=this.f.getPolicyValue(s);(d?r!==void 0:!(0,A.$_m)(this.b.getValue(w),r))&&R.push([w,r])}else this.b.getValue(w)!==void 0&&R.push([w,void 0])}if(R.length){this.g.trace("PolicyConfiguration#changed",R);const w=this.b;this.b=new v.$Fn;for(const s of w.keys)this.b.setValue(s,w.getValue(s));for(const[s,r]of R)r===void 0?this.b.removeValue(s):this.b.setValue(s,r);h&&this.a.fire(this.b)}}};e.$Nn=S,e.$Nn=S=pe([ie(1,k.$mn),ie(2,c.$$i)],S)}),define(te[133],ne([0,1,8,4,2,17,25,66,132,38]),function(J,e,L,N,D,A,j,v,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$On=void 0;class k extends D.$Sc{constructor(g,f,S,y){super(),this.j=g,this.h=this.B(new N.$Od),this.onDidChangeConfiguration=this.h.event,this.b=this.B(new u.$Ln),this.c=S instanceof c.$on?new u.$Mn:this.B(new u.$Nn(this.b,S,y)),this.f=this.B(new v.$Hn(this.j,{},A.$ng,f)),this.a=new v.$In(this.b.configurationModel,this.c.configurationModel,new v.$Fn,new v.$Fn),this.g=this.B(new L.$7g(()=>this.reloadConfiguration(),50)),this.B(this.b.onDidChangeConfiguration(({defaults:$,properties:h})=>this.n($,h))),this.B(this.c.onDidChangeConfiguration($=>this.r($))),this.B(this.f.onDidChange(()=>this.g.schedule()))}async initialize(){const[g,f,S]=await Promise.all([this.b.initialize(),this.c.initialize(),this.f.loadConfiguration()]);this.a=new v.$In(g,f,new v.$Fn,S)}getConfigurationData(){return this.a.toData()}getValue(g,f){const S=typeof g=="string"?g:void 0,y=(0,j.$li)(g)?g:(0,j.$li)(f)?f:{};return this.a.getValue(S,y,void 0)}updateValue(g,f,S,y){return Promise.reject(new Error("not supported"))}inspect(g){return this.a.inspect(g,{},void 0)}keys(){return this.a.keys(void 0)}async reloadConfiguration(){const g=await this.f.loadConfiguration();this.m(g)}m(g){const f=this.a.toData(),S=this.a.compareAndUpdateLocalUserConfiguration(g);this.s(S,f,2)}n(g,f){const S=this.a.toData(),y=this.a.compareAndUpdateDefaultConfiguration(g,f);this.s(y,S,7)}r(g){const f=this.a.toData(),S=this.a.compareAndUpdatePolicyConfiguration(g);this.s(S,f,7)}s(g,f,S){const y=new v.$Kn(g,{data:f},this.a);y.source=S,y.sourceConfig=this.t(S),this.h.fire(y)}t(g){switch(g){case 7:return this.a.defaults.contents;case 2:return this.a.localUserConfiguration.contents}return{}}}e.$On=k}),define(te[67],ne([0,1,15]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Zk=e.$Yk=e.$Xk=e.$Wk=e.$Vk=void 0;function N(c){return c.scheme===L.Schemas.vscodeRemote?c.authority:void 0}e.$Vk=N;function D(c){if(!c)return;const k=c.indexOf("+");return k<0?c:c.substr(0,k)}e.$Wk=D;function A(c){return`/${c.quality??"oss"}-${c.commit??"dev"}`}e.$Xk=A;function j(c){const{host:k,port:I}=u(c);if(typeof I>"u")throw new Error("Remote authority doesn't contain a port!");return{host:k,port:I}}e.$Yk=j;function v(c,k){let{host:I,port:g}=u(c);return typeof g>"u"&&(g=k),{host:I,port:g}}e.$Zk=v;function u(c){const k=c.match(/^(\[[0-9a-z:]+\]):(\d+)$/);if(k)return{host:k[1],port:parseInt(k[2],10)};const I=c.match(/^(\[[0-9a-z:]+\])$/);if(I)return{host:I[1],port:void 0};const g=c.match(/(.*):(\d+)$/);return g?{host:g[1],port:parseInt(g[2],10)}:{host:c,port:void 0}}}),define(te[37],ne([0,1,29,10,67]),function(J,e,L,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$bm=e.$am=e.$_l=e.$$l=e.$0l=e.$9l=e.$8l=e.$7l=e.TargetPlatform=e.ExtensionType=e.$6l=e.$5l=e.$4l=e.$3l=e.$2l=e.$1l=void 0,e.$1l="extensions.user.cache",e.$2l="extensions.builtin.cache",e.$3l="undefined_publisher",e.$4l=["ui","workspace","web"];function A(y){if(typeof y=="object"&&y!==null&&y.supported!==!0)return y.description}e.$5l=A,e.$6l=["Azure","Data Science","Debuggers","Extension Packs","Education","Formatters","Keymaps","Language Packs","Linters","Machine Learning","Notebooks","Programming Languages","SCM Providers","Snippets","Testing","Themes","Visualization","Other"];var j;(function(y){y[y.System=0]="System",y[y.User=1]="User"})(j||(e.ExtensionType=j={}));var v;(function(y){y.WIN32_X64="win32-x64",y.WIN32_ARM64="win32-arm64",y.LINUX_X64="linux-x64",y.LINUX_ARM64="linux-arm64",y.LINUX_ARMHF="linux-armhf",y.ALPINE_X64="alpine-x64",y.ALPINE_ARM64="alpine-arm64",y.DARWIN_X64="darwin-x64",y.DARWIN_ARM64="darwin-arm64",y.WEB="web",y.UNIVERSAL="universal",y.UNKNOWN="unknown",y.UNDEFINED="undefined"})(v||(e.TargetPlatform=v={}));class u{constructor($){this.value=$,this._lower=$.toLowerCase()}static equals($,h){if(typeof $>"u"||$===null)return typeof h>"u"||h===null;if(typeof h>"u"||h===null)return!1;if(typeof $=="string"||typeof h=="string"){const b=typeof $=="string"?$:$.value,R=typeof h=="string"?h:h.value;return L.$3e(b,R)}return $._lower===h._lower}static toKey($){return typeof $=="string"?$.toLowerCase():$._lower}}e.$7l=u;class c{get size(){return this.c.size}constructor($){if(this.c=new Set,$)for(const h of $)this.add(h)}add($){this.c.add(u.toKey($))}delete($){return this.c.delete(u.toKey($))}has($){return this.c.has(u.toKey($))}}e.$8l=c;class k{constructor(){this.c=new Map}clear(){this.c.clear()}delete($){this.c.delete(u.toKey($))}get($){return this.c.get(u.toKey($))}has($){return this.c.has(u.toKey($))}set($,h){this.c.set(u.toKey($),h)}values(){return this.c.values()}forEach($){this.c.forEach($)}[Symbol.iterator](){return this.c[Symbol.iterator]()}}e.$9l=k;function I(y){return g(y)}e.$0l=I;function g(y){return y.contributes&&y.contributes.localizations?y.contributes.localizations.length>0:!1}e.$$l=g;function f(y){return y.contributes&&y.contributes.authentication?y.contributes.authentication.length>0:!1}e.$_l=f;function S(y,$){if($){const h=`onResolveRemoteAuthority:${(0,D.$Wk)($)}`;return!!y.activationEvents?.includes(h)}return!1}e.$am=S,e.$bm=(0,N.$Qh)("IBuiltinExtensionsScannerService")}),define(te[134],ne([0,1,2,37,12]),function(J,e,L,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Kp=void 0;class A extends L.$Sc{constructor(v,u,c,k,I){super(),this.a=v,this.b=u,this.c=c,this.f=I,this.B(k.onDidInstallExtensions(g=>this.g(g))),this.B(k.onDidUninstallExtension(g=>this.h(g)))}g(v){for(const u of v)u.local&&this.invalidate(u.profileLocation)}h(v){v.error||this.invalidate(v.profileLocation)}async invalidate(v){if(v)for(const u of this.a.profiles)this.c.extUri.isEqual(u.extensionsResource,v)&&await this.j(u);else await this.j(this.a.defaultProfile)}async j(v){try{await this.b.del(this.c.extUri.joinPath(v.cacheHome,N.$1l))}catch(u){(0,D.$qk)(u)!==1&&this.f.error(u)}}}e.$Kp=A}),define(te[44],ne([0,1,14,9,2,103,43,10,6,36]),function(J,e,L,N,D,A,j,v,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$4o=e.$3o=e.$2o=e.$1o=e.$Zo=e.$Yo=e.$Xo=e.$Wo=void 0,e.$Wo=(0,v.$Qh)("requestService");class k{constructor(w){this.b=w}toJSON(){if(!this.a){const w=Object.create(null);for(const s in this.b)s.toLowerCase()==="authorization"||s.toLowerCase()==="proxy-authorization"?w[s]="*****":w[s]=this.b[s];this.a=w}return this.a}}class I extends D.$Sc{constructor(w){super(),this.b=0,this.a=w.createLogger("network",{name:(0,A.localize)(0,null),when:u.$pj.isEqualTo((0,u.$nj)(u.LogLevel.Trace)).serialize()})}async c(w,s,r){const t=`${w} #${++this.b}: ${s.url}`;this.a.trace(`${t} - begin`,s.type,new k(s.headers??{}));try{const i=await r();return this.a.trace(`${t} - end`,s.type,i.res.statusCode,i.res.headers),i}catch(i){throw this.a.error(`${t} - error`,s.type,(0,N.$0)(i)),i}}}e.$Xo=I;function g(d){return d.res.statusCode&&d.res.statusCode>=200&&d.res.statusCode<300||d.res.statusCode===1223}e.$Yo=g;function f(d){return d.res.statusCode===204}e.$Zo=f;async function S(d){return f(d)?null:(await(0,L.$oe)(d.stream)).toString()}e.$1o=S;async function y(d){if(!g(d))throw new Error("Server returned "+d.res.statusCode);return S(d)}e.$2o=y;async function $(d){if(!g(d))throw new Error("Server returned "+d.res.statusCode);if(f(d))return null;const s=(await(0,L.$oe)(d.stream)).toString();try{return JSON.parse(s)}catch(r){throw r.message+=`:
`+s,r}}e.$3o=$;function h(d){R(d)}e.$4o=h;let b;function R(d){const w=c.$kn.as(j.$pn.Configuration),s=b;b={id:"http",order:15,title:(0,A.localize)(1,null),type:"object",scope:d,properties:{"http.proxy":{type:"string",pattern:"^(https?|socks|socks4a?|socks5h?)://([^:]*(:[^@]*)?@)?([^:]+|\\[[:0-9a-fA-F]+\\])(:\\d+)?/?$|^$",markdownDescription:(0,A.localize)(2,null),restricted:!0},"http.proxyStrictSSL":{type:"boolean",default:!0,description:(0,A.localize)(3,null),restricted:!0},"http.proxyKerberosServicePrincipal":{type:"string",markdownDescription:(0,A.localize)(4,null),restricted:!0},"http.proxyAuthorization":{type:["null","string"],default:null,markdownDescription:(0,A.localize)(5,null),restricted:!0},"http.proxySupport":{type:"string",enum:["off","on","fallback","override"],enumDescriptions:[(0,A.localize)(6,null),(0,A.localize)(7,null),(0,A.localize)(8,null),(0,A.localize)(9,null)],default:"override",description:(0,A.localize)(10,null),restricted:!0},"http.systemCertificates":{type:"boolean",default:!0,description:(0,A.localize)(11,null),restricted:!0},"http.experimental.systemCertificatesV2":{type:"boolean",tags:["experimental"],default:!1,description:(0,A.localize)(12,null),restricted:!0}}},w.updateConfigurations({add:[b],remove:s?[s]:[]})}R(1)}),define(te[135],ne([0,1,20,15,12,44]),function(J,e,L,N,D,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$3N=void 0;let j=class{constructor(u,c){this.a=u,this.b=c}async download(u,c,k=L.CancellationToken.None){if(u.scheme===N.Schemas.file||u.scheme===N.Schemas.vscodeRemote){await this.b.copy(u,c);return}const I={type:"GET",url:u.toString(!0)},g=await this.a.request(I,k);if(g.res.statusCode===200)await this.b.writeFile(c,g.stream);else{const f=await(0,A.$2o)(g);throw new Error(`Expected 200, got back ${g.res.statusCode} instead.

${f}`)}}};e.$3N=j,e.$3N=j=pe([ie(0,A.$Wo),ie(1,D.$_j)],j)}),define(te[136],ne([0,1,137,3]),function(J,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$2q=void 0;function D(j,v){return j.protocol==="http:"?v.HTTP_PROXY||v.http_proxy||null:j.protocol==="https:"&&(v.HTTPS_PROXY||v.https_proxy||v.HTTP_PROXY||v.http_proxy)||null}async function A(j,v,u={}){const c=(0,L.parse)(j),k=u.proxyUrl||D(c,v);if(!k)return null;const I=(0,L.parse)(k);if(!/^https?:$/.test(I.protocol||""))return null;const g={host:I.hostname||"",port:(I.port?+I.port:0)||(I.protocol==="https"?443:80),auth:I.auth,rejectUnauthorized:(0,N.$Ff)(u.strictSSL)?u.strictSSL:!0};return c.protocol==="http:"?new(await new Promise((f,S)=>{J(["http-proxy-agent"],f,S)})).HttpProxyAgent(k,g):new(await new Promise((f,S)=>{J(["https-proxy-agent"],f,S)})).HttpsProxyAgent(k,g)}e.$2q=A}),define(te[138],ne([0,1,58,16,104,20,34,9,13,28,84,172,8,72]),function(J,e,L,N,D,A,j,v,u,c,k,I,g,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ul=void 0;let S;async function y(h,b,R,d){return R["force-disable-user-env"]?(b.trace("resolveShellEnv(): skipped (--force-disable-user-env)"),{}):u.$j?(b.trace("resolveShellEnv(): skipped (Windows)"),{}):(0,I.$Ol)(d)&&!R["force-user-env"]?(b.trace("resolveShellEnv(): skipped (VSCODE_CLI is set)"),{}):((0,I.$Ol)(d)?b.trace("resolveShellEnv(): running (--force-user-env)"):b.trace("resolveShellEnv(): running (macOS/Linux)"),S||(S=g.Promises.withAsyncBody(async(w,s)=>{const r=new A.$Yd;let t=1e4;const i=h.getValue("application.shellEnvironmentResolutionTimeout");typeof i=="number"&&(t=(0,f.$Pl)(i,1,120)*1e3);const n=setTimeout(()=>{r.dispose(!0),s(new Error((0,D.localize)(0,null)))},t);try{w(await $(b,r.token))}catch(o){!(0,v.$4)(o)&&!r.token.isCancellationRequested?s(new Error((0,D.localize)(1,null,(0,j.$Bi)(o)))):w({})}finally{clearTimeout(n),r.dispose()}})),S)}e.$Ul=y;async function $(h,b){const R=process.env.ELECTRON_RUN_AS_NODE;h.trace("getUnixShellEnvironment#runAsNode",R);const d=process.env.ELECTRON_NO_ATTACH_CONSOLE;h.trace("getUnixShellEnvironment#noAttach",d);const w=(0,c.$fg)().replace(/-/g,"").substr(0,12),s=new RegExp(w+"({.*})"+w),r={...process.env,ELECTRON_RUN_AS_NODE:"1",ELECTRON_NO_ATTACH_CONSOLE:"1",VSCODE_RESOLVING_ENVIRONMENT:"1"};h.trace("getUnixShellEnvironment#env",r);const t=await(0,k.$El)(u.OS,r);return h.trace("getUnixShellEnvironment#shell",t),new Promise((i,n)=>{if(b.isCancellationRequested)return n(new v.$5);const o=(0,N.$nc)(t);let l,P;const E=process.versions.electron&&process.versions["microsoft-build"]?"--ms-enable-electron-run-as-node":"";/^pwsh(-preview)?$/.test(o)?(l=`& '${process.execPath}' ${E} -p '''${w}'' + JSON.stringify(process.env) + ''${w}'''`,P=["-Login","-Command"]):o==="nu"?(l=`^'${process.execPath}' ${E} -p '"${w}" + JSON.stringify(process.env) + "${w}"'`,P=["-i","-l","-c"]):(l=`'${process.execPath}' ${E} -p '"${w}" + JSON.stringify(process.env) + "${w}"'`,o==="tcsh"||o==="csh"?P=["-ic"]:P=["-i","-l","-c"]),h.trace("getUnixShellEnvironment#spawn",JSON.stringify(P),l);const p=(0,L.spawn)(t,[...P,l],{detached:!0,stdio:["ignore","pipe","pipe"],env:r});b.onCancellationRequested(()=>(p.kill(),n(new v.$5))),p.on("error",_=>{h.error("getUnixShellEnvironment#errorChildProcess",(0,j.$Bi)(_)),n(_)});const O=[];p.stdout.on("data",_=>O.push(_));const B=[];p.stderr.on("data",_=>B.push(_)),p.on("close",(_,ee)=>{const oe=Buffer.concat(O).toString("utf8");h.trace("getUnixShellEnvironment#raw",oe);const se=Buffer.concat(B).toString("utf8");if(se.trim()&&h.trace("getUnixShellEnvironment#stderr",se),_||ee)return n(new Error((0,D.localize)(2,null,_,ee)));const ue=s.exec(oe),ce=ue?ue[1]:"{}";try{const re=JSON.parse(ce);R?re.ELECTRON_RUN_AS_NODE=R:delete re.ELECTRON_RUN_AS_NODE,d?re.ELECTRON_NO_ATTACH_CONSOLE=d:delete re.ELECTRON_NO_ATTACH_CONSOLE,delete re.VSCODE_RESOLVING_ENVIRONMENT,delete re.XDG_RUNTIME_DIR,h.trace("getUnixShellEnvironment#result",re),i(re)}catch(re){h.error("getUnixShellEnvironment#errorCaught",(0,j.$Bi)(re)),n(re)}})})}}),define(te[139],ne([0,1,10]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$FN=e.$EN=void 0,e.$EN=(0,L.$Qh)("stateReadService"),e.$FN=(0,L.$Qh)("stateService")}),define(te[68],ne([0,1,8,14,2,3,18,12,6]),function(J,e,L,N,D,A,j,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$IN=e.$HN=e.$GN=e.SaveStrategy=void 0;var c;(function(f){f[f.IMMEDIATE=0]="IMMEDIATE",f[f.DELAYED=1]="DELAYED"})(c||(e.SaveStrategy=c={}));class k extends D.$Sc{constructor(S,y,$,h){super(),this.h=S,this.j=$,this.m=h,this.a=Object.create(null),this.b="",this.f=void 0,this.g=void 0,this.c=y===0?void 0:this.B(new L.$Sg(100))}init(){return this.f||(this.f=this.n()),this.f}async n(){try{this.b=(await this.m.readFile(this.h)).value.toString(),this.a=JSON.parse(this.b)}catch(S){S.fileOperationResult!==1&&this.j.error(S)}}getItem(S,y){const $=this.a[S];return(0,A.$If)($)?y:$}setItem(S,y){this.setItems([{key:S,data:y}])}setItems(S){let y=!1;for(const{key:$,data:h}of S)this.a[$]!==h&&((0,A.$If)(h)?(0,A.$Gf)(this.a[$])||(this.a[$]=void 0,y=!0):(this.a[$]=h,y=!0));y&&this.r()}removeItem(S){(0,A.$Gf)(this.a[S])||(this.a[S]=void 0,this.r())}async r(){if(!this.g)return this.c?this.c.trigger(()=>this.s()):this.s()}async s(){if(!this.f)return;await this.f;const S=JSON.stringify(this.a,null,4);if(S!==this.b)try{await this.m.writeFile(this.h,N.$ce.fromString(S),{atomic:{postfix:".vsctmp"}}),this.b=S}catch(y){this.j.error(y)}}async close(){return this.g||(this.g=this.c?this.c.trigger(()=>this.s(),0):this.s()),this.g}}e.$GN=k;let I=class extends D.$Sc{constructor(S,y,$,h){super(),this.a=this.B(new k(y.stateResource,S,$,h))}async init(){await this.a.init()}getItem(S,y){return this.a.getItem(S,y)}};e.$HN=I,e.$HN=I=pe([ie(1,j.$Xh),ie(2,u.$$i),ie(3,v.$_j)],I);class g extends I{setItem(S,y){this.a.setItem(S,y)}setItems(S){this.a.setItems(S)}removeItem(S){this.a.removeItem(S)}close(){return this.a.close()}}e.$IN=g}),define(te[69],ne([0,1,13,35,28]),function(J,e,L,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$mo=e.$lo=void 0;function A(u){if(L.$u===2&&/^penguin(\.|$)/i.test(u))return"chromebook"}function j(u,c,k,I,g,f,S,y,$){const h=Object.create(null);h["common.machineId"]=f,h["common.sqmId"]=S,h.sessionID=(0,D.$fg)()+Date.now(),h.commitHash=I,h.version=g,h["common.platformVersion"]=(u||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),h["common.platform"]=(0,L.$i)(L.$u),h["common.nodePlatform"]=N.$dc,h["common.nodeArch"]=k,h["common.product"]=$||"desktop",y&&(h["common.msftInternal"]=y);let b=0;const R=Date.now();Object.defineProperties(h,{timestamp:{get:()=>new Date,enumerable:!0},"common.timesincesessionstart":{get:()=>Date.now()-R,enumerable:!0},"common.sequence":{get:()=>b++,enumerable:!0}}),L.$m&&(h["common.snap"]="true");const d=A(c);return d&&(h["common.platformDetail"]=d),h}e.$lo=j;function v(u){const c=N.env.USERDNSDOMAIN;if(!c)return!1;const k=c.toLowerCase();return u.some(I=>k===I)}e.$mo=v}),define(te[26],ne([0,1,10]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryConfiguration=e.TelemetryLevel=e.$nl=e.$ml=e.$ll=e.$kl=e.$jl=e.$il=e.$hl=e.$gl=e.$fl=e.$el=e.$dl=void 0,e.$dl=(0,L.$Qh)("telemetryService"),e.$el=(0,L.$Qh)("customEndpointTelemetryService"),e.$fl="telemetry.currentSessionDate",e.$gl="telemetry.firstSessionDate",e.$hl="telemetry.lastSessionDate",e.$il="telemetry.machineId",e.$jl="telemetry.sqmId",e.$kl="telemetry",e.$ll="telemetry.telemetryLevel",e.$ml="telemetry.enableCrashReporter",e.$nl="telemetry.enableTelemetry";var N;(function(A){A[A.NONE=0]="NONE",A[A.CRASH=1]="CRASH",A[A.ERROR=2]="ERROR",A[A.USAGE=3]="USAGE"})(N||(e.TelemetryLevel=N={}));var D;(function(A){A.OFF="off",A.CRASH="crash",A.ERROR="error",A.ON="all"})(D||(e.TelemetryConfiguration=D={}))}),define(te[39],ne([0,1,30,3,4,25,67,69,26]),function(J,e,L,N,D,A,j,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Co=e.$Bo=e.$Ao=e.$zo=e.$yo=e.$xo=e.$wo=e.$vo=e.$uo=e.$to=e.$so=e.$ro=e.$qo=e.$po=e.$oo=e.$no=void 0;class c{constructor(n){this.value=n,this.isTrustedTelemetryValue=!0}}e.$no=c;class k{constructor(){this.telemetryLevel=0,this.sessionId="someValue.sessionId",this.machineId="someValue.machineId",this.firstSessionDate="someValue.firstSessionDate",this.sendErrorTelemetry=!1}publicLog(){}publicLog2(){}publicLogError(){}publicLogError2(){}setExperimentProperty(){}}e.$oo=k,e.$po=new k;class I{async publicLog(n,o,l){}async publicLogError(n,o,l){}}e.$qo=I,e.$ro="telemetry",e.$so="extensionTelemetryLog",e.$to={log:()=>null,flush:()=>Promise.resolve(null)};function g(i,n){return D.Event.debounce(n.onDidChangeConfiguration,(l,P)=>{const E=l?new Set([...l.affectedKeys,...P.affectedKeys]):P.affectedKeys;return{...P,affectedKeys:E}},1e3,!0)(l=>{l.source!==7&&i.publicLog2("updateConfiguration",{configurationSource:(0,A.$ni)(l.source),configurationKeys:Array.from(l.affectedKeys)})})}e.$uo=g;function f(i,n){return!n.isBuilt&&!n.disableTelemetry?!0:!(n.disableTelemetry||!i.enableTelemetry)}e.$vo=f;function S(i,n){return n.extensionTestsLocationURI?!0:!(n.isBuilt||n.disableTelemetry||i.enableTelemetry&&i.aiConfig?.ariaKey)}e.$wo=S;function y(i){const n=i.getValue(u.$ll),o=i.getValue(u.$ml);if(i.getValue(u.$nl)===!1||o===!1)return 0;switch(n??"all"){case"all":return 3;case"error":return 2;case"crash":return 1;case"off":return 0}}e.$xo=y;function $(i){const n={},o={},l={};R(i,l);for(let P in l){P=P.length>150?P.substr(P.length-149):P;const E=l[P];typeof E=="number"?o[P]=E:typeof E=="boolean"?o[P]=E?1:0:typeof E=="string"?(E.length>8192&&console.warn(`Telemetry property: ${P} has been trimmed to 8192, the original length is ${E.length}`),n[P]=E.substring(0,8191)):typeof E<"u"&&E!==null&&(n[P]=E)}return{properties:n,measurements:o}}e.$yo=$;const h=new Set(["ssh-remote","dev-container","attached-container","wsl","tunnel","codespaces","amlext"]);function b(i){if(!i)return"none";const n=(0,j.$Wk)(i);return h.has(n)?n:"other"}e.$zo=b;function R(i,n,o=0,l){if(i)for(const P of Object.getOwnPropertyNames(i)){const E=i[P],p=l?l+P:P;Array.isArray(E)?n[p]=(0,L.$an)(E):E instanceof Date?n[p]=E.toISOString():(0,N.$Bf)(E)?o<2?R(E,n,o+1,p+"."):n[p]=(0,L.$an)(E):n[p]=E}}function d(i,n){const o=i.msftInternalDomains||[],l=n.getValue("telemetry.internalTesting");return(0,v.$mo)(o)||l}e.$Ao=d;function w(i){return[i.appRoot,i.extensionsPath,i.userHome.fsPath,i.tmpDir.fsPath,i.userDataPath]}e.$Bo=w;function s(i,n){if(!i||!i.includes("/")&&!i.includes("\\"))return i;let o=i;const l=[];for(const O of n)for(;;){const B=O.exec(i);if(!B)break;l.push([B.index,O.lastIndex])}const P=/^[\\\/]?(node_modules|node_modules\.asar)[\\\/]/,E=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-\._]+(\\\\|\\|\/))+[\w-\._]*/g;let p=0;for(o="";;){const O=E.exec(i);if(!O)break;const B=l.some(([_,ee])=>O.index<ee&&_<E.lastIndex);!P.test(O[0])&&!B&&(o+=i.substring(p,O.index)+"<REDACTED: user-file-path>",p=E.lastIndex)}return p<i.length&&(o+=i.substr(p)),o}function r(i){if(!i)return i;const n=[{label:"Google API Key",regex:/AIza[A-Za-z0-9_\\\-]{35}/},{label:"Slack Token",regex:/xox[pbar]\-[A-Za-z0-9]/},{label:"Generic Secret",regex:/(key|token|sig|secret|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/i},{label:"Email",regex:/@[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+/}];for(const o of n)if(o.regex.test(i))return`<REDACTED: ${o.label}>`;return i}function t(i,n){return(0,L.$0m)(i,o=>{if(o instanceof c||Object.hasOwnProperty.call(o,"isTrustedTelemetryValue"))return o.value;if(typeof o=="string"){let l=o.replaceAll("%20"," ");l=s(l,n);for(const P of n)l=l.replace(P,"");return l=r(l),l}})}e.$Co=t}),define(te[27],ne([0,1,29,21,37,13,11,9,35,39]),function(J,e,L,N,D,A,j,v,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Oo=e.$No=e.$Mo=e.$Lo=e.$Ko=e.$Jo=e.$Io=e.$Ho=e.$Go=e.$Fo=e.$Eo=e.$Do=void 0;function k(t,i){return t.uuid&&i.uuid?t.uuid===i.uuid:t.id===i.id?!0:(0,L.$Xe)(t.id,i.id)===0}e.$Do=k;const I=/^([^.]+\..+)-(\d+\.\d+\.\d+)(-(.+))?$/;class g{static create(i){const n=i.manifest?i.manifest.version:i.version,o=i.manifest?i.targetPlatform:i.properties.targetPlatform;return new g(i.identifier,n,o)}static parse(i){const n=I.exec(i);return n&&n[1]&&n[2]?new g({id:n[1]},n[2],n[4]||void 0):null}constructor(i,n,o="undefined"){this.version=n,this.targetPlatform=o,this.id=i.id}toString(){return`${this.id}-${this.version}${this.targetPlatform!=="undefined"?`-${this.targetPlatform}`:""}`}equals(i){return i instanceof g?k(this,i)&&this.version===i.version&&this.targetPlatform===i.targetPlatform:!1}}e.$Eo=g;const f=/^([^.]+\..+)@((prerelease)|(\d+\.\d+\.\d+(-.*)?))$/;function S(t){const i=f.exec(t);return i&&i[1]?[$(i[1]),i[2]]:[$(t),void 0]}e.$Fo=S;function y(t,i){return`${t}.${i}`}e.$Go=y;function $(t){return t.toLowerCase()}e.$Ho=$;function h(t,i){return $(y(t??D.$3l,i))}e.$Io=h;function b(t,i){const n=[],o=l=>{for(const P of n)if(P.some(E=>k(i(E),i(l))))return P;return null};for(const l of t){const P=o(l);P?P.push(l):n.push([l])}return n}e.$Jo=b;function R(t){return{id:t.identifier.id,name:t.manifest.name,galleryId:null,publisherId:t.publisherId,publisherName:t.manifest.publisher,publisherDisplayName:t.publisherDisplayName,dependencies:t.manifest.extensionDependencies&&t.manifest.extensionDependencies.length>0}}e.$Ko=R;function d(t){return{id:new c.$no(t.identifier.id),name:new c.$no(t.name),galleryId:t.identifier.uuid,publisherId:t.publisherId,publisherName:t.publisher,publisherDisplayName:t.publisherDisplayName,isPreReleaseVersion:t.properties.isPreReleaseVersion,dependencies:!!(t.properties.dependencies&&t.properties.dependencies.length>0),isSigned:t.isSigned,...t.telemetryData}}e.$Lo=d,e.$Mo=new D.$7l("pprice.better-merge");function w(t,i){const n=[],o=i.manifest.extensionDependencies?.slice(0)??[];for(;o.length;){const l=o.shift();if(l&&n.every(P=>!k(P.identifier,{id:l}))){const P=t.filter(E=>k(E.identifier,{id:l}));P.length===1&&(n.push(P[0]),o.push(...P[0].manifest.extensionDependencies?.slice(0)??[]))}}return n}e.$No=w;async function s(t,i){if(!A.$l)return!1;let n;try{n=(await t.readFile(j.URI.file("/etc/os-release"))).value.toString()}catch{try{n=(await t.readFile(j.URI.file("/usr/lib/os-release"))).value.toString()}catch(l){i.debug("Error while getting the os-release file.",(0,v.$0)(l))}}return!!n&&(n.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]==="alpine"}async function r(t,i){const n=await s(t,i),o=(0,N.$0n)(n?"alpine":A.$u,u.$ec);return i.debug("ComputeTargetPlatform:",o),o}e.$Oo=r}),define(te[140],ne([0,1,20,9,15,17,42,11,93,21,27,37]),function(J,e,L,N,D,A,j,v,u,c,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$kp=void 0;const g=$=>(0,u.localize)(0,null,$),f=(0,u.localize)(1,null,"ms-dotnettools.csharp");function S($,h){return h?`${$.publisher}.${$.name}@${$.version}`:`${$.publisher}.${$.name}`}let y=class{constructor(h,b,R){this.a=h,this.b=b,this.d=R}get f(){}async listExtensions(h,b,R){let d=await this.b.getInstalled(1,R);const w=I.$6l.map(r=>r.toLowerCase());if(b&&b!==""){if(w.indexOf(b.toLowerCase())<0){this.a.info("Invalid category please enter a valid category. To list valid categories run --category without a category specified");return}d=d.filter(r=>r.manifest.categories?r.manifest.categories.map(i=>i.toLowerCase()).indexOf(b.toLowerCase())>-1:!1)}else if(b===""){this.a.info("Possible Categories: "),w.forEach(r=>{this.a.info(r)});return}this.f&&this.a.info((0,u.localize)(2,null,this.f)),d=d.sort((r,t)=>r.identifier.id.localeCompare(t.identifier.id));let s;for(const r of d)s!==r.identifier.id&&(s=r.identifier.id,this.a.info(S(r.manifest,h)))}async installExtensions(h,b,R,d){const w=[];try{const s=[];h.length&&this.a.info(this.f?(0,u.localize)(3,null,this.f):(0,u.localize)(4,null));const r=[];let t=[];const i=(o,l,P)=>{t.push({id:o,version:l!=="prerelease"?l:void 0,installOptions:{...R,isBuiltin:P,installPreReleaseVersion:l==="prerelease"||R.installPreReleaseVersion}})};for(const o of h)if(o instanceof v.URI)r.push({vsix:o,installOptions:R});else{const[l,P]=(0,k.$Fo)(o);i(l,P,!1)}for(const o of b)if(o instanceof v.URI)r.push({vsix:o,installOptions:{...R,isBuiltin:!0,donotIncludePackAndDependencies:!0}});else{const[l,P]=(0,k.$Fo)(o);i(l,P,!0)}const n=await this.b.getInstalled(1,R.profileLocation);if(r.length&&await Promise.all(r.map(async({vsix:o,installOptions:l})=>{try{const P=await this.g(o,l,d,n);P&&s.push(P)}catch(P){this.a.error(P),w.push(o.toString())}})),t.length&&(t=t.filter(({id:o,version:l})=>{const P=n.find(E=>(0,k.$Do)(E.identifier,{id:o}));if(P){if(!d&&(!l||l==="prerelease"&&P.preRelease))return this.a.info((0,u.localize)(5,null,o,P.manifest.version,o)),!1;if(l&&P.manifest.version===l)return this.a.info((0,u.localize)(6,null,`${o}@${l}`)),!1}return!0}),t.length)){const o=await this.h(t);await Promise.all(t.map(async l=>{const P=o.get(l.id.toLowerCase());if(P)try{const E=await this.j(l,P,n);E&&s.push(E)}catch(E){this.a.error(E.message||E.stack||E),w.push(l.id)}else this.a.error(`${g(l.version?`${l.id}@${l.version}`:l.id)}
${f}`),w.push(l.id)}))}}catch(s){throw this.a.error((0,u.localize)(7,null,(0,N.$0)(s))),s}if(w.length)throw new Error((0,u.localize)(8,null,w.join(", ")))}async g(h,b,R,d){const w=await this.b.getManifest(h);if(!w)throw new Error("Invalid vsix");if(await this.l(w,R,b.profileLocation,d))try{return await this.b.install(h,b),this.a.info((0,u.localize)(9,null,(0,A.$tg)(h))),w}catch(r){if((0,N.$4)(r))return this.a.info((0,u.localize)(10,null,(0,A.$tg)(h))),null;throw r}return null}async h(h){const b=new Map,R=h.some(s=>s.installOptions.installPreReleaseVersion),d=await this.b.getTargetPlatform(),w=[];for(const s of h)c.$3n.test(s.id)&&w.push({...s,preRelease:R});if(w.length){const s=await this.d.getExtensions(w,{targetPlatform:d},L.CancellationToken.None);for(const r of s)b.set(r.identifier.id.toLowerCase(),r)}return b}async j({id:h,version:b,installOptions:R},d,w){const s=await this.d.getManifest(d,L.CancellationToken.None);if(s&&!this.k(s))return null;const r=w.find(t=>(0,k.$Do)(t.identifier,d.identifier));if(r){if(d.version===r.manifest.version)return this.a.info((0,u.localize)(11,null,b?`${h}@${b}`:h)),null;this.a.info((0,u.localize)(12,null,h,d.version))}try{R.isBuiltin?this.a.info(b?(0,u.localize)(13,null,h,b):(0,u.localize)(14,null,h)):this.a.info(b?(0,u.localize)(15,null,h,b):(0,u.localize)(16,null,h));const t=await this.b.installFromGallery(d,{...R,installGivenVersion:!!b});return this.a.info((0,u.localize)(17,null,h,t.manifest.version)),s}catch(t){if((0,N.$4)(t))return this.a.info((0,u.localize)(18,null,h)),null;throw t}}k(h){return!0}async l(h,b,R,d){if(!b){const w={id:(0,k.$Io)(h.publisher,h.name)},s=d.find(r=>(0,k.$Do)(w,r.identifier)&&(0,j.gt)(r.manifest.version,h.version));if(s)return this.a.info((0,u.localize)(19,null,s.identifier.id,s.manifest.version,h.version)),!1}return this.k(h)}async uninstallExtensions(h,b,R){const d=async s=>{if(s instanceof v.URI){const r=await this.b.getManifest(s);return S(r)}return s},w=[];for(const s of h){const r=await d(s),i=(await this.b.getInstalled(void 0,R)).filter(n=>(0,k.$Do)(n.identifier,{id:r}));if(!i.length)throw new Error(`${this.m(r)}
${f}`);if(i.some(n=>n.type===0)){this.a.info((0,u.localize)(20,null,r));return}if(!b&&i.some(n=>n.isBuiltin)){this.a.info((0,u.localize)(21,null,r));return}this.a.info((0,u.localize)(22,null,r));for(const n of i)await this.b.uninstall(n,{profileLocation:R}),w.push(n);this.f?this.a.info((0,u.localize)(23,null,r,this.f)):this.a.info((0,u.localize)(24,null,r))}}async locateExtension(h){const b=await this.b.getInstalled();h.forEach(R=>{b.forEach(d=>{if(d.identifier.id===R&&d.location.scheme===D.Schemas.file){this.a.info(d.location.fsPath);return}})})}m(h){return this.f?(0,u.localize)(25,null,h,this.f):(0,u.localize)(26,null,h)}};e.$kp=y,e.$kp=y=pe([ie(1,c.$do),ie(2,c.$bo)],y)}),define(te[141],ne([0,1,4,2,31,27,37]),function(J,e,L,N,D,A,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Lp=void 0;class v extends N.$Sc{constructor(c,k,I,g,f,S,y){super(),this.f=c,this.g=k,this.h=I,this.j=g,this.m=f,this.n=S,this.r=y,this.a=this.B(new L.$Od),this.onDidChangeExtensionsByAnotherSource=this.a.event,this.b=new Map,this.c=this.B(new N.$1c),this.s().then(null,$=>y.error($))}async s(){await this.g.initializeDefaultProfileExtensions(),await this.u(this.h.profiles),this.t(),await this.H()}t(){this.B(this.h.onDidChangeProfiles(c=>this.u(c.added))),this.B(this.j.onAddExtensions(c=>this.w(c))),this.B(this.j.onDidAddExtensions(c=>this.y(c))),this.B(this.j.onRemoveExtensions(c=>this.z(c))),this.B(this.j.onDidRemoveExtensions(c=>this.C(c))),this.B(this.n.onDidFilesChange(c=>this.D(c)))}async u(c){try{c.length&&await Promise.all(c.map(k=>(this.c.set(k.id,(0,N.$Pc)(this.n.watch(this.m.extUri.dirname(k.extensionsResource)),this.n.watch(k.extensionsResource))),this.G(k.extensionsResource))))}catch(k){throw this.r.error(k),k}}async w(c){for(const k of c.extensions)this.I(this.L(k.identifier,k.version),c.profileLocation)}async y(c){for(const k of c.extensions){const I=this.L(k.identifier,k.version);c.error?this.J(I,c.profileLocation):this.I(I,c.profileLocation)}}async z(c){for(const k of c.extensions)this.J(this.L(k.identifier,k.version),c.profileLocation)}async C(c){const k=[],I=[];for(const g of c.extensions){const f=this.L(g.identifier,g.version);c.error?this.I(f,c.profileLocation):(this.J(f,c.profileLocation),this.b.has(f)||(this.r.debug("Extension is removed from all profiles",g.identifier.id,g.version),I.push(this.f.scanInstalledExtensionAtLocation(g.location).then(S=>{S?k.push(S):this.r.info("Extension not found at the location",g.location.toString())},S=>this.r.error(S)))))}try{await Promise.all(I),k.length&&await this.H(k)}catch(g){this.r.error(g)}}D(c){for(const k of this.h.profiles)c.contains(k.extensionsResource,0,1)&&this.F(k.extensionsResource)}async F(c){const k=[],I=[],g=await this.j.scanProfileExtensions(c),f=new Set,S=new Set;for(const[y,$]of this.b)$.has(c)&&S.add(y);for(const y of g){const $=this.L(y.identifier,y.version);f.add($),S.has($)||(k.push(y.identifier),this.I($,c))}for(const y of S)if(!f.has(y)){const $=this.M(y);$&&(I.push($.identifier),this.J(y,c))}(k.length||I.length)&&this.a.fire({added:k.length?{extensions:k,profileLocation:c}:void 0,removed:I.length?{extensions:I,profileLocation:c}:void 0})}async G(c){const k=await this.j.scanProfileExtensions(c);for(const I of k)this.I(this.L(I.identifier,I.version),c)}async H(c){c||(c=(await this.f.scanAllUserInstalledExtensions()).filter(I=>!this.b.has(this.L(I.identifier,I.manifest.version)))),c.length&&await this.f.markAsUninstalled(...c)}I(c,k){let I=this.b.get(c);I||this.b.set(c,I=new D.$Bc(g=>this.m.extUri.getComparisonKey(g))),I.add(k)}J(c,k){const I=this.b.get(c);I&&I.delete(k),I?.size||this.b.delete(c)}L(c,k){return`${j.$7l.toKey(c.id)}@${k}`}M(c){const[k,I]=(0,A.$Fo)(c);return I?{identifier:{id:k},version:I}:void 0}}e.$Lp=v}),define(te[142],ne([0,1,113,39]),function(J,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ep=void 0;async function D(A,j,v,u,c,k,I){const g={"X-Market-Client-Id":`VSCode ${A}`,"User-Agent":`VSCode ${A} (${j.nameShort})`};if((0,N.$vo)(j,v)&&(0,N.$xo)(u)===3){const f=await(0,L.$dp)(v,c,k);g["X-Market-User-Id"]=f,g["VSCode-SessionId"]=I.machineId||f}return g}e.$ep=D}),define(te[143],ne([0,1,173,19,8,2,15,16,24,18,21,27,6,64,11]),function(J,e,L,N,D,A,j,v,u,c,k,I,g,f,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Yq=void 0;let y=class extends f.$Xq{constructor(R,d,w,s){super(w),this.h=R,this.j=s,this.g=this.B(new $(d,s)),this.h.registerParticipant({postInstall:async r=>this.m(r),postUninstall:async r=>this.n(r)})}async getBuiltInExtensionTranslationsUri(R,d){const s=(await this.g.getLanguagePacks())[d];if(!s){this.j.warn(`No language pack found for ${d}`);return}const r=s.translations[R];return r?S.URI.file(r):void 0}async getInstalledLanguages(){const R=await this.g.getLanguagePacks(),d=Object.keys(R).map(w=>{const s=R[w];return{...this.f(w,s.label),extensionId:s.extensions[0].extensionIdentifier.id}});return d.push(this.f("en","English")),d.sort((w,s)=>w.label.localeCompare(s.label)),d}async m(R){R&&R.manifest&&R.manifest.contributes&&R.manifest.contributes.localizations&&R.manifest.contributes.localizations.length&&(this.j.info("Adding language packs from the extension",R.identifier.id),await this.update())}async n(R){const d=await this.g.getLanguagePacks();Object.keys(d).some(w=>d[w]&&d[w].extensions.some(s=>(0,I.$Do)(s.extensionIdentifier,R.identifier)))&&(this.j.info("Removing language packs from the extension",R.identifier.id),await this.update())}async update(){const[R,d]=await Promise.all([this.g.getLanguagePacks(),this.h.getInstalled()]),w=await this.g.update(d);return!(0,N.$ub)(Object.keys(R),Object.keys(w))}};e.$Yq=y,e.$Yq=y=pe([ie(0,k.$do),ie(1,c.$Yh),ie(2,k.$bo),ie(3,g.$$i)],y);let $=class extends A.$Sc{constructor(R,d){super(),this.j=d,this.c={},this.f=(0,v.$jc)(R.userDataPath,"languagepacks.json"),this.g=new D.$2g}getLanguagePacks(){return this.g.size||!this.h?this.s().then(()=>this.c):Promise.resolve(this.c)}update(R){return this.s(d=>{Object.keys(d).forEach(w=>delete d[w]),this.m(d,...R)}).then(()=>this.c)}m(R,...d){for(const w of d)w&&w.manifest&&w.manifest.contributes&&w.manifest.contributes.localizations&&w.manifest.contributes.localizations.length&&this.n(R,w);Object.keys(R).forEach(w=>this.r(R[w]))}n(R,d){const w=d.identifier,s=d.manifest.contributes&&d.manifest.contributes.localizations?d.manifest.contributes.localizations:[];for(const r of s)if(d.location.scheme===j.Schemas.file&&h(r)){let t=R[r.languageId];t||(t={hash:"",extensions:[],translations:{},label:r.localizedLanguageName??r.languageName},R[r.languageId]=t);const i=t.extensions.filter(n=>(0,I.$Do)(n.extensionIdentifier,w))[0];i?i.version=d.manifest.version:t.extensions.push({extensionIdentifier:w,version:d.manifest.version});for(const n of r.translations)t.translations[n.id]=(0,v.$jc)(d.location.fsPath,n.path)}}r(R){if(R){const d=(0,L.createHash)("md5");for(const w of R.extensions)d.update(w.extensionIdentifier.uuid||w.extensionIdentifier.id).update(w.version);R.hash=d.digest("hex")}}s(R=()=>null){return this.g.queue(()=>{let d=null;return u.Promises.readFile(this.f,"utf8").then(void 0,w=>w.code==="ENOENT"?Promise.resolve("{}"):Promise.reject(w)).then(w=>{try{return JSON.parse(w)}catch{return{}}}).then(w=>(d=R(w),w)).then(w=>{for(const r of Object.keys(w))w[r]||delete w[r];this.c=w,this.h=!0;const s=JSON.stringify(this.c);return this.j.debug("Writing language packs",s),u.Promises.writeFile(this.f,s)}).then(()=>d,w=>this.j.error(w))})}};$=pe([ie(0,c.$Yh),ie(1,g.$$i)],$);function h(b){if(typeof b.languageId!="string"||!Array.isArray(b.translations)||b.translations.length===0)return!1;for(const R of b.translations)if(typeof R.id!="string"||typeof R.path!="string")return!1;return!(b.languageName&&typeof b.languageName!="string"||b.localizedLanguageName&&typeof b.localizedLanguageName!="string")}}),define(te[144],ne([0,1,81,9,30,39]),function(J,e,L,N,D,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$AN=void 0;const j="https://mobile.events.data.microsoft.com/OneCollector/1.0",v="https://mobile.events.data.microsoft.com/ping";async function u(k,I,g){const f=await(0,L.$zC)("@microsoft/1ds-core-js","dist/ms.core.js"),S=await(0,L.$zC)("@microsoft/1ds-post-js","dist/ms.post.js"),y=new f.AppInsightsCore,$=new S.PostChannel,h={instrumentationKey:k,endpointUrl:j,loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[$]]};if(g){h.extensionConfig={};const b={alwaysUseXhrOverride:!0,httpXHROverride:g};h.extensionConfig[$.identifier]=b}return y.initialize(h,[]),y.addTelemetryInitializer(b=>{I&&(b.ext=b.ext??{},b.ext.utc=b.ext.utc??{},b.ext.utc.flags=8462029)}),y}class c{constructor(I,g,f,S,y){this.e=I,this.f=g,this.g=f,this.h=y,this.c=j,this.d=v,this.g||(this.g={}),typeof S=="function"?this.a=S():this.a=S,this.b=null}i(I){if(this.a){if(typeof this.a!="string"){I(this.a);return}this.b||(this.b=u(this.a,this.e,this.h)),this.b.then(g=>{I(g)},g=>{(0,N.$1)(g),console.error(g)})}}log(I,g){if(!this.a)return;g=(0,D.$$m)(g,this.g),g=(0,A.$yo)(g);const f=this.f+"/"+I;try{this.i(S=>{S.pluginVersionString=g?.properties.version??"Unknown",S.track({name:f,baseData:{name:f,properties:g?.properties,measurements:g?.measurements}})})}catch{}}flush(){return this.a?new Promise(I=>{this.i(g=>{g.unload(!0,()=>{this.a=void 0,I(void 0)})})}):Promise.resolve(void 0)}}e.$AN=c}),define(te[145],ne([0,1,2,30,13,29,105,25,43,146,32,36,26,39]),function(J,e,L,N,D,A,j,v,u,c,k,I,g,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$5q=void 0;let S=class{static{this.IDLE_START_EVENT_NAME="UserIdleStart"}static{this.IDLE_STOP_EVENT_NAME="UserIdleStop"}constructor(h,b,R){this.k=b,this.l=R,this.d={},this.i=new L.$Rc,this.j=[],this.b=h.appenders,this.c=h.commonProperties??Object.create(null),this.sessionId=this.c.sessionID,this.machineId=this.c["common.machineId"],this.firstSessionDate=this.c["common.firstSessionDate"],this.msftInternal=this.c["common.msftInternal"],this.f=h.piiPaths||[],this.g=3,this.h=!!h.sendErrorTelemetry,this.j=[/(vscode-)?file:\/\/\/.*?\/resources\/app\//gi];for(const d of this.f)this.j.push(new RegExp((0,A.$Ge)(d),"gi")),d.indexOf("\\")>=0&&this.j.push(new RegExp((0,A.$Ge)(d.replace(/\\/g,"/")),"gi"));this.m(),this.i.add(this.k.onDidChangeConfiguration(d=>{(d.affectsConfiguration(g.$ll)||d.affectsConfiguration(g.$nl)||d.affectsConfiguration(g.$ml))&&this.m()}))}setExperimentProperty(h,b){this.d[h]=b}m(){let h=(0,f.$xo)(this.k);const b=this.l.enabledTelemetryLevels;if(b){this.h=this.sendErrorTelemetry?b.error:!1;const R=b.usage?3:b.error?2:0;h=Math.min(h,R)}this.g=h}get sendErrorTelemetry(){return this.h}get telemetryLevel(){return this.g}dispose(){this.i.dispose()}n(h,b,R){this.g<b||(R=(0,N.$$m)(R,this.d),R=(0,f.$Co)(R,this.j),R=(0,N.$$m)(R,this.c),this.b.forEach(d=>d.log(h,R)))}publicLog(h,b){this.n(h,3,b)}publicLog2(h,b){this.publicLog(h,b)}publicLogError(h,b){this.h&&this.n(h,2,b)}publicLogError2(h,b){this.publicLogError(h,b)}};e.$5q=S,e.$5q=S=pe([ie(1,v.$ki),ie(2,k.$qj)],S);function y(){const $=(0,j.localize)(0,null,c.default.nameLong),h=c.default.privacyStatementUrl?(0,j.localize)(2,null,"https://aka.ms/vscode-telemetry",c.default.privacyStatementUrl):(0,j.localize)(1,null,"https://aka.ms/vscode-telemetry"),b=D.$p?"":(0,j.localize)(3,null),R=(0,j.localize)(4,null),d=(0,j.localize)(5,null),w=(0,j.localize)(6,null),s=(0,j.localize)(7,null),r=`
|       | ${R} | ${d} | ${w} |
|:------|:---------------------:|:---------------:|:--------------:|
| all   |            \u2713          |        \u2713        |        \u2713       |
| error |            \u2713          |        \u2713        |        -       |
| crash |            \u2713          |        -        |        -       |
| off   |            -          |        -        |        -       |
`,t=(0,j.localize)(8,null);return`
${$} ${h} ${b}

&nbsp;

${s}
${r}

&nbsp;

${t}
`}I.$kn.as(u.$pn.Configuration).registerConfiguration({id:g.$kl,order:1,type:"object",title:(0,j.localize)(9,null),properties:{[g.$ll]:{type:"string",enum:["all","error","crash","off"],enumDescriptions:[(0,j.localize)(10,null),(0,j.localize)(11,null),(0,j.localize)(12,null),(0,j.localize)(13,null)],markdownDescription:y(),default:"all",restricted:!0,scope:1,tags:["usesOnlineServices","telemetry"]}}}),I.$kn.as(u.$pn.Configuration).registerConfiguration({id:g.$kl,order:110,type:"object",title:(0,j.localize)(14,null),properties:{[g.$nl]:{type:"boolean",markdownDescription:c.default.privacyStatementUrl?(0,j.localize)(16,null,c.default.nameLong,c.default.privacyStatementUrl):(0,j.localize)(15,null,c.default.nameLong),default:!0,restricted:!0,markdownDeprecationMessage:(0,j.localize)(17,null,`\`#${g.$ll}#\``),scope:1,tags:["usesOnlineServices","telemetry"]}}})}),define(te[147],ne([0,1,14,20,174,144]),function(J,e,L,N,D,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$BN=void 0;async function j(k,I){const g=await I.request(k,N.CancellationToken.None),f=(await(0,L.$oe)(g.stream)).toString(),S=g.res.statusCode??200;return{headers:g.res.headers,statusCode:S,responseData:f}}async function v(k){const I={method:k.type,headers:k.headers};return new Promise((f,S)=>{const y=D.request(k.url??"",I,$=>{$.on("data",function(h){f({headers:$.headers,statusCode:$.statusCode??200,responseData:h.toString()})}),$.on("error",function(h){S(h)})});y.write(k.data,$=>{$&&S($)}),y.end()})}async function u(k,I,g){const f=typeof I.data=="string"?I.data:new TextDecoder().decode(I.data),S={type:"POST",headers:{...I.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(I.data).toString()},url:I.urlString,data:f};try{const y=k?await j(S,k):await v(S);g(y.statusCode,y.headers,y.responseData)}catch{g(0,{})}}class c extends A.$AN{constructor(I,g,f,S,y){const $={sendPOST:(h,b)=>{u(I,h,b)}};super(g,f,S,y,$)}}e.$BN=c}),define(te[148],ne([0,1,16,24]),function(J,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$68b=void 0;async function D(A,j){const v=Object.create(null),u=(k,I)=>{const g=JSON.parse(k);v[I]=g};if(j){const k=[],I=await N.Promises.readdir(j);for(const f of I)try{(await N.Promises.stat((0,L.$jc)(j,f))).isDirectory()&&k.push(f)}catch{}const g=[];for(const f of k)(await N.Promises.readdir((0,L.$jc)(j,f))).filter(y=>y==="telemetry.json").length===1&&g.push(f);for(const f of g){const S=(await N.Promises.readFile((0,L.$jc)(j,f,"telemetry.json"))).toString();u(S,f)}}let c=(await N.Promises.readFile((0,L.$jc)(A,"telemetry-core.json"))).toString();return u(c,"vscode-core"),c=(await N.Promises.readFile((0,L.$jc)(A,"telemetry-extensions.json"))).toString(),u(c,"vscode-extensions"),JSON.stringify(v,null,4)}e.$68b=D}),define(te[149],ne([0,1,13,82,26]),function(J,e,L,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$m8b=e.$l8b=void 0;async function A(v,u){let c=v.getItem(D.$il);return(typeof c!="string"||L.$k&&c==="6c9d2bc8f91b89624add29c0abeae7fb42bf539fa1cdb2e3e57cd668fa9bcead")&&(c=await(0,N.$Tm)(u.error.bind(u))),c}e.$l8b=A;async function j(v,u){let c=v.getItem(D.$jl);return typeof c!="string"&&(c=await(0,N.$Um)(u.error.bind(u))),c}e.$m8b=j}),define(te[22],ne([0,1,10]),function(J,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Jk=void 0,e.$Jk=(0,L.$Qh)("IUriIdentityService")}),define(te[150],ne([0,1,22,114,12,17,73,4,2]),function(J,e,L,N,D,A,j,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Dr=void 0;class c{static{this._clock=0}constructor(g){this.uri=g,this.time=c._clock++}touch(){return this.time=c._clock++,this}}let k=class{constructor(g){this.g=g,this.c=new u.$Rc,this.f=2**16;const f=new Map,S=y=>{let $=f.get(y.scheme);return $===void 0&&($=g.hasProvider(y)&&!this.g.hasCapability(y,1024),f.set(y.scheme,$)),$};this.c.add(v.Event.any(g.onDidChangeFileSystemProviderRegistrations,g.onDidChangeFileSystemProviderCapabilities)(y=>{f.delete(y.scheme)})),this.extUri=new A.$lg(S),this.d=new j.$Cr((y,$)=>this.extUri.compare(y,$,!0),this.f)}dispose(){this.c.dispose(),this.d.clear()}asCanonicalUri(g){this.g.hasProvider(g)&&(g=(0,A.$xg)(g));const f=this.d.get(g);return f?f.touch().uri.with({fragment:g.fragment}):(this.d.set(g,new c(g)),this.h(),g)}h(){if(this.d.size<this.f)return;const g=[...this.d.entries()].sort((S,y)=>S[1].time<y[1].time?1:S[1].time>y[1].time?-1:0);c._clock=0,this.d.clear();const f=this.f*.5;for(let S=0;S<f;S++)this.d.set(g[S][0],g[S][1].touch())}};e.$Dr=k,e.$Dr=k=pe([ie(0,D.$_j)],k),(0,N.$Ar)(L.$Jk,k,1)}),define(te[151],ne([0,1,4,2,12,47,31]),function(J,e,L,N,D,A,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$J8b=void 0;class v extends N.$Sc{constructor(c,k,I,g,f,S){super(),this.f=c,this.g=k,this.h=I,this.j=g,this.m=f,this.n=S,this.capabilities=this.g.capabilities,this.onDidChangeCapabilities=this.g.onDidChangeCapabilities,this.a=this.B(new L.$Od),this.onDidChangeFile=this.a.event,this.b=A.$Wh.forUris(()=>!(this.capabilities&1024)),this.c=new j.$Bc(y=>this.m.extUri.getComparisonKey(this.t(y))),this.r(),this.B(g.onDidChangeProfiles(()=>this.r())),this.B(this.g.onDidChangeFile(y=>this.s(y)))}r(){this.c.clear();for(const c of this.j.profiles)this.c.add(c.settingsResource),this.c.add(c.keybindingsResource),this.c.add(c.tasksResource),this.c.add(c.extensionsResource)}open(c,k){return this.g.open(this.t(c),k)}close(c){return this.g.close(c)}read(c,k,I,g,f){return this.g.read(c,k,I,g,f)}write(c,k,I,g,f){return this.g.write(c,k,I,g,f)}watch(c,k){this.b.set(c,c);const I=this.g.watch(this.t(c),k);return(0,N.$Qc)(()=>{this.b.delete(c),I.dispose()})}stat(c){return this.g.stat(this.t(c))}mkdir(c){return this.g.mkdir(this.t(c))}rename(c,k,I){return this.g.rename(this.t(c),this.t(k),I)}readFile(c,k){return this.g.readFile(this.t(c),k)}readFileStream(c,k,I){return this.g.readFileStream(this.t(c),k,I)}readdir(c){return this.g.readdir(this.t(c))}enforceAtomicReadFile(c){return this.c.has(c)}writeFile(c,k,I){return this.g.writeFile(this.t(c),k,I)}enforceAtomicWriteFile(c){return this.c.has(c)?{postfix:".vsctmp"}:!1}delete(c,k){return this.g.delete(this.t(c),k)}copy(c,k,I){if((0,D.$dk)(this.g))return this.g.copy(this.t(c),this.t(k),I);throw new Error("copy not supported")}cloneFile(c,k){if((0,D.$ek)(this.g))return this.g.cloneFile(this.t(c),this.t(k));throw new Error("clone not supported")}s(c){const k=[];for(const I of c){if(I.resource.scheme!==this.f)continue;const g=this.u(I.resource);this.b.findSubstr(g)&&k.push({resource:g,type:I.type,cId:I.cId})}k.length&&(this.n.debug("User data changed"),this.a.fire(k))}t(c){return c.with({scheme:this.f})}u(c){return c.with({scheme:this.h})}}e.$J8b=v}),define(te[152],ne([0,1,107,16,47,17,11,10,15]),function(J,e,L,N,D,A,j,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ji=e.$ii=e.$hi=e.$gi=e.$fi=e.$ei=e.$di=e.$ci=e.$bi=e.$ai=e.$_h=e.$$h=e.$0h=e.$9h=e.$8h=e.WorkbenchState=e.$7h=e.$6h=e.$5h=e.$4h=e.$3h=e.$2h=e.$1h=e.$Zh=void 0,e.$Zh=(0,v.$Qh)("contextService");function c(i){const n=i;return typeof n?.id=="string"&&j.URI.isUri(n.uri)}e.$1h=c;function k(i){return typeof i?.id=="string"&&!c(i)&&!g(i)}e.$2h=k,e.$3h={id:"ext-dev"},e.$4h={id:"empty-window"};function I(i,n){if(typeof i=="string"||typeof i>"u")return typeof i=="string"?{id:(0,N.$nc)(i)}:n?e.$3h:e.$4h;const o=i;return o.configuration?{id:o.id,configPath:o.configuration}:o.folders.length===1?{id:o.id,uri:o.folders[0].uri}:{id:o.id}}e.$5h=I;function g(i){const n=i;return typeof n?.id=="string"&&j.URI.isUri(n.configPath)}e.$6h=g;function f(i){const n=i;if(n?.uri)return{id:n.id,uri:j.URI.revive(n.uri)};const o=i;if(o?.configPath)return{id:o.id,configPath:j.URI.revive(o.configPath)};if(i?.id)return{id:i.id}}e.$7h=f;var S;(function(i){i[i.EMPTY=1]="EMPTY",i[i.FOLDER=2]="FOLDER",i[i.WORKSPACE=3]="WORKSPACE"})(S||(e.WorkbenchState=S={}));function y(i){const n=i;return!!(n&&typeof n=="object"&&typeof n.id=="string"&&Array.isArray(n.folders))}e.$8h=y;function $(i){const n=i;return!!(n&&typeof n=="object"&&j.URI.isUri(n.uri)&&typeof n.name=="string"&&typeof n.toResource=="function")}e.$9h=$;class h{constructor(n,o,l,P,E){this.h=n,this.j=l,this.k=P,this.l=E,this.c=D.$Wh.forUris(this.l,()=>!0),this.folders=o}update(n){this.h=n.id,this.k=n.configuration,this.j=n.transient,this.l=n.l,this.folders=n.folders}get folders(){return this.g}set folders(n){this.g=n,this.n()}get id(){return this.h}get transient(){return this.j}get configuration(){return this.k}set configuration(n){this.k=n}getFolder(n){return n&&this.c.findSubstr(n)||null}n(){this.c=D.$Wh.forUris(this.l,()=>!0);for(const n of this.folders)this.c.set(n.uri,n)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.$0h=h;class b{constructor(n,o){this.raw=o,this.uri=n.uri,this.index=n.index,this.name=n.name}toResource(n){return(0,A.$wg)(this.uri,n)}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.$$h=b;function R(i){return new b({uri:i,index:0,name:(0,A.$sg)(i)},{uri:i.toString()})}e.$_h=R,e.$ai="code-workspace",e.$bi=`.${e.$ai}`,e.$ci=[{name:(0,L.localize)(0,null),extensions:[e.$ai]}],e.$di="workspace.json";function d(i,n){return A.$ng.isEqualOrParent(i,n.untitledWorkspacesHome)}e.$ei=d;function w(i){let n;return j.URI.isUri(i)?n=i:n=i.configuration,n?.scheme===u.Schemas.tmp}e.$fi=w,e.$gi="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function s(i){return i.id===e.$gi}e.$hi=s;function r(i,n){return!d(i,n)&&!w(i)}e.$ii=r;function t(i){return(typeof i=="string"?(0,N.$oc)(i):(0,A.$ug)(i))===e.$bi}e.$ji=t}),define(te[23],ne([0,1,41,4,2,17,11,106,18,12,10,6,152,31,22,8,28,29,3]),function(J,e,L,N,D,A,j,v,u,c,k,I,g,f,S,y,$,h,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Pk=e.$Ok=e.$Nk=e.$Mk=e.$Lk=e.$Kk=e.ProfileResourceType=void 0;var R;(function(i){i.Settings="settings",i.Keybindings="keybindings",i.Snippets="snippets",i.Tasks="tasks",i.Extensions="extensions",i.GlobalState="globalState"})(R||(e.ProfileResourceType=R={}));function d(i){const n=i;return!!(n&&typeof n=="object"&&typeof n.id=="string"&&typeof n.isDefault=="boolean"&&typeof n.name=="string"&&j.URI.isUri(n.location)&&j.URI.isUri(n.globalStorageHome)&&j.URI.isUri(n.settingsResource)&&j.URI.isUri(n.keybindingsResource)&&j.URI.isUri(n.tasksResource)&&j.URI.isUri(n.snippetsHome)&&j.URI.isUri(n.extensionsResource))}e.$Kk=d,e.$Lk=(0,k.$Qh)("IUserDataProfilesService");function w(i,n){return{id:i.id,isDefault:i.isDefault,name:i.name,shortName:i.shortName,icon:i.icon,location:j.URI.revive(i.location).with({scheme:n}),globalStorageHome:j.URI.revive(i.globalStorageHome).with({scheme:n}),settingsResource:j.URI.revive(i.settingsResource).with({scheme:n}),keybindingsResource:j.URI.revive(i.keybindingsResource).with({scheme:n}),tasksResource:j.URI.revive(i.tasksResource).with({scheme:n}),snippetsHome:j.URI.revive(i.snippetsHome).with({scheme:n}),extensionsResource:j.URI.revive(i.extensionsResource).with({scheme:n}),cacheHome:j.URI.revive(i.cacheHome).with({scheme:n}),useDefaultFlags:i.useDefaultFlags,isTransient:i.isTransient}}e.$Mk=w;function s(i,n,o,l,P,E){return{id:i,name:n,location:o,isDefault:!1,shortName:P?.shortName,icon:P?.icon,globalStorageHome:E&&P?.useDefaultFlags?.globalState?E.globalStorageHome:(0,A.$wg)(o,"globalStorage"),settingsResource:E&&P?.useDefaultFlags?.settings?E.settingsResource:(0,A.$wg)(o,"settings.json"),keybindingsResource:E&&P?.useDefaultFlags?.keybindings?E.keybindingsResource:(0,A.$wg)(o,"keybindings.json"),tasksResource:E&&P?.useDefaultFlags?.tasks?E.tasksResource:(0,A.$wg)(o,"tasks.json"),snippetsHome:E&&P?.useDefaultFlags?.snippets?E.snippetsHome:(0,A.$wg)(o,"snippets"),extensionsResource:E&&P?.useDefaultFlags?.extensions?E.extensionsResource:(0,A.$wg)(o,"extensions.json"),cacheHome:(0,A.$wg)(l,i),useDefaultFlags:P?.useDefaultFlags,isTransient:P?.transient}}e.$Nk=s;let r=class extends D.$Sc{static{this.b="userDataProfiles"}static{this.c="profileAssociations"}get defaultProfile(){return this.profiles[0]}get profiles(){return[...this.C.profiles,...this.s.profiles]}constructor(n,o,l,P){super(),this.t=n,this.u=o,this.w=l,this.y=P,this.f=!0,this.h=this.B(new N.$Od),this.onDidChangeProfiles=this.h.event,this.j=this.B(new N.$Od),this.onWillCreateProfile=this.j.event,this.m=this.B(new N.$Od),this.onWillRemoveProfile=this.m.event,this.n=this.B(new N.$Od),this.onDidResetWorkspaces=this.n.event,this.r=new Map,this.s={profiles:[],workspaces:new f.$Ac,emptyWindows:new Map},this.profilesHome=(0,A.$wg)(this.t.userRoamingDataHome,"profiles"),this.g=(0,A.$wg)(this.t.cacheHome,"CachedProfilesData")}init(){this.z=void 0}setEnablement(n){this.f!==n&&(this.z=void 0,this.f=n)}isEnabled(){return this.f}get C(){if(!this.z){const n=this.D(),o=[n];if(this.f)try{for(const E of this.O()){if(!E.name||!(0,b.$zf)(E.name)||!E.location){this.y.warn("Skipping the invalid stored profile",E.location||E.name);continue}o.push(s((0,A.$tg)(E.location),E.name,E.location,this.g,{shortName:E.shortName,icon:E.icon,useDefaultFlags:E.useDefaultFlags},n))}}catch(E){this.y.error(E)}const l=new f.$Ac,P=new Map;if(o.length)try{const E=this.Q();if(E.workspaces)for(const[p,O]of Object.entries(E.workspaces)){const B=j.URI.parse(p),_=o.find(ee=>ee.id===O);_&&l.set(B,_)}if(E.emptyWindows)for(const[p,O]of Object.entries(E.emptyWindows)){const B=o.find(_=>_.id===O);B&&P.set(p,B)}}catch(E){this.y.error(E)}this.z={profiles:o,workspaces:l,emptyWindows:P}}return this.z}D(){const n=s("__default__profile__",(0,v.localize)(0,null),this.t.userRoamingDataHome,this.g);return{...n,extensionsResource:this.S()??n.extensionsResource,isDefault:!0}}async createTransientProfile(n){const o="Temp",l=new RegExp(`${(0,h.$Ge)(o)}\\s(\\d+)`);let P=0;for(const p of this.profiles){const O=l.exec(p.name),B=O?parseInt(O[1]):0;P=B>P?B:P}const E=`${o} ${P+1}`;return this.createProfile((0,L.$Ei)((0,$.$fg)()).toString(16),E,{transient:!0},n)}async createNamedProfile(n,o,l){return this.createProfile((0,L.$Ei)((0,$.$fg)()).toString(16),n,o,l)}async createProfile(n,o,l,P){if(!this.f)throw new Error("Profiles are disabled in the current environment.");const E=await this.F(n,o,l);return P&&await this.setProfileForWorkspace(P,E),E}async F(n,o,l){if(!(0,b.$zf)(o)||!o)throw new Error("Name of the profile is mandatory and must be of type `string`");let P=this.r.get(o);return P||(P=(async()=>{try{const E=this.profiles.find(B=>B.name===o||B.id===n);if(E)return E;const p=s(n,o,(0,A.$wg)(this.profilesHome,n),this.g,l,this.defaultProfile);await this.u.createFolder(p.location);const O=[];return this.j.fire({profile:p,join(B){O.push(B)}}),await y.Promises.settled(O),this.I([p],[],[]),p}finally{this.r.delete(o)}})(),this.r.set(o,P)),P}async updateProfile(n,o){if(!this.f)throw new Error("Profiles are disabled in the current environment.");let l=this.profiles.find(P=>P.id===n.id);if(!l)throw new Error(`Profile '${n.name}' does not exist`);return l=s(l.id,o.name??l.name,l.location,this.g,{shortName:o.shortName??l.shortName,icon:o.icon===null?void 0:o.icon??l.icon,transient:o.transient??l.isTransient,useDefaultFlags:o.useDefaultFlags??l.useDefaultFlags},this.defaultProfile),this.I([],[],[l]),l}async removeProfile(n){if(!this.f)throw new Error("Profiles are disabled in the current environment.");if(n.isDefault)throw new Error("Cannot remove default profile");const o=this.profiles.find(P=>P.id===n.id);if(!o)throw new Error(`Profile '${n.name}' does not exist`);const l=[];this.m.fire({profile:o,join(P){l.push(P)}});try{await Promise.allSettled(l)}catch(P){this.y.error(P)}for(const P of[...this.C.emptyWindows.keys()])o.id===this.C.emptyWindows.get(P)?.id&&this.C.emptyWindows.delete(P);for(const P of[...this.C.workspaces.keys()])o.id===this.C.workspaces.get(P)?.id&&this.C.workspaces.delete(P);this.M(),this.I([],[o],[]);try{await this.u.del(o.cacheHome,{recursive:!0})}catch(P){(0,c.$qk)(P)!==1&&this.y.error(P)}}async setProfileForWorkspace(n,o){if(!this.f)throw new Error("Profiles are disabled in the current environment.");const l=this.profiles.find(P=>P.id===o.id);if(!l)throw new Error(`Profile '${o.name}' does not exist`);this.L(n,l)}unsetWorkspace(n,o){if(!this.f)throw new Error("Profiles are disabled in the current environment.");this.L(n,void 0,o)}async resetWorkspaces(){this.s.workspaces.clear(),this.s.emptyWindows.clear(),this.C.workspaces.clear(),this.C.emptyWindows.clear(),this.M(),this.n.fire()}async cleanUp(){if(this.f&&await this.u.exists(this.profilesHome)){const n=await this.u.resolve(this.profilesHome);await Promise.all((n.children||[]).filter(o=>o.isDirectory&&this.profiles.every(l=>!this.w.extUri.isEqual(l.location,o.resource))).map(o=>this.u.del(o.resource,{recursive:!0})))}}async cleanUpTransientProfiles(){if(!this.f)return;const n=this.s.profiles.filter(o=>!this.H(o));await Promise.allSettled(n.map(o=>this.removeProfile(o)))}getProfileForWorkspace(n){const o=this.G(n);return j.URI.isUri(o)?this.s.workspaces.get(o)??this.C.workspaces.get(o):this.s.emptyWindows.get(o)??this.C.emptyWindows.get(o)}G(n){return(0,g.$1h)(n)?n.uri:(0,g.$6h)(n)?n.configPath:n.id}H(n){return!!([...this.s.emptyWindows.values()].some(o=>this.w.extUri.isEqual(o.location,n.location))||[...this.s.workspaces.values()].some(o=>this.w.extUri.isEqual(o.location,n.location))||[...this.C.emptyWindows.values()].some(o=>this.w.extUri.isEqual(o.location,n.location))||[...this.C.workspaces.values()].some(o=>this.w.extUri.isEqual(o.location,n.location)))}I(n,o,l){const P=[...this.profiles,...n],E=[];this.s.profiles=[];for(let p of P)p.isDefault||o.some(O=>p.id===O.id)||(p=l.find(O=>p.id===O.id)??p,p.isTransient?this.s.profiles.push(p):E.push({location:p.location,name:p.name,shortName:p.shortName,icon:p.icon,useDefaultFlags:p.useDefaultFlags}));this.P(E),this.z=void 0,this.J(n,o,l)}J(n,o,l){this.h.fire({added:n,removed:o,updated:l,all:this.profiles})}L(n,o,l){l=o?.isTransient?!0:l,l||this.L(n,void 0,!0);const P=this.G(n),E=l?this.s:this.C;j.URI.isUri(P)?(E.workspaces.delete(P),o&&E.workspaces.set(P,o)):(E.emptyWindows.delete(P),o&&E.emptyWindows.set(P,o)),l||this.M()}M(){const n={};for(const[l,P]of this.C.workspaces.entries())n[l.toString()]=P.id;const o={};for(const[l,P]of this.C.emptyWindows.entries())o[l.toString()]=P.id;this.R({workspaces:n,emptyWindows:o}),this.z=void 0}N(n){const o={},l=this.D();if(n.workspaces)for(const[E,p]of Object.entries(n.workspaces)){const O=j.URI.parse(p);o[E]=this.w.extUri.isEqual(O,l.location)?l.id:this.w.extUri.basename(O)}const P={};if(n.emptyWindows)for(const[E,p]of Object.entries(n.emptyWindows)){const O=j.URI.parse(p);P[E]=this.w.extUri.isEqual(O,l.location)?l.id:this.w.extUri.basename(O)}return{workspaces:o,emptyWindows:P}}O(){return[]}P(n){throw new Error("not implemented")}Q(){return{}}R(n){throw new Error("not implemented")}S(){}};e.$Ok=r,e.$Ok=r=pe([ie(0,u.$Xh),ie(1,c.$_j),ie(2,S.$Jk),ie(3,I.$$i)],r);class t extends r{constructor(){super(...arguments),this.a=[],this.X={}}O(){return this.a}P(n){this.a=n}Q(){return this.X}R(n){this.X=n}}e.$Pk=t}),define(te[153],ne([0,1,19,8,20,9,4,2,13,3,11,91,21,27,37,6,32,26,22,23]),function(J,e,L,N,D,A,j,v,u,c,k,I,g,f,S,y,$,h,b,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$wp=e.$vp=e.$up=e.$tp=void 0;let d=class extends v.$Sc{get onInstallExtension(){return this.n.event}get onDidInstallExtensions(){return this.s.event}get onUninstallExtension(){return this.t.event}get onDidUninstallExtension(){return this.u.event}get onDidUpdateExtensionMetadata(){return this.w.event}constructor(n,o,l,P,E,p){super(),this.z=n,this.C=o,this.D=l,this.F=P,this.G=E,this.H=p,this.h=0,this.j=new Map,this.m=new Map,this.n=this.B(new j.$Od),this.s=this.B(new j.$Od),this.t=this.B(new j.$Od),this.u=this.B(new j.$Od),this.w=this.B(new j.$Od),this.y=[],this.B((0,v.$Qc)(()=>{this.j.forEach(({task:O})=>O.cancel()),this.m.forEach(O=>O.cancel()),this.j.clear(),this.m.clear()}))}async canInstall(n){const o=await this.getTargetPlatform();return n.allTargetPlatforms.some(l=>(0,g.$_n)(l,n.allTargetPlatforms,o))}async installFromGallery(n,o={}){try{const P=(await this.installGalleryExtensions([{extension:n,options:o}])).find(({identifier:E})=>(0,f.$Do)(E,n.identifier));if(P?.local)return P?.local;throw P?.error?P.error:s(new Error(`Unknown error while installing extension ${n.identifier.id}`))}catch(l){throw s(l)}}async installGalleryExtensions(n){if(!this.z.isEnabled())throw new g.$co(I.localize(0,null),g.ExtensionManagementErrorCode.Internal);const o=[],l=[];await Promise.allSettled(n.map(async({extension:P,options:E})=>{try{const p=await this.O(P,!!E?.installGivenVersion,!!E?.installPreReleaseVersion);l.push({...p,options:E})}catch(p){o.push({identifier:P.identifier,operation:2,source:P,error:p})}})),l.length&&o.push(...await this.I(l));for(const P of o)P.error&&(this.F.error("Failed to install extension.",P.identifier.id),this.F.error(P.error),P.source&&!k.URI.isUri(P.source)&&r(this.C,"extensionGallery:install",{extensionData:(0,f.$Lo)(P.source),error:P.error}));return o}async uninstall(n,o={}){return this.F.trace("ExtensionManagementService#uninstall",n.identifier.id),this.Q(n,o)}async toggleAppliationScope(n,o){if((0,S.$0l)(n.manifest)||n.isBuiltin)return n;if(n.isApplicationScoped){let l=await this.updateMetadata(n,{isApplicationScoped:!1},this.H.defaultProfile.extensionsResource);this.D.extUri.isEqual(o,this.H.defaultProfile.extensionsResource)||(l=await this.ab(n,this.H.defaultProfile.extensionsResource,o));for(const P of this.H.profiles){const E=(await this.getInstalled(1,P.extensionsResource)).find(p=>(0,f.$Do)(p.identifier,n.identifier));E?this.w.fire(E):this.u.fire({identifier:n.identifier,profileLocation:P.extensionsResource})}return l}else{const l=this.D.extUri.isEqual(o,this.H.defaultProfile.extensionsResource)?await this.updateMetadata(n,{isApplicationScoped:!0},this.H.defaultProfile.extensionsResource):await this.ab(n,o,this.H.defaultProfile.extensionsResource,{isApplicationScoped:!0});return this.s.fire([{identifier:l.identifier,operation:2,local:l,profileLocation:this.H.defaultProfile.extensionsResource,applicationScoped:!0}]),l}}getExtensionsControlManifest(){const n=new Date().getTime();return(!this.g||n-this.h>1e3*60*5)&&(this.g=this.X(),this.h=n),this.g}registerParticipant(n){this.y.push(n)}async I(n){const o=[];return await Promise.allSettled(n.map(async l=>{try{const P=await this.J(l,(E,p)=>n.some(O=>(0,f.$Ho)(p.identifier.id)===(0,f.$Io)(O.manifest.publisher,O.manifest.name))?!1:this.L(E,p));o.push(...P)}catch(P){o.push({identifier:{id:(0,f.$Io)(l.manifest.publisher,l.manifest.name)},operation:2,source:l.extension,error:P})}})),this.s.fire(o),o}async J({manifest:n,extension:o,options:l},P){const E=l.isApplicationScoped||l.isBuiltin||(0,S.$0l)(n),p={...l,installOnlyNewlyAddedFromExtensionPack:k.URI.isUri(o)?l.installOnlyNewlyAddedFromExtensionPack:!0,isApplicationScoped:E,profileLocation:E?this.H.defaultProfile.extensionsResource:l.profileLocation??this.Y()},O=ue=>`${f.$Eo.create(ue).toString()}${p.profileLocation?`-${p.profileLocation.toString()}`:""}`;if(!k.URI.isUri(o)){const ue=this.j.get(O(o));if(ue)return this.F.info("Extensions is already requested to install",o.identifier.id),await ue.task.waitUntilTaskIsFinished(),[]}const B=[],_=[],ee=[],oe=this.Z(n,o,p);k.URI.isUri(o)||this.j.set(O(o),{task:oe,waitingTasks:[]}),this.n.fire({identifier:oe.identifier,source:o,profileLocation:p.profileLocation}),this.F.info("Installing extension:",oe.identifier.id),B.push({task:oe,manifest:n});let se=!1;try{if(p.donotIncludePackAndDependencies)this.F.info("Installing the extension without checking dependencies and pack",oe.identifier.id);else try{const ce=await this.N(oe.identifier,n,!!p.installOnlyNewlyAddedFromExtensionPack,!!p.installPreReleaseVersion,p.profileLocation),re=await this.getInstalled(void 0,p.profileLocation),q={...p,donotIncludePackAndDependencies:!0,context:{...p.context,[g.$7n]:!0}};for(const{gallery:X,manifest:T}of(0,L.$Mb)(ce,({gallery:C})=>C.identifier.id)){se=se||!!T.extensionDependencies?.some(G=>(0,f.$Do)({id:G},oe.identifier));const C=O(X),H=this.j.get(C);if(H){if(P(oe,H.task)){const G=H.task.identifier;this.F.info("Waiting for already requested installing extension",G.id,oe.identifier.id),H.waitingTasks.push(oe),_.push(j.Event.toPromise(j.Event.filter(this.onDidInstallExtensions,Y=>Y.some(Z=>(0,f.$Do)(Z.identifier,G)))).then(Y=>{if(this.F.info("Finished waiting for already requested installing extension",G.id,oe.identifier.id),!Y.find(M=>(0,f.$Do)(M.identifier,G))?.local)throw new Error(`Extension ${G.id} is not installed`)}))}}else if(!re.some(({identifier:G})=>(0,f.$Do)(G,X.identifier))){const G=this.Z(T,X,q);this.j.set(C,{task:G,waitingTasks:[oe]}),this.n.fire({identifier:G.identifier,source:X,profileLocation:p.profileLocation}),this.F.info("Installing extension:",G.identifier.id,oe.identifier.id),B.push({task:G,manifest:T})}}}catch(ce){if(k.URI.isUri(oe.source))(0,L.$Lb)(n.extensionDependencies)&&this.F.warn("Cannot install dependencies of extension:",oe.identifier.id,ce.message),(0,L.$Lb)(n.extensionPack)&&this.F.warn("Cannot install packed extensions of extension:",oe.identifier.id,ce.message);else throw this.F.error("Error while preparing to install dependencies and extension packs of the extension:",oe.identifier.id),ce}const ue=B.reduce((ce,{task:re,manifest:q})=>(ce.set(re.identifier.id.toLowerCase(),{task:re,manifest:q}),ce),new Map);for(;ue.size;){let ce;const re=[...ue.values()].filter(({manifest:q})=>!q.extensionDependencies?.some(X=>ue.has(X.toLowerCase())));re.length?ce=ue.size===1?re:re.filter(({task:q})=>!(q===oe&&!se)):(this.F.info("Found extensions with circular dependencies",re.map(({task:q})=>q.identifier.id)),ce=[...ue.values()]),await this.M(ce.map(async({task:q})=>{const X=new Date().getTime();try{const T=await q.run();if(await this.M(this.y.map(C=>C.postInstall(T,q.source,p,D.CancellationToken.None))),!k.URI.isUri(q.source)){const C=q.operation===3,H=C?void 0:(new Date().getTime()-q.source.lastUpdated)/1e3;if(r(this.C,C?"extensionGallery:update":"extensionGallery:install",{extensionData:(0,f.$Lo)(q.source),verificationStatus:q.verificationStatus,duration:new Date().getTime()-X,durationSinceUpdate:H}),u.$p&&q.operation!==3)try{await this.z.reportStatistic(T.manifest.publisher,T.manifest.name,T.manifest.version,"install")}catch{}}ee.push({local:T,identifier:q.identifier,operation:q.operation,source:q.source,context:q.options.context,profileLocation:q.profileLocation,applicationScoped:T.isApplicationScoped})}catch(T){throw k.URI.isUri(q.source)||r(this.C,q.operation===3?"extensionGallery:update":"extensionGallery:install",{extensionData:(0,f.$Lo)(q.source),verificationStatus:q.verificationStatus,duration:new Date().getTime()-X,error:T}),this.F.error("Error while installing the extension:",q.identifier.id),T}finally{ue.delete(q.identifier.id.toLowerCase())}}))}return _.length&&await this.M(_),ee.forEach(({identifier:ce})=>this.F.info("Extension installed successfully:",ce.id)),ee}catch(ue){if(B.forEach(({task:ce})=>ce.cancel()),ee.length)try{const ce=await Promise.allSettled(ee.map(({local:re})=>this.$(re,{versionOnly:!0,profileLocation:p.profileLocation}).run()));for(let re=0;re<ce.length;re++){const q=ce[re],{identifier:X}=ee[re];q.status==="fulfilled"?this.F.info("Rollback: Uninstalled extension",X.id):this.F.warn("Rollback: Error while uninstalling extension",X.id,(0,A.$0)(q.reason))}}catch(ce){this.F.warn("Error while rolling back extensions",(0,A.$0)(ce),ee.map(({identifier:re})=>re.id))}return B.map(({task:ce})=>({identifier:ce.identifier,operation:2,source:ce.source,context:p.context,profileLocation:p.profileLocation,error:ue}))}finally{for(const{task:ue}of B)ue.source&&!k.URI.isUri(ue.source)&&this.j.delete(O(ue.source))}}L(n,o){for(const[,{task:l,waitingTasks:P}]of this.j.entries())if(l===n&&(P.includes(o)||P.some(E=>this.L(E,o)))||l===o&&P[0]&&!this.L(n,P[0]))return!1;return!0}async M(n){const o=[],l=[],P=await Promise.allSettled(n);for(const E of P)E.status==="fulfilled"?o.push(E.value):l.push(E.reason);if(l.length)throw w(l);return o}async N(n,o,l,P,E){if(!this.z.isEnabled())return[];const p=await this.getInstalled(void 0,E),O=[],B=[],_=async(ee,oe)=>{O.push(ee);const se=oe.extensionDependencies||[],ue=[...se];if(oe.extensionPack){const ce=l?p.find(re=>(0,f.$Do)(re.identifier,ee)):void 0;for(const re of oe.extensionPack)ce&&ce.manifest.extensionPack&&ce.manifest.extensionPack.some(q=>(0,f.$Do)({id:q},{id:re}))||ue.every(q=>!(0,f.$Do)({id:q},{id:re}))&&ue.push(re)}if(ue.length){const ce=ue.filter(re=>O.every(q=>!(0,f.$Do)(q,{id:re})));if(ce.length){const re=await this.z.getExtensions(ce.map(q=>({id:q,preRelease:P})),D.CancellationToken.None);for(const q of re){if(O.find(C=>(0,f.$Do)(C,q.identifier)))continue;const X=se.some(C=>(0,f.$Do)({id:C},q.identifier));let T;try{T=await this.O(q,!1,P)}catch(C){if(X)throw C;this.F.info("Skipping the packed extension as it cannot be installed",q.identifier.id,(0,A.$0)(C));continue}B.push({gallery:T.extension,manifest:T.manifest}),await _(T.extension.identifier,T.manifest)}}}};return await _(n,o),B}async O(n,o,l){let P;const E=await this.getExtensionsControlManifest();if(E.malicious.some(B=>(0,f.$Do)(n.identifier,B)))throw new g.$co(I.localize(1,null,n.identifier.id),g.ExtensionManagementErrorCode.Malicious);const p=E.deprecated[n.identifier.id.toLowerCase()];if(p?.extension?.autoMigrate){if(this.F.info(`The '${n.identifier.id}' extension is deprecated, fetching the compatible '${p.extension.id}' extension instead.`),P=(await this.z.getExtensions([{id:p.extension.id,preRelease:p.extension.preRelease}],{targetPlatform:await this.getTargetPlatform(),compatible:!0},D.CancellationToken.None))[0],!P)throw new g.$co(I.localize(2,null,n.identifier.id,p.extension.id),g.ExtensionManagementErrorCode.Deprecated)}else{if(!await this.canInstall(n)){const B=await this.getTargetPlatform();throw new g.$co(I.localize(3,null,n.identifier.id,this.G.nameLong,(0,g.$8n)(B)),g.ExtensionManagementErrorCode.IncompatibleTargetPlatform)}if(P=await this.P(n,o,l),!P)throw!l&&n.properties.isPreReleaseVersion&&(await this.z.getExtensions([n.identifier],D.CancellationToken.None))[0]?new g.$co(I.localize(4,null,n.identifier.id),g.ExtensionManagementErrorCode.ReleaseVersionNotFound):new g.$co(I.localize(5,null,n.identifier.id,this.G.nameLong,this.G.version),g.ExtensionManagementErrorCode.Incompatible)}this.F.info("Getting Manifest...",P.identifier.id);const O=await this.z.getManifest(P,D.CancellationToken.None);if(O===null)throw new g.$co(`Missing manifest for extension ${P.identifier.id}`,g.ExtensionManagementErrorCode.Invalid);if(O.version!==P.version)throw new g.$co(`Cannot install '${P.identifier.id}' extension because of version mismatch in Marketplace`,g.ExtensionManagementErrorCode.Invalid);return{extension:P,manifest:O}}async P(n,o,l){const P=await this.getTargetPlatform();let E=null;return!o&&n.hasPreReleaseVersion&&n.properties.isPreReleaseVersion!==l&&(E=(await this.z.getExtensions([{...n.identifier,preRelease:l}],{targetPlatform:P,compatible:!0},D.CancellationToken.None))[0]||null),!E&&await this.z.isExtensionCompatible(n,l,P)&&(E=n),E||(o?E=(await this.z.getExtensions([{...n.identifier,version:n.version}],{targetPlatform:P,compatible:!0},D.CancellationToken.None))[0]||null:E=await this.z.getCompatibleExtension(n,l,P)),E}async Q(n,o){const l={...o,profileLocation:n.isApplicationScoped?this.H.defaultProfile.extensionsResource:o.profileLocation??this.Y()},P=ee=>`${ee.id.toLowerCase()}${l.versionOnly?`-${n.manifest.version}`:""}${l.profileLocation?`@${l.profileLocation.toString()}`:""}`,E=this.m.get(P(n.identifier));if(E)return this.F.info("Extensions is already requested to uninstall",n.identifier.id),E.waitUntilTaskIsFinished();const p=ee=>{const oe=this.$(ee,l);return this.m.set(P(oe.extension.identifier),oe),l.profileLocation?this.F.info("Uninstalling extension from the profile:",`${ee.identifier.id}@${ee.manifest.version}`,l.profileLocation.toString()):this.F.info("Uninstalling extension:",`${ee.identifier.id}@${ee.manifest.version}`),this.t.fire({identifier:ee.identifier,profileLocation:l.profileLocation,applicationScoped:ee.isApplicationScoped}),oe},O=(ee,oe)=>{oe?l.profileLocation?this.F.error("Failed to uninstall extension from the profile:",`${ee.identifier.id}@${ee.manifest.version}`,l.profileLocation.toString(),oe.message):this.F.error("Failed to uninstall extension:",`${ee.identifier.id}@${ee.manifest.version}`,oe.message):l.profileLocation?this.F.info("Successfully uninstalled extension from the profile",`${ee.identifier.id}@${ee.manifest.version}`,l.profileLocation.toString()):this.F.info("Successfully uninstalled extension:",`${ee.identifier.id}@${ee.manifest.version}`),r(this.C,"extensionGallery:uninstall",{extensionData:(0,f.$Ko)(ee),error:oe}),this.u.fire({identifier:ee.identifier,error:oe?.code,profileLocation:l.profileLocation,applicationScoped:ee.isApplicationScoped})},B=[],_=[];try{B.push(p(n));const ee=await this.getInstalled(1,l.profileLocation);if(l.donotIncludePack)this.F.info("Uninstalling the extension without including packed extension",`${n.identifier.id}@${n.manifest.version}`);else{const oe=this.U(n,ee);for(const se of oe)this.m.has(P(se.identifier))?this.F.info("Extensions is already requested to uninstall",se.identifier.id):B.push(p(se))}l.donotCheckDependents?this.F.info("Uninstalling the extension without checking dependents",`${n.identifier.id}@${n.manifest.version}`):this.R(B.map(oe=>oe.extension),ee,n),await this.M(B.map(async oe=>{try{if(await oe.run(),await this.M(this.y.map(se=>se.postUninstall(oe.extension,l,D.CancellationToken.None))),oe.extension.identifier.uuid)try{await this.z.reportStatistic(oe.extension.manifest.publisher,oe.extension.manifest.name,oe.extension.manifest.version,"uninstall")}catch{}O(oe.extension)}catch(se){const ue=se instanceof g.$co?se:new g.$co((0,A.$0)(se),g.ExtensionManagementErrorCode.Internal);throw O(oe.extension,ue),ue}finally{_.push(oe)}}))}catch(ee){const oe=ee instanceof g.$co?ee:new g.$co((0,A.$0)(ee),g.ExtensionManagementErrorCode.Internal);for(const se of B){try{se.cancel()}catch{}_.includes(se)||O(se.extension,oe)}throw oe}finally{for(const ee of B)this.m.delete(P(ee.extension.identifier))||this.F.warn("Uninstallation task is not found in the cache",ee.extension.identifier.id)}}R(n,o,l){for(const P of n){const E=this.W(P,o);if(E.length){const p=E.filter(O=>!n.some(B=>(0,f.$Do)(B.identifier,O.identifier)));if(p.length)throw new Error(this.S(P,p,l))}}}S(n,o,l){return l===n?o.length===1?I.localize(6,null,l.manifest.displayName||l.manifest.name,o[0].manifest.displayName||o[0].manifest.name):o.length===2?I.localize(7,null,l.manifest.displayName||l.manifest.name,o[0].manifest.displayName||o[0].manifest.name,o[1].manifest.displayName||o[1].manifest.name):I.localize(8,null,l.manifest.displayName||l.manifest.name,o[0].manifest.displayName||o[0].manifest.name,o[1].manifest.displayName||o[1].manifest.name):o.length===1?I.localize(9,null,l.manifest.displayName||l.manifest.name,n.manifest.displayName||n.manifest.name,o[0].manifest.displayName||o[0].manifest.name):o.length===2?I.localize(10,null,l.manifest.displayName||l.manifest.name,n.manifest.displayName||n.manifest.name,o[0].manifest.displayName||o[0].manifest.name,o[1].manifest.displayName||o[1].manifest.name):I.localize(11,null,l.manifest.displayName||l.manifest.name,n.manifest.displayName||n.manifest.name,o[0].manifest.displayName||o[0].manifest.name,o[1].manifest.displayName||o[1].manifest.name)}U(n,o,l=[]){if(l.indexOf(n)!==-1)return[];l.push(n);const P=n.manifest.extensionPack?n.manifest.extensionPack:[];if(P.length){const E=o.filter(O=>!O.isBuiltin&&P.some(B=>(0,f.$Do)({id:B},O.identifier))),p=[];for(const O of E)p.push(...this.U(O,o,l));return[...E,...p]}return[]}W(n,o){return o.filter(l=>l.manifest.extensionDependencies&&l.manifest.extensionDependencies.some(P=>(0,f.$Do)({id:P},n.identifier)))}async X(){try{this.F.trace("ExtensionManagementService.refreshReportedCache");const n=await this.z.getExtensionsControlManifest();return this.F.trace("ExtensionManagementService.refreshControlCache",n),n}catch{return this.F.trace("ExtensionManagementService.refreshControlCache - failed to get extension control manifest"),{malicious:[],deprecated:{},search:[]}}}};e.$tp=d,e.$tp=d=pe([ie(0,g.$bo),ie(1,h.$dl),ie(2,b.$Jk),ie(3,y.$$i),ie(4,$.$qj),ie(5,R.$Lk)],d);function w(i){const n=Array.isArray(i)?i:[i];return n.length===1?n[0]instanceof Error?n[0]:new Error(n[0]):n.reduce((o,l)=>new Error(`${o.message}${o.message?",":""}${l instanceof Error?l.message:l}`),new Error(""))}e.$up=w;function s(i){if(i instanceof g.$co)return i;const n=new g.$co(i.message,g.ExtensionManagementErrorCode.Internal);return n.stack=i.stack,n}e.$vp=s;function r(i,n,{extensionData:o,verificationStatus:l,duration:P,error:E,durationSinceUpdate:p}){let O,B;(0,c.$Hf)(l)&&(l===!0?l="Verified":(l===!1||(O=g.ExtensionManagementErrorCode.Signature,B=l),l="Unverified")),E&&(E instanceof g.$co?(O=E.code,E.code===g.ExtensionManagementErrorCode.Signature&&(B=E.message)):O=g.ExtensionManagementErrorCode.Internal),i.publicLog(n,{...o,verificationStatus:l,success:!E,duration:P,errorcode:O,errorcodeDetail:B,durationSinceUpdate:p})}class t{constructor(){this.d=new N.$Tg}async waitUntilTaskIsFinished(){return await this.d.wait(),this.g}async run(){return this.g||(this.g=(0,N.$Ig)(n=>this.h(n))),this.d.open(),this.g}cancel(){this.g||(this.g=(0,N.$Ig)(n=>new Promise((o,l)=>{const P=n.onCancellationRequested(()=>{P.dispose(),l(new A.$5)})})),this.d.open()),this.g.cancel()}}e.$wp=t}),define(te[40],ne([0,1,8,14,2,4,31,11,21,27,12,10,6,23,22,3,9,26]),function(J,e,L,N,D,A,j,v,u,c,k,I,g,f,S,y,$,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$zp=e.$yp=e.$xp=e.ExtensionsProfileScanningErrorCode=void 0;var b;(function(r){r.ERROR_PROFILE_NOT_FOUND="ERROR_PROFILE_NOT_FOUND",r.ERROR_INVALID_CONTENT="ERROR_INVALID_CONTENT"})(b||(e.ExtensionsProfileScanningErrorCode=b={}));class R extends Error{constructor(t,i){super(t),this.code=i}}e.$xp=R,e.$yp=(0,I.$Qh)("IExtensionsProfileScannerService");let d=class extends D.$Sc{constructor(t,i,n,o,l,P){super(),this.j=t,this.m=i,this.n=n,this.r=o,this.s=l,this.t=P,this.b=this.B(new A.$Od),this.onAddExtensions=this.b.event,this.c=this.B(new A.$Od),this.onDidAddExtensions=this.c.event,this.f=this.B(new A.$Od),this.onRemoveExtensions=this.f.event,this.g=this.B(new A.$Od),this.onDidRemoveExtensions=this.g.event,this.h=new j.$Ac}scanProfileExtensions(t,i){return this.u(t,void 0,i)}async addExtensionsToProfile(t,i){const n=[],o=[];try{return await this.u(i,l=>{const P=[];for(const E of l)t.some(([p])=>(0,c.$Do)(p.identifier,E.identifier)&&p.manifest.version!==E.version)?n.push(E):P.push(E);for(const[E,p]of t){const O=P.findIndex(_=>(0,c.$Do)(_.identifier,E.identifier)&&_.version===E.manifest.version),B={identifier:E.identifier,version:E.manifest.version,location:E.location,metadata:p};O===-1?(o.push(B),P.push(B)):P.splice(O,1,B)}return o.length&&this.b.fire({extensions:o,profileLocation:i}),n.length&&this.f.fire({extensions:n,profileLocation:i}),P}),o.length&&this.c.fire({extensions:o,profileLocation:i}),n.length&&this.g.fire({extensions:n,profileLocation:i}),o}catch(l){throw o.length&&this.c.fire({extensions:o,error:l,profileLocation:i}),n.length&&this.g.fire({extensions:n,error:l,profileLocation:i}),l}}async updateMetadata(t,i){const n=[];return await this.u(i,o=>{const l=[];for(const P of o){const E=t.find(([p])=>(0,c.$Do)(p.identifier,P.identifier)&&p.manifest.version===P.version);E&&(P.metadata={...P.metadata,...E[1]},n.push(P)),l.push(P)}return l}),n}async removeExtensionFromProfile(t,i){const n=[];try{await this.u(i,o=>{const l=[];for(const P of o)(0,c.$Do)(P.identifier,t.identifier)?n.push(P):l.push(P);return n.length&&this.f.fire({extensions:n,profileLocation:i}),l}),n.length&&this.g.fire({extensions:n,profileLocation:i})}catch(o){throw n.length&&this.g.fire({extensions:n,error:o,profileLocation:i}),o}}async u(t,i,n){return this.F(t).queue(async()=>{let o=[],l;try{const P=await this.m.readFile(t);l=JSON.parse(P.value.toString().trim()||"[]")}catch(P){if((0,k.$qk)(P)!==1)throw P;if(this.r.extUri.isEqual(t,this.n.defaultProfile.extensionsResource)&&(l=await this.D()),!l&&n?.bailOutWhenFileNotFound)throw new R((0,$.$0)(P),"ERROR_PROFILE_NOT_FOUND")}if(l){Array.isArray(l)||this.w(t);let P=!1;for(const E of l){w(E)||this.w(t);let p;if((0,y.$zf)(E.relativeLocation)&&E.relativeLocation)p=this.z(E.relativeLocation);else if((0,y.$zf)(E.location))p=this.z(E.location),P=!0,E.relativeLocation=E.location,E.location=p.toJSON();else{p=v.URI.revive(E.location);const O=this.y(p);O&&(P=!0,E.relativeLocation=O)}o.push({identifier:E.identifier,location:p,version:E.version,metadata:E.metadata})}P&&await this.m.writeFile(t,N.$ce.fromString(JSON.stringify(l)))}if(i){o=i(o);const P=o.map(E=>({identifier:E.identifier,version:E.version,location:E.location.toJSON(),relativeLocation:this.y(E.location),metadata:E.metadata}));await this.m.writeFile(t,N.$ce.fromString(JSON.stringify(P)))}return o})}w(t){const i=new R(`Invalid extensions content in ${t.toString()}`,"ERROR_INVALID_CONTENT");throw this.s.publicLogError2("extensionsProfileScanningError",{code:i.code}),i}y(t){return this.r.extUri.isEqual(this.r.extUri.dirname(t),this.j)?this.r.extUri.basename(t):void 0}z(t){return this.r.extUri.joinPath(this.j,t)}async D(){return this.C||(this.C=(async()=>{const t=this.r.extUri.joinPath(this.n.defaultProfile.location,"extensions.json"),i=this.r.extUri.joinPath(this.j,".init-default-profile-extensions");let n;try{n=(await this.m.readFile(t)).value.toString()}catch(l){if((0,k.$qk)(l)===1)return;throw l}this.t.info("Migrating extensions from old default profile location",t.toString());let o;try{const l=JSON.parse(n);Array.isArray(l)&&l.every(P=>w(P))?o=l:this.t.warn("Skipping migrating from old default profile locaiton: Found invalid data",l)}catch(l){this.t.error(l)}if(o)try{await this.m.createFile(this.n.defaultProfile.extensionsResource,N.$ce.fromString(JSON.stringify(o)),{overwrite:!1}),this.t.info("Migrated extensions from old default profile location to new location",t.toString(),this.n.defaultProfile.extensionsResource.toString())}catch(l){if((0,k.$qk)(l)===3)this.t.info("Migration from old default profile location to new location is done by another window",t.toString(),this.n.defaultProfile.extensionsResource.toString());else throw l}try{await this.m.del(t)}catch(l){(0,k.$qk)(l)!==1&&this.t.error(l)}try{await this.m.del(i)}catch(l){(0,k.$qk)(l)!==1&&this.t.error(l)}return o})()),this.C}F(t){let i=this.h.get(t);return i||(i=new L.$2g,this.h.set(t,i)),i}};e.$zp=d,e.$zp=d=pe([ie(1,k.$_j),ie(2,f.$Lk),ie(3,S.$Jk),ie(4,h.$dl),ie(5,g.$$i)],d);function w(r){return(0,y.$Bf)(r)&&(0,u.$ao)(r.identifier)&&(s(r.location)||(0,y.$zf)(r.location)&&r.location)&&((0,y.$Gf)(r.relativeLocation)||(0,y.$zf)(r.relativeLocation))&&r.version&&(0,y.$zf)(r.version)}function s(r){return r?(0,y.$zf)(r.path)&&(0,y.$zf)(r.scheme):!1}}),define(te[50],ne([0,1,19,8,30,14,9,53,79,2,15,16,13,17,42,54,3,11,95,18,27,37,48,12,10,6,32,4,46,40,23,22,112]),function(J,e,L,N,D,A,j,v,u,c,k,I,g,f,S,y,$,h,b,R,d,w,s,r,t,i,n,o,l,P,E,p,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Gp=e.$Fp=e.$Ep=e.$Dp=e.$Cp=e.Translations=void 0;var B;(function(re){function q(X,T){if(X===T)return!0;const C=Object.keys(X),H=new Set;for(const G of Object.keys(T))H.add(G);if(C.length!==H.size)return!1;for(const G of C){if(X[G]!==T[G])return!1;H.delete(G)}return H.size===0}re.equals=q})(B||(e.Translations=B={})),e.$Cp=(0,t.$Qh)("IExtensionsScannerService");let _=class extends c.$Sc{constructor(q,X,T,C,H,G,Y,Z,M,F,a,m){super(),this.systemExtensionsLocation=q,this.userExtensionsLocation=X,this.r=T,this.s=C,this.t=H,this.u=G,this.w=Y,this.y=Z,this.z=M,this.C=F,this.D=a,this.F=m,this.g=this.B(new o.$Od),this.onDidChangeCache=this.g.event,this.h=(0,f.$wg)(this.userExtensionsLocation,".obsolete"),this.j=this.B(this.F.createInstance(se,this.s,this.h)),this.m=this.B(this.F.createInstance(se,this.s,this.h)),this.n=this.B(this.F.createInstance(oe,this.h)),this.H=void 0,this.B(this.j.onDidChangeCache(()=>this.g.fire(0))),this.B(this.m.onDidChangeCache(()=>this.g.fire(1)))}getTargetPlatform(){return this.G||(this.G=(0,d.$Oo)(this.w,this.y)),this.G}async scanAllExtensions(q,X,T){const[C,H]=await Promise.all([this.scanSystemExtensions(q),this.scanUserExtensions(X)]),G=T?await this.scanExtensionsUnderDevelopment(q,[...C,...H]):[];return this.L(C,H,G,await this.getTargetPlatform(),!0)}async scanSystemExtensions(q){const X=[];X.push(this.M(!!q.useCache,q.language)),X.push(this.N(q.language,!!q.checkControlFile));const[T,C]=await Promise.all(X);return this.J([...T,...C],0,q,!1)}async scanUserExtensions(q){const X=q.profileLocation??this.userExtensionsLocation;this.y.trace("Started scanning user extensions",X);const T=this.D.extUri.isEqual(q.profileLocation,this.t.defaultProfile.extensionsResource)?{bailOutWhenFileNotFound:!0}:void 0,C=await this.P(X,!!q.profileLocation,1,!q.includeUninstalled,q.language,!0,T),H=q.useCache&&!C.devMode&&C.excludeObsolete?this.m:this.n;let G;try{G=await H.scanExtensions(C)}catch(Y){if(Y instanceof P.$xp&&Y.code==="ERROR_PROFILE_NOT_FOUND")await this.I(),G=await H.scanExtensions(C);else throw Y}return G=await this.J(G,1,q,!0),this.y.trace("Scanned user extensions:",G.length),G}async scanExtensionsUnderDevelopment(q,X){if(this.z.isExtensionDevelopment&&this.z.extensionDevelopmentLocationURI){const T=(await Promise.all(this.z.extensionDevelopmentLocationURI.filter(C=>C.scheme===k.Schemas.file).map(async C=>{const H=await this.P(C,!1,1,!0,q.language,!1,void 0);return(await this.n.scanOneOrMultipleExtensions(H)).map(Y=>(Y.type=X.find(Z=>(0,d.$Do)(Z.identifier,Y.identifier))?.type??Y.type,this.n.validate(Y,H)))}))).flat();return this.J(T,"development",q,!0)}return[]}async scanExistingExtension(q,X,T){const C=await this.P(q,!1,X,!0,T.language,!0,void 0),H=await this.n.scanExtension(C);return!H||!T.includeInvalid&&!H.isValid?null:H}async scanOneOrMultipleExtensions(q,X,T){const C=await this.P(q,!1,X,!0,T.language,!0,void 0),H=await this.n.scanOneOrMultipleExtensions(C);return this.J(H,X,T,!0)}async scanMetadata(q){const X=(0,f.$wg)(q,"package.json"),T=(await this.w.readFile(X)).value.toString();return JSON.parse(T).__metadata}async updateMetadata(q,X){const T=(0,f.$wg)(q,"package.json"),C=(await this.w.readFile(T)).value.toString(),H=JSON.parse(C);X.isMachineScoped===!1&&delete X.isMachineScoped,X.isBuiltin===!1&&delete X.isBuiltin,H.__metadata={...H.__metadata,...X},await this.w.writeFile((0,f.$wg)(q,"package.json"),A.$ce.fromString(JSON.stringify(H,null,"	")))}async initializeDefaultProfileExtensions(){try{await this.u.scanProfileExtensions(this.t.defaultProfile.extensionsResource,{bailOutWhenFileNotFound:!0})}catch(q){if(q instanceof P.$xp&&q.code==="ERROR_PROFILE_NOT_FOUND")await this.I();else throw q}}async I(){return this.H||(this.H=(async()=>{try{this.y.info("Started initializing default profile extensions in extensions installation folder.",this.userExtensionsLocation.toString());const q=await this.scanUserExtensions({includeInvalid:!0});if(q.length)await this.u.addExtensionsToProfile(q.map(X=>[X,X.metadata]),this.t.defaultProfile.extensionsResource);else try{await this.w.createFile(this.t.defaultProfile.extensionsResource,A.$ce.fromString(JSON.stringify([])))}catch(X){(0,r.$qk)(X)!==1&&this.y.warn("Failed to create default profile extensions manifest in extensions installation folder.",this.userExtensionsLocation.toString(),(0,j.$0)(X))}this.y.info("Completed initializing default profile extensions in extensions installation folder.",this.userExtensionsLocation.toString())}catch(q){this.y.error(q)}finally{this.H=void 0}})()),this.H}async J(q,X,T,C){return T.includeAllVersions||(q=this.L(X===0?q:void 0,X===1?q:void 0,X==="development"?q:void 0,await this.getTargetPlatform(),C)),T.includeInvalid||(q=q.filter(H=>H.isValid)),q.sort((H,G)=>{const Y=I.$nc(H.location.fsPath),Z=I.$nc(G.location.fsPath);return Y<Z?-1:Y>Z?1:0})}L(q,X,T,C,H){const G=(Z,M,F)=>{if(Z.isValid&&!M.isValid)return!1;if(Z.isValid===M.isValid){if(H&&S.gt(Z.manifest.version,M.manifest.version))return this.y.debug(`Skipping extension ${M.location.path} with lower version ${M.manifest.version} in favour of ${Z.location.path} with version ${Z.manifest.version}`),!1;if(S.eq(Z.manifest.version,M.manifest.version)){if(Z.type===0)return this.y.debug(`Skipping extension ${M.location.path} in favour of system extension ${Z.location.path} with same version`),!1;if(Z.targetPlatform===C)return this.y.debug(`Skipping extension ${M.location.path} from different target platform ${M.targetPlatform}`),!1}}return F?this.y.warn(`Overwriting user extension ${Z.location.path} with ${M.location.path}.`):this.y.debug(`Overwriting user extension ${Z.location.path} with ${M.location.path}.`),!0},Y=new w.$9l;return q?.forEach(Z=>{const M=Y.get(Z.identifier.id);(!M||G(M,Z,!1))&&Y.set(Z.identifier.id,Z)}),X?.forEach(Z=>{const M=Y.get(Z.identifier.id);if(!M&&q&&Z.type===0){this.y.debug(`Skipping obsolete system extension ${Z.location.path}.`);return}(!M||G(M,Z,!1))&&Y.set(Z.identifier.id,Z)}),T?.forEach(Z=>{const M=Y.get(Z.identifier.id);(!M||G(M,Z,!0))&&Y.set(Z.identifier.id,Z),Y.set(Z.identifier.id,Z)}),[...Y.values()]}async M(q,X){this.y.trace("Started scanning system extensions");const T=await this.P(this.systemExtensionsLocation,!1,0,!0,X,!0,void 0),H=await(q&&!T.devMode?this.j:this.n).scanExtensions(T);return this.y.trace("Scanned system extensions:",H.length),H}async N(q,X){const T=this.z.isBuilt?[]:this.C.builtInExtensions;if(!T?.length)return[];this.y.trace("Started scanning dev system extensions");const C=X?await this.O():{},H=[],G=h.URI.file(I.$hc(I.$jc(k.$dg.asFileUri("").fsPath,"..",".build","builtInExtensions")));for(const Z of T){const M=C[Z.name]||"marketplace";switch(M){case"disabled":break;case"marketplace":H.push((0,f.$wg)(G,Z.name));break;default:H.push(h.URI.file(M));break}}const Y=await Promise.all(H.map(async Z=>this.n.scanExtension(await this.P(Z,!1,0,!0,q,!0,void 0))));return this.y.trace("Scanned dev system extensions:",Y.length),(0,L.$Hb)(Y)}async O(){try{const q=await this.w.readFile(this.r);return JSON.parse(q.value.toString())}catch{return{}}}async P(q,X,T,C,H,G,Y){const Z=await this.f(H??g.$w),M=await this.Q(q),F=X&&!this.D.extUri.isEqual(q,this.t.defaultProfile.extensionsResource)?this.t.defaultProfile.extensionsResource:void 0,a=F?await this.Q(F):void 0;return new ee(q,M,F,a,X,Y,T,C,G,this.C.version,this.C.date,this.C.commit,!this.z.isBuilt,H,Z)}async Q(q){try{const X=await this.w.stat(q);if(typeof X.mtime=="number")return X.mtime}catch{}}};e.$Dp=_,e.$Dp=_=pe([ie(4,E.$Lk),ie(5,P.$yp),ie(6,r.$_j),ie(7,i.$$i),ie(8,R.$Xh),ie(9,n.$qj),ie(10,p.$Jk),ie(11,t.$Ph)],_);class ee{constructor(q,X,T,C,H,G,Y,Z,M,F,a,m,z,U,Q){this.location=q,this.mtime=X,this.applicationExtensionslocation=T,this.applicationExtensionslocationMtime=C,this.profile=H,this.profileScanOptions=G,this.type=Y,this.excludeObsolete=Z,this.validate=M,this.productVersion=F,this.productDate=a,this.productCommit=m,this.devMode=z,this.language=U,this.translations=Q}static createNlsConfiguration(q){return{language:q.language,pseudo:q.language==="pseudo",devMode:q.devMode,translations:q.translations}}static equals(q,X){return(0,f.$pg)(q.location,X.location)&&q.mtime===X.mtime&&(0,f.$pg)(q.applicationExtensionslocation,X.applicationExtensionslocation)&&q.applicationExtensionslocationMtime===X.applicationExtensionslocationMtime&&q.profile===X.profile&&D.$_m(q.profileScanOptions,X.profileScanOptions)&&q.type===X.type&&q.excludeObsolete===X.excludeObsolete&&q.validate===X.validate&&q.productVersion===X.productVersion&&q.productDate===X.productDate&&q.productCommit===X.productCommit&&q.devMode===X.devMode&&q.language===X.language&&B.equals(q.translations,X.translations)}}e.$Ep=ee;let oe=class extends c.$Sc{constructor(q,X,T,C,H){super(),this.f=q,this.g=X,this.h=T,this.j=C,this.m=H}async scanExtensions(q){const X=q.profile?await this.r(q):await this.n(q);let T={};if(q.excludeObsolete&&q.type===1)try{const C=(await this.j.readFile(this.f)).value.toString();T=JSON.parse(C)}catch{}return(0,$.$Mf)(T)?X:X.filter(C=>!T[d.$Eo.create(C).toString()])}async n(q){const X=await this.j.resolve(q.location);if(!X.children?.length)return[];const T=await Promise.all(X.children.map(async C=>{if(!C.isDirectory||q.type===1&&(0,f.$tg)(C.resource).indexOf(".")===0)return null;const H=new ee(C.resource,q.mtime,q.applicationExtensionslocation,q.applicationExtensionslocationMtime,q.profile,q.profileScanOptions,q.type,q.excludeObsolete,q.validate,q.productVersion,q.productDate,q.productCommit,q.devMode,q.language,q.translations);return this.scanExtension(H)}));return(0,L.$Hb)(T).sort((C,H)=>C.location.path<H.location.path?-1:1)}async r(q){let X=await this.s(q.location,()=>!0,q);if(q.applicationExtensionslocation&&!this.h.extUri.isEqual(q.location,q.applicationExtensionslocation)){X=X.filter(C=>!C.metadata?.isApplicationScoped);const T=await this.s(q.applicationExtensionslocation,C=>!!C.metadata?.isBuiltin||!!C.metadata?.isApplicationScoped,q);X.push(...T)}return X}async s(q,X,T){const C=await this.g.scanProfileExtensions(q,T.profileScanOptions);if(!C.length)return[];const H=await Promise.all(C.map(async G=>{if(X(G)){const Y=new ee(G.location,T.mtime,T.applicationExtensionslocation,T.applicationExtensionslocationMtime,T.profile,T.profileScanOptions,T.type,T.excludeObsolete,T.validate,T.productVersion,T.productDate,T.productCommit,T.devMode,T.language,T.translations);return this.scanExtension(Y,G.metadata)}return null}));return(0,L.$Hb)(H)}async scanOneOrMultipleExtensions(q){try{if(await this.j.exists((0,f.$wg)(q.location,"package.json"))){const X=await this.scanExtension(q);return X?[X]:[]}else return await this.scanExtensions(q)}catch(X){return this.m.error(`Error scanning extensions at ${q.location.path}:`,(0,j.$0)(X)),[]}}async scanExtension(q,X){try{let T=await this.scanExtensionManifest(q.location);if(T){T.publisher||(T.publisher=w.$3l),X=X??T.__metadata,delete T.__metadata;const C=(0,d.$Io)(T.publisher,T.name),H=X?.id?{id:C,uuid:X.id}:{id:C},G=X?.isSystem?0:q.type,Y=G===0||!!X?.isBuiltin;T=await this.t(q.location,T,ee.createNlsConfiguration(q));const Z={type:G,identifier:H,manifest:T,location:q.location,isBuiltin:Y,targetPlatform:X?.targetPlatform??"undefined",metadata:X,isValid:!0,validations:[]};return q.validate?this.validate(Z,q):Z}}catch(T){q.type!==0&&this.m.error(T)}return null}validate(q,X){let T=!0;const C=(0,s.$To)(X.productVersion,X.productDate,X.location,q.manifest,q.isBuiltin);for(const[H,G]of C)H===y.default.Error&&(T=!1,this.m.error(this.z(X.location,G)));return q.isValid=T,q.validations=C,q}async scanExtensionManifest(q){const X=(0,f.$wg)(q,"package.json");let T;try{T=(await this.j.readFile(X)).value.toString()}catch(H){return(0,r.$qk)(H)!==1&&this.m.error(this.z(q,(0,b.localize)(0,null,X.path,H.message))),null}let C;try{C=JSON.parse(T)}catch{const G=[];(0,v.$Xm)(T,G);for(const Y of G)this.m.error(this.z(q,(0,b.localize)(1,null,X.path,Y.offset,Y.length,(0,u.$Ap)(Y.error))));return null}return(0,v.$7m)(C)!=="object"?(this.m.error(this.z(q,(0,b.localize)(2,null,X.path))),null):C}async t(q,X,T){const C=await this.u(q,X,T);if(C)try{const H=[],G=await this.w(C.default,H);if(H.length>0)return H.forEach(Z=>{this.m.error(this.z(q,(0,b.localize)(3,null,C.default?.path,(0,u.$Ap)(Z.error))))}),X;if((0,v.$7m)(C)!=="object")return this.m.error(this.z(q,(0,b.localize)(4,null,C.default?.path))),X;const Y=C.values||Object.create(null);return(0,O.$Bp)(this.m,X,Y,G)}catch{}return X}async u(q,X,T){const C=(0,f.$wg)(q,"package.nls.json"),H=(M,F)=>{F.forEach(a=>{this.m.error(this.z(q,(0,b.localize)(5,null,M?.path,(0,u.$Ap)(a.error))))})},G=M=>{this.m.error(this.z(q,(0,b.localize)(6,null,M?.path)))},Y=`${X.publisher}.${X.name}`,Z=T.translations[Y];if(Z)try{const M=h.URI.file(Z),F=(await this.j.readFile(M)).value.toString(),a=[],m=(0,v.$Xm)(F,a);return a.length>0?(H(M,a),{values:void 0,default:C}):(0,v.$7m)(m)!=="object"?(G(M),{values:void 0,default:C}):{values:m.contents?m.contents.package:void 0,default:C}}catch{return{values:void 0,default:C}}else{if(!await this.j.exists(C))return;let F;try{F=await this.y(q,T)}catch{return}if(!F.localized)return{values:void 0,default:F.original};try{const a=(await this.j.readFile(F.localized)).value.toString(),m=[],z=(0,v.$Xm)(a,m);return m.length>0?(H(F.localized,m),{values:void 0,default:F.original}):(0,v.$7m)(z)!=="object"?(G(F.localized),{values:void 0,default:F.original}):{values:z,default:F.original}}catch{return{values:void 0,default:F.original}}}}async w(q,X){if(q)try{const T=(await this.j.readFile(q)).value.toString();return(0,v.$Xm)(T,X)}catch{}}y(q,X){return new Promise((T,C)=>{const H=G=>{const Y=(0,f.$wg)(q,`package.nls.${G}.json`);this.j.exists(Y).then(Z=>{Z&&T({localized:Y,original:(0,f.$wg)(q,"package.nls.json")});const M=G.lastIndexOf("-");M===-1?T({localized:(0,f.$wg)(q,"package.nls.json"),original:null}):(G=G.substring(0,M),H(G))})};if(X.devMode||X.pseudo||!X.language)return T({localized:(0,f.$wg)(q,"package.nls.json"),original:null});H(X.language)})}z(q,X){return`[${q.path}]: ${X}`}};oe=pe([ie(1,P.$yp),ie(2,p.$Jk),ie(3,r.$_j),ie(4,i.$$i)],oe);let se=class extends oe{constructor(q,X,T,C,H,G,Y){super(X,C,H,G,Y),this.G=q,this.H=T,this.D=this.B(new N.$Sg(3e3)),this.F=this.B(new o.$Od),this.onDidChangeCache=this.F.event}async scanExtensions(q){const X=this.M(q),T=await this.I(X);if(this.C=q,T&&T.input&&ee.equals(T.input,this.C))return this.m.debug("Using cached extensions scan result",q.location.toString()),this.D.trigger(()=>this.L()),T.result.map(H=>(H.location=h.URI.revive(H.location),H));const C=await super.scanExtensions(q);return await this.J(X,{input:q,result:C}),C}async I(q){try{const X=await this.j.readFile(q),T=JSON.parse(X.value.toString());return{result:T.result,input:(0,l.$nh)(T.input)}}catch(X){this.m.debug("Error while reading the extension cache file:",q.path,(0,j.$0)(X))}return null}async J(q,X){try{await this.j.writeFile(q,A.$ce.fromString(JSON.stringify(X)))}catch(T){this.m.debug("Error while writing the extension cache file:",q.path,(0,j.$0)(T))}}async L(){if(!this.C)return;const q=this.M(this.C),X=await this.I(q);if(!X)return;const T=X.result,C=JSON.parse(JSON.stringify(await super.scanExtensions(this.C)));if(!D.$_m(C,T))try{this.m.info("Invalidating Cache",T,C),await this.j.del(q),this.F.fire()}catch(H){this.m.error(H)}}M(q){const X=this.N(q);return this.h.extUri.joinPath(X.cacheHome,q.type===0?w.$2l:w.$1l)}N(q){return q.type===0?this.H.defaultProfile:q.profile?this.h.extUri.isEqual(q.location,this.G.extensionsResource)?this.G:this.H.profiles.find(X=>this.h.extUri.isEqual(q.location,X.extensionsResource))??this.G:this.H.defaultProfile}};se=pe([ie(2,E.$Lk),ie(3,P.$yp),ie(4,p.$Jk),ie(5,r.$_j),ie(6,i.$$i)],se);function ue(re,q){const X=(0,d.$Go)(re.manifest.publisher,re.manifest.name);return{id:X,identifier:new w.$7l(X),isBuiltin:re.type===0,isUserBuiltin:re.type===1&&re.isBuiltin,isUnderDevelopment:q,extensionLocation:re.location,uuid:re.identifier.uuid,targetPlatform:re.targetPlatform,...re.manifest}}e.$Fp=ue;class ce extends _{constructor(q,X,T,C,H,G,Y,Z,M,F,a,m){super(q,X,(0,f.$wg)(T,".vscode-oss-dev","extensions","control.json"),C,H,G,Y,Z,M,F,a,m),this.R=(async()=>{if(g.$z)try{const z=await this.w.readFile(h.URI.file(g.$z));return JSON.parse(z.value.toString())}catch{}return Object.create(null)})()}f(q){return this.R}}e.$Gp=ce}),define(te[154],ne([0,1,58,8,34,4,2,15,16,24,6,23]),function(J,e,L,N,D,A,j,v,u,c,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ip=void 0;let g=class extends j.$Sc{constructor(S,y){super(),this.b=S,this.f=y,this.a=new N.$1g(5)}async postUninstall(S){const y=this.g(S,"uninstall");y&&(this.f.info(S.identifier.id,S.manifest.version,"Running post uninstall script"),await this.a.queue(async()=>{try{await this.h(y.script,"uninstall",y.args,!0,S),this.f.info("Finished running post uninstall script",S.identifier.id,S.manifest.version)}catch($){this.f.error("Failed to run post uninstall script",S.identifier.id,S.manifest.version),this.f.error($)}}));try{await c.Promises.rm(this.m(S))}catch($){this.f.error("Error while removing extension storage path",S.identifier.id),this.f.error($)}}g(S,y){const $=`vscode:${y}`;if(S.location.scheme===v.Schemas.file&&S.manifest&&S.manifest.scripts&&typeof S.manifest.scripts[$]=="string"){const h=S.manifest.scripts[$].split(" ");return h.length<2||h[0]!=="node"||!h[1]?(this.f.warn(S.identifier.id,S.manifest.version,`${$} should be a node script`),null):{script:(0,u.$jc)(S.location.fsPath,h[1]),args:h.slice(2)||[]}}return null}h(S,y,$,h,b){return new Promise((R,d)=>{const w=this.j(S,y,$,b);let s;const r=t=>{s&&(clearTimeout(s),s=null),t?d(t):R(void 0)};w.on("error",t=>{r((0,D.$Bi)(t)||"Unknown")}),w.on("exit",(t,i)=>{r(t?`post-${y} process exited with code ${t}`:void 0)}),h&&(s=setTimeout(()=>{s=null,w.kill(),d("timed out")},5e3))})}j(S,y,$,h){const b={silent:!0,execArgv:void 0},R=(0,L.fork)(S,[`--type=extension-post-${y}`,...$],b);R.stdout.setEncoding("utf8"),R.stderr.setEncoding("utf8");const d=A.Event.fromNodeEventEmitter(R.stdout,"data"),w=A.Event.fromNodeEventEmitter(R.stderr,"data");d(t=>this.f.info(h.identifier.id,h.manifest.version,`post-${y}`,t)),w(t=>this.f.error(h.identifier.id,h.manifest.version,`post-${y}`,t));const s=A.Event.any(A.Event.map(d,t=>({data:`%c${t}`,format:[""]})),A.Event.map(w,t=>({data:`%c${t}`,format:["color: red"]})));return A.Event.debounce(s,(t,i)=>t?{data:t.data+i.data,format:[...t.format,...i.format]}:{data:i.data,format:i.format},100)(t=>{console.group(h.identifier.id),console.log(t.data,...t.format),console.groupEnd()}),R}m(S){return(0,u.$jc)(this.b.defaultProfile.globalStorageHome.fsPath,S.identifier.id.toLowerCase())}};e.$Ip=g,e.$Ip=g=pe([ie(0,I.$Lk),ie(1,k.$$i)],g)}),define(te[155],ne([0,1,6,23,22,26,40,12,18,11]),function(J,e,L,N,D,A,j,v,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$MN=void 0;let k=class extends j.$zp{constructor(g,f,S,y,$,h){super(c.URI.file(g.extensionsPath),f,S,y,$,h)}};e.$MN=k,e.$MN=k=pe([ie(0,u.$Yh),ie(1,v.$_j),ie(2,N.$Lk),ie(3,D.$Jk),ie(4,A.$dl),ie(5,L.$$i)],k)}),define(te[156],ne([0,1,11,18,40,50,12,10,6,32,22,23]),function(J,e,L,N,D,A,j,v,u,c,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$i8b=void 0;let g=class extends A.$Gp{constructor(S,y,$,h,b,R,d,w){super(L.URI.file(b.builtinExtensionsPath),L.URI.file(b.extensionsPath),b.userHome,S.defaultProfile,S,y,$,h,b,R,d,w)}};e.$i8b=g,e.$i8b=g=pe([ie(0,I.$Lk),ie(1,D.$yp),ie(2,j.$_j),ie(3,u.$$i),ie(4,N.$Yh),ie(5,c.$qj),ie(6,k.$Jk),ie(7,v.$Ph)],g)}),define(te[157],ne([0,1,8,4,2,123,3,86,10,23]),function(J,e,L,N,D,A,j,v,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$cp=e.$bp=e.$ap=e.$_o=e.$$o=e.StorageTarget=e.StorageScope=e.WillSaveStateReason=e.$0o=e.$9o=e.$8o=void 0,e.$8o="__$__isNewStorageMarker",e.$9o="__$__targetStorageMarker",e.$0o=(0,u.$Qh)("storageService");var k;(function(b){b[b.NONE=0]="NONE",b[b.SHUTDOWN=1]="SHUTDOWN"})(k||(e.WillSaveStateReason=k={}));var I;(function(b){b[b.APPLICATION=-1]="APPLICATION",b[b.PROFILE=0]="PROFILE",b[b.WORKSPACE=1]="WORKSPACE"})(I||(e.StorageScope=I={}));var g;(function(b){b[b.USER=0]="USER",b[b.MACHINE=1]="MACHINE"})(g||(e.StorageTarget=g={}));function f(b){const R=b.get(e.$9o);if(R)try{return JSON.parse(R)}catch{}return Object.create(null)}e.$$o=f;class S extends D.$Sc{static{this.a=60*1e3}constructor(R={flushInterval:S.a}){super(),this.m=R,this.b=this.B(new N.$Rd),this.c=this.B(new N.$Rd),this.onDidChangeTarget=this.c.event,this.f=this.B(new N.$Od),this.onWillSaveState=this.f.event,this.h=this.B(new L.$7g(()=>this.n(),this.m.flushInterval)),this.j=this.B(new D.$Tc),this.C=void 0,this.F=void 0,this.H=void 0}onDidChangeValue(R,d,w){return N.Event.filter(this.b.event,s=>s.scope===R&&(d===void 0||s.key===d),w)}n(){this.j.value=(0,L.$$g)(()=>{this.r()&&this.flush(),this.h.schedule()})}r(){return!0}t(){(0,D.$Nc)([this.j,this.h])}initialize(){return this.g||(this.g=(async()=>{(0,A.mark)("code/willInitStorage");try{await this.O()}finally{(0,A.mark)("code/didInitStorage")}this.h.schedule()})()),this.g}u(R,d){const{key:w,external:s}=d;if(w===e.$9o){switch(R){case-1:this.H=void 0;break;case 0:this.F=void 0;break;case 1:this.C=void 0;break}this.c.fire({scope:R})}else this.b.fire({scope:R,key:w,target:this.J(R)[w],external:s})}w(R){this.f.fire({reason:R})}get(R,d,w){return this.P(d)?.get(R,w)}getBoolean(R,d,w){return this.P(d)?.getBoolean(R,w)}getNumber(R,d,w){return this.P(d)?.getNumber(R,w)}getObject(R,d,w){return this.P(d)?.getObject(R,w)}storeAll(R,d){this.y(()=>{for(const w of R)this.store(w.key,w.value,w.scope,w.target,d)})}store(R,d,w,s,r=!1){if((0,j.$If)(d)){this.remove(R,w,r);return}this.y(()=>{this.z(R,w,s),this.P(w)?.set(R,d,r)})}remove(R,d,w=!1){this.y(()=>{this.z(R,d,void 0),this.P(d)?.delete(R,w)})}y(R){this.b.pause(),this.c.pause();try{R()}finally{this.b.resume(),this.c.resume()}}keys(R,d){const w=[],s=this.J(R);for(const r of Object.keys(s))s[r]===d&&w.push(r);return w}z(R,d,w,s=!1){const r=this.J(d);typeof w=="number"?r[R]!==w&&(r[R]=w,this.P(d)?.set(e.$9o,JSON.stringify(r),s)):typeof r[R]=="number"&&(delete r[R],this.P(d)?.set(e.$9o,JSON.stringify(r),s))}get D(){return this.C||(this.C=this.L(1)),this.C}get G(){return this.F||(this.F=this.L(0)),this.F}get I(){return this.H||(this.H=this.L(-1)),this.H}J(R){switch(R){case-1:return this.I;case 0:return this.G;default:return this.D}}L(R){const d=this.P(R);return d?f(d):Object.create(null)}isNew(R){return this.getBoolean(e.$8o,R)===!0}async flush(R=k.NONE){this.f.fire({reason:R});const d=this.P(-1),w=this.P(0),s=this.P(1);switch(R){case k.NONE:await L.Promises.settled([d?.whenFlushed()??Promise.resolve(),w?.whenFlushed()??Promise.resolve(),s?.whenFlushed()??Promise.resolve()]);break;case k.SHUTDOWN:await L.Promises.settled([d?.flush(0)??Promise.resolve(),w?.flush(0)??Promise.resolve(),s?.flush(0)??Promise.resolve()]);break}}async log(){const R=this.P(-1)?.items??new Map,d=this.P(0)?.items??new Map,w=this.P(1)?.items??new Map;return h(R,d,w,this.Q(-1)??"",this.Q(0)??"",this.Q(1)??"")}async optimize(R){return await this.flush(),this.P(R)?.optimize()}async switch(R,d){return this.w(k.NONE),(0,c.$Kk)(R)?this.R(R,d):this.S(R,d)}M(R,d){return!(R.id===d.id||y(d)&&y(R))}N(R,d,w){this.y(()=>{const s=new Set;for(const[r,t]of R)s.add(r),d.get(r)!==t&&this.u(w,{key:r,external:!0});for(const[r]of d.items)s.has(r)||this.u(w,{key:r,external:!0})})}}e.$_o=S;function y(b){return b.isDefault||!!b.useDefaultFlags?.globalState}e.$ap=y;class $ extends S{constructor(){super(),this.U=this.B(new v.$6o(new v.$7o,{hint:v.StorageHint.STORAGE_IN_MEMORY})),this.W=this.B(new v.$6o(new v.$7o,{hint:v.StorageHint.STORAGE_IN_MEMORY})),this.X=this.B(new v.$6o(new v.$7o,{hint:v.StorageHint.STORAGE_IN_MEMORY})),this.B(this.X.onDidChangeStorage(R=>this.u(1,R))),this.B(this.W.onDidChangeStorage(R=>this.u(0,R))),this.B(this.U.onDidChangeStorage(R=>this.u(-1,R)))}P(R){switch(R){case-1:return this.U;case 0:return this.W;default:return this.X}}Q(R){switch(R){case-1:return"inMemory (application)";case 0:return"inMemory (profile)";default:return"inMemory (workspace)"}}async O(){}async R(){}async S(){}r(){return!1}hasScope(R){return!1}}e.$bp=$;async function h(b,R,d,w,s,r){const t=B=>{try{return JSON.parse(B)}catch{return B}},i=new Map,n=new Map;b.forEach((B,_)=>{i.set(_,B),n.set(_,t(B))});const o=new Map,l=new Map;R.forEach((B,_)=>{o.set(_,B),l.set(_,t(B))});const P=new Map,E=new Map;d.forEach((B,_)=>{P.set(_,B),E.set(_,t(B))}),console.group(w!==s?`Storage: Application (path: ${w})`:`Storage: Application & Profile (path: ${w}, default profile)`);const p=[];if(i.forEach((B,_)=>{p.push({key:_,value:B})}),console.table(p),console.groupEnd(),console.log(n),w!==s){console.group(`Storage: Profile (path: ${s}, profile specific)`);const B=[];o.forEach((_,ee)=>{B.push({key:ee,value:_})}),console.table(B),console.groupEnd(),console.log(l)}console.group(`Storage: Workspace (path: ${r})`);const O=[];P.forEach((B,_)=>{O.push({key:_,value:B})}),console.table(O),console.groupEnd(),console.log(E)}e.$cp=h}),define(te[158],ne([0,1,19,20,9,13,35,3,11,25,18,21,27,48,12,6,32,44,142,157,26,175]),function(J,e,L,N,D,A,j,v,u,c,k,I,g,f,S,y,$,h,b,R,d,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$hp=e.$gp=e.$fp=void 0;const s=A.$p?"web":(0,I.$0n)(A.$u,j.$ec),r="X-Market-Search-Activity-Id";var t;(function(a){a[a.None=0]="None",a[a.IncludeVersions=1]="IncludeVersions",a[a.IncludeFiles=2]="IncludeFiles",a[a.IncludeCategoryAndTags=4]="IncludeCategoryAndTags",a[a.IncludeSharedAccounts=8]="IncludeSharedAccounts",a[a.IncludeVersionProperties=16]="IncludeVersionProperties",a[a.ExcludeNonValidated=32]="ExcludeNonValidated",a[a.IncludeInstallationTargets=64]="IncludeInstallationTargets",a[a.IncludeAssetUri=128]="IncludeAssetUri",a[a.IncludeStatistics=256]="IncludeStatistics",a[a.IncludeLatestVersionOnly=512]="IncludeLatestVersionOnly",a[a.Unpublished=4096]="Unpublished",a[a.IncludeNameConflictInfo=32768]="IncludeNameConflictInfo"})(t||(t={}));function i(...a){return String(a.reduce((m,z)=>m|z,0))}var n;(function(a){a[a.Tag=1]="Tag",a[a.ExtensionId=4]="ExtensionId",a[a.Category=5]="Category",a[a.ExtensionName=7]="ExtensionName",a[a.Target=8]="Target",a[a.Featured=9]="Featured",a[a.SearchText=10]="SearchText",a[a.ExcludeWithFlags=12]="ExcludeWithFlags"})(n||(n={}));const o={Icon:"Microsoft.VisualStudio.Services.Icons.Default",Details:"Microsoft.VisualStudio.Services.Content.Details",Changelog:"Microsoft.VisualStudio.Services.Content.Changelog",Manifest:"Microsoft.VisualStudio.Code.Manifest",VSIX:"Microsoft.VisualStudio.Services.VSIXPackage",License:"Microsoft.VisualStudio.Services.Content.License",Repository:"Microsoft.VisualStudio.Services.Links.Source",Signature:"Microsoft.VisualStudio.Services.VsixSignature"},l={Dependency:"Microsoft.VisualStudio.Code.ExtensionDependencies",ExtensionPack:"Microsoft.VisualStudio.Code.ExtensionPack",Engine:"Microsoft.VisualStudio.Code.Engine",PreRelease:"Microsoft.VisualStudio.Code.PreRelease",LocalizedLanguages:"Microsoft.VisualStudio.Code.LocalizedLanguages",WebExtension:"Microsoft.VisualStudio.Code.WebExtension",SponsorLink:"Microsoft.VisualStudio.Code.SponsorLink"},E={pageNumber:1,pageSize:10,sortBy:0,sortOrder:0,flags:t.None,criteria:[],assetTypes:[]};class p{constructor(m=E){this.d=m}get pageNumber(){return this.d.pageNumber}get pageSize(){return this.d.pageSize}get sortBy(){return this.d.sortBy}get sortOrder(){return this.d.sortOrder}get flags(){return this.d.flags}get criteria(){return this.d.criteria}withPage(m,z=this.d.pageSize){return new p({...this.d,pageNumber:m,pageSize:z})}withFilter(m,...z){const U=[...this.d.criteria,...z.length?z.map(Q=>({filterType:m,value:Q})):[{filterType:m}]];return new p({...this.d,criteria:U})}withSortBy(m){return new p({...this.d,sortBy:m})}withSortOrder(m){return new p({...this.d,sortOrder:m})}withFlags(...m){return new p({...this.d,flags:m.reduce((z,U)=>z|U,0)})}withAssetTypes(...m){return new p({...this.d,assetTypes:m})}withSource(m){return new p({...this.d,source:m})}get raw(){const{criteria:m,pageNumber:z,pageSize:U,sortBy:Q,sortOrder:W,flags:le,assetTypes:ae}=this.d;return{filters:[{criteria:m,pageNumber:z,pageSize:U,sortBy:Q,sortOrder:W}],assetTypes:ae,flags:le}}get searchText(){const m=this.d.criteria.filter(z=>z.filterType===n.SearchText)[0];return m&&m.value?m.value:""}get telemetryData(){return{filterTypes:this.d.criteria.map(m=>String(m.filterType)),flags:this.d.flags,sortBy:String(this.sortBy),sortOrder:String(this.sortOrder),pageNumber:String(this.pageNumber),source:this.d.source,searchTextLength:this.searchText.length}}}function O(a,m){const z=(a||[]).filter(U=>U.statisticName===m)[0];return z?z.value:0}function B(a){const m="Microsoft.VisualStudio.Code.Translation.";return a.files.filter(U=>U.assetType.indexOf(m)===0).reduce((U,Q)=>{const W=oe(a,Q.assetType);return W&&U.push([Q.assetType.substring(m.length),W]),U},[])}function _(a){if(a.properties){const m=a.properties.filter(Q=>Q.key===o.Repository),z=new RegExp("((git|ssh|http(s)?)|(git@[\\w.]+))(:(//)?)([\\w.@:/\\-~]+)(.git)(/)?"),U=m.filter(Q=>z.test(Q.value))[0];return U?{uri:U.value,fallbackUri:U.value}:null}return oe(a,o.Repository)}function ee(a){return{uri:`${a.fallbackAssetUri}/${o.VSIX}?redirect=true${a.targetPlatform?`&targetPlatform=${a.targetPlatform}`:""}`,fallbackUri:`${a.fallbackAssetUri}/${o.VSIX}${a.targetPlatform?`?targetPlatform=${a.targetPlatform}`:""}`}}function oe(a,m){return a.files.filter(U=>U.assetType===m)[0]?{uri:`${a.assetUri}/${m}${a.targetPlatform?`?targetPlatform=${a.targetPlatform}`:""}`,fallbackUri:`${a.fallbackAssetUri}/${m}${a.targetPlatform?`?targetPlatform=${a.targetPlatform}`:""}`}:null}function se(a,m){const z=a.properties?a.properties.filter(Q=>Q.key===m):[],U=z.length>0&&z[0].value;return U?U.split(",").map(Q=>(0,g.$Ho)(Q)):[]}function ue(a){const m=a.properties?a.properties.filter(z=>z.key===l.Engine):[];return m.length>0&&m[0].value||""}function ce(a){const m=a.properties?a.properties.filter(z=>z.key===l.PreRelease):[];return m.length>0&&m[0].value==="true"}function re(a){const m=a.properties?a.properties.filter(U=>U.key===l.LocalizedLanguages):[],z=m.length>0&&m[0].value||"";return z?z.split(","):[]}function q(a){return a.properties?.find(m=>m.key===l.SponsorLink)?.value}function X(a){return a.indexOf("preview")!==-1}function T(a){return a.targetPlatform?(0,I.$9n)(a.targetPlatform):"undefined"}function C(a){const m=(0,L.$Mb)(a.versions.map(T)),z=!!a.tags?.includes(I.$4n),U=m.indexOf("web");return z?U===-1&&m.push("web"):U!==-1&&m.splice(U,1),m}function H(a,m){for(let z=0;z<a.length;z++){const U=a[z];if(U.version===a[z-1]?.version){let Q=z;if(T(U)===m)for(;Q>0&&a[Q-1].version===U.version;)Q--;Q!==z&&(a.splice(z,1),a.splice(Q,0,U))}}return a}e.$fp=H;function G(a,m,z){a.telemetryData={index:m,querySource:z,queryActivityId:a.queryContext?.[r]}}function Y(a,m,z,U){const Q=a.versions[0],W={manifest:oe(m,o.Manifest),readme:oe(m,o.Details),changelog:oe(m,o.Changelog),license:oe(m,o.License),repository:_(m),download:ee(m),icon:oe(m,o.Icon),signature:oe(m,o.Signature),coreTranslations:B(m)};return{identifier:{id:(0,g.$Io)(a.publisher.publisherName,a.extensionName),uuid:a.extensionId},name:a.extensionName,version:m.version,displayName:a.displayName,publisherId:a.publisher.publisherId,publisher:a.publisher.publisherName,publisherDisplayName:a.publisher.displayName,publisherDomain:a.publisher.domain?{link:a.publisher.domain,verified:!!a.publisher.isDomainVerified}:void 0,publisherSponsorLink:q(Q),description:a.shortDescription||"",installCount:O(a.statistics,"install"),rating:O(a.statistics,"averagerating"),ratingCount:O(a.statistics,"ratingcount"),categories:a.categories||[],tags:a.tags||[],releaseDate:Date.parse(a.releaseDate),lastUpdated:Date.parse(a.lastUpdated),allTargetPlatforms:z,assets:W,properties:{dependencies:se(m,l.Dependency),extensionPack:se(m,l.ExtensionPack),engine:ue(m),localizedLanguages:re(m),targetPlatform:T(m),isPreReleaseVersion:ce(m)},hasPreReleaseVersion:ce(Q),hasReleaseVersion:!0,preview:X(a.flags),isSigned:!!W.signature,queryContext:U}}let Z=class{constructor(m,z,U,Q,W,le,ae,me){this.k=z,this.l=U,this.n=Q,this.o=W,this.q=le,this.u=ae,this.w=me;const de=ae.extensionsGallery,ge=de?.servicePPEUrl&&me.getValue("_extensionsGallery.enablePPE");this.d=ge?de.servicePPEUrl:de?.serviceUrl,this.g=ge?void 0:de?.searchUrl,this.h=de?.controlUrl,this.j=(0,b.$ep)(ae.version,ae,this.n,this.w,this.q,m,this.o)}x(m=""){return`${this.d}${m}`}isEnabled(){return!!this.d}async getExtensions(m,z,U){const Q=N.CancellationToken.isCancellationToken(z)?{}:z,W=N.CancellationToken.isCancellationToken(z)?z:U,le=[],ae=[],me=[],de=[];let ge=!0;for(const we of m){we.uuid?ae.push(we.uuid):le.push(we.id);const be=!!(we.version||we.preRelease);me.push({id:we.id,uuid:we.uuid,includePreRelease:be}),we.version&&de.push({id:we.id,uuid:we.uuid,version:we.version}),ge=ge&&!!we.hasPreRelease&&!be}if(!ae.length&&!le.length)return[];let fe=new p().withPage(1,m.length);ae.length&&(fe=fe.withFilter(n.ExtensionId,...ae)),le.length&&(fe=fe.withFilter(n.ExtensionName,...le)),(Q.queryAllVersions||ge)&&(fe=fe.withFlags(fe.flags,t.IncludeVersions)),Q.source&&(fe=fe.withSource(Q.source));const{extensions:he}=await this.z(fe,{targetPlatform:Q.targetPlatform??s,includePreRelease:me,versions:de,compatible:!!Q.compatible},W);return Q.source&&he.forEach((we,be)=>G(we,be,Q.source)),he}async getCompatibleExtension(m,z,U){if((0,I.$$n)(m.allTargetPlatforms,U))return null;if(await this.isExtensionCompatible(m,z,U))return m;const Q=new p().withFlags(t.IncludeVersions).withPage(1,1).withFilter(n.ExtensionId,m.identifier.uuid),{extensions:W}=await this.z(Q,{targetPlatform:U,compatible:!0,includePreRelease:z},N.CancellationToken.None);return W[0]||null}async isExtensionCompatible(m,z,U){if(!(0,I.$_n)(m.properties.targetPlatform,m.allTargetPlatforms,U)||!z&&m.properties.isPreReleaseVersion)return!1;let Q=m.properties.engine;if(!Q){const W=await this.getManifest(m,N.CancellationToken.None);if(!W)throw new Error("Manifest was not found");Q=W.engines.vscode}return(0,f.$Vo)(Q,this.u.version,this.u.date)}async y(m,z,U,Q,W){if(!(0,I.$_n)(T(m),Q,W)||z!=="any"&&ce(m)!==(z==="prerelease"))return!1;if(U)try{const le=await this.E(m);if(!(0,f.$Vo)(le,this.u.version,this.u.date))return!1}catch(le){return this.l.error(`Error while getting the engine for the version ${m.version}.`,(0,D.$0)(le)),!1}return!0}async query(m,z){let U=m.text||"";const Q=m.pageSize??50;let W=new p().withPage(1,Q);U?(U=U.replace(/\bcategory:("([^"]*)"|([^"]\S*))(\s+|\b|$)/g,(ge,fe,he)=>(W=W.withFilter(n.Category,he||fe),"")),U=U.replace(/\btag:("([^"]*)"|([^"]\S*))(\s+|\b|$)/g,(ge,fe,he)=>(W=W.withFilter(n.Tag,he||fe),"")),U=U.replace(/\bfeatured(\s+|\b|$)/g,()=>(W=W.withFilter(n.Featured),"")),U=U.trim(),U&&(U=U.length<200?U:U.substring(0,200),W=W.withFilter(n.SearchText,U)),W=W.withSortBy(0)):m.ids?W=W.withFilter(n.ExtensionId,...m.ids):m.names?W=W.withFilter(n.ExtensionName,...m.names):W=W.withSortBy(4),typeof m.sortBy=="number"&&(W=W.withSortBy(m.sortBy)),typeof m.sortOrder=="number"&&(W=W.withSortOrder(m.sortOrder)),m.source&&(W=W.withSource(m.source));const le=async(ge,fe)=>{const{extensions:he,total:we}=await this.z(ge,{targetPlatform:s,compatible:!1,includePreRelease:!!m.includePreRelease},fe);return he.forEach((be,ke)=>G(be,(ge.pageNumber-1)*ge.pageSize+ke,m.source)),{extensions:he,total:we}},{extensions:ae,total:me}=await le(W,z),de=async(ge,fe)=>{if(fe.isCancellationRequested)throw new D.$5;const{extensions:he}=await le(W.withPage(ge+1),fe);return he};return{firstPage:ae,total:me,pageSize:W.pageSize,getPage:de}}async z(m,z,U){const Q=m.flags;m.flags&t.IncludeLatestVersionOnly&&m.flags&t.IncludeVersions&&(m=m.withFlags(m.flags&~t.IncludeVersions,t.IncludeLatestVersionOnly)),!(m.flags&t.IncludeLatestVersionOnly)&&!(m.flags&t.IncludeVersions)&&(m=m.withFlags(m.flags,t.IncludeLatestVersionOnly)),z.versions?.length&&(m=m.withFlags(m.flags&~t.IncludeLatestVersionOnly,t.IncludeVersions)),m=m.withFlags(m.flags,t.IncludeAssetUri,t.IncludeCategoryAndTags,t.IncludeFiles,t.IncludeStatistics,t.IncludeVersionProperties);const{galleryExtensions:W,total:le,context:ae}=await this.B(m,U);if(!(m.flags&t.IncludeLatestVersionOnly)){const fe=[];for(const he of W){const we=await this.A(he,z,ae);we&&fe.push(we)}return{extensions:fe,total:le}}const de=[],ge=new Map;for(let fe=0;fe<W.length;fe++){const he=W[fe],we={id:(0,g.$Io)(he.publisher.publisherName,he.extensionName),uuid:he.extensionId},be=(0,v.$Ff)(z.includePreRelease)?z.includePreRelease:!!z.includePreRelease.find(Me=>(0,g.$Do)(Me,we))?.includePreRelease;if(z.compatible&&(0,I.$$n)(C(he),z.targetPlatform))continue;const ke=await this.A(he,z,ae);!ke||ke.properties.isPreReleaseVersion&&(!be||!ke.hasReleaseVersion)||!ke.properties.isPreReleaseVersion&&ke.properties.targetPlatform!==z.targetPlatform&&ke.hasPreReleaseVersion?ge.set(he.extensionId,fe):de.push([fe,ke])}if(ge.size){const fe=new w.$Kd,he=new p().withFlags(Q&~t.IncludeLatestVersionOnly,t.IncludeVersions).withPage(1,ge.size).withFilter(n.ExtensionId,...ge.keys()),{extensions:we}=await this.z(he,z,U);this.o.publicLog2("galleryService:additionalQuery",{duration:fe.elapsed(),count:ge.size});for(const be of we){const ke=ge.get(be.identifier.uuid);de.push([ke,be])}}return{extensions:de.sort((fe,he)=>fe[0]-he[0]).map(([,fe])=>fe),total:le}}async A(m,z,U){const Q={id:(0,g.$Io)(m.publisher.publisherName,m.extensionName),uuid:m.extensionId},W=z.versions?.find(de=>(0,g.$Do)(de,Q))?.version,le=(0,v.$Ff)(z.includePreRelease)?z.includePreRelease:!!z.includePreRelease.find(de=>(0,g.$Do)(de,Q))?.includePreRelease,ae=C(m),me=H(m.versions,z.targetPlatform);if(z.compatible&&(0,I.$$n)(ae,z.targetPlatform))return null;for(let de=0;de<me.length;de++){const ge=me[de];if(!(W&&ge.version!==W)){if(await this.y(ge,le?"any":"release",z.compatible,ae,z.targetPlatform))return Y(m,ge,ae,U);if(W&&ge.version===W)return null}}return W||z.compatible?null:Y(m,m.versions[0],ae)}async B(m,z){if(!this.isEnabled())throw new Error("No extension gallery service configured.");m=m.withFlags(m.flags,t.ExcludeNonValidated).withFilter(n.Target,"Microsoft.VisualStudio.Code").withFilter(n.ExcludeWithFlags,i(t.Unpublished));const U=await this.j,Q=JSON.stringify(m.raw),W={...U,"Content-Type":"application/json",Accept:"application/json;api-version=3.0-preview.1","Accept-Encoding":"gzip","Content-Length":String(Q.length)},le=new w.$Kd;let ae,me,de=0;try{if(ae=await this.k.request({type:"POST",url:this.g&&m.criteria.some(fe=>fe.filterType===n.SearchText)?this.g:this.x("/extensionquery"),data:Q,headers:W},z),ae.res.statusCode&&ae.res.statusCode>=400&&ae.res.statusCode<500)return{galleryExtensions:[],total:de};const ge=await(0,h.$3o)(ae);if(ge){const fe=ge.results[0],he=fe.extensions,we=fe.resultMetadata&&fe.resultMetadata.filter(be=>be.metadataType==="ResultCount")[0];return de=we&&we.metadataItems.filter(be=>be.name==="TotalCount")[0].count||0,{galleryExtensions:he,total:de,context:{[r]:ae.res.headers.activityid}}}return{galleryExtensions:[],total:de}}catch(ge){throw me=ge,ge}finally{this.o.publicLog2("galleryService:query",{...m.telemetryData,requestBodySize:String(Q.length),duration:le.elapsed(),success:!!ae&&(0,h.$Yo)(ae),responseBodySize:ae?.res.headers["Content-Length"],statusCode:ae?String(ae.res.statusCode):void 0,errorCode:me?(0,D.$4)(me)?"canceled":(0,D.$0)(me).startsWith("XHR timeout")?"timeout":"failed":void 0,count:String(de)})}}async reportStatistic(m,z,U,Q){if(!this.isEnabled())return;const W=A.$p?this.x(`/itemName/${m}.${z}/version/${U}/statType/${Q==="install"?"1":"3"}/vscodewebextension`):this.x(`/publishers/${m}/extensions/${z}/${U}/stats?statType=${Q}`),le=A.$p?"api-version=6.1-preview.1":"*/*;api-version=4.0-preview.1",me={...await this.j,Accept:le};try{await this.k.request({type:"POST",url:W,headers:me},N.CancellationToken.None)}catch{}}async download(m,z,U){this.l.trace("ExtensionGalleryService#download",m.identifier.id);const Q=(0,g.$Lo)(m),W=new Date().getTime(),le=fe=>this.o.publicLog("galleryService:downloadVSIX",{...Q,duration:fe}),ae=U===2?"install":U===3?"update":"",me=ae?{uri:`${m.assets.download.uri}${u.URI.parse(m.assets.download.uri).query?"&":"?"}${ae}=true`,fallbackUri:`${m.assets.download.fallbackUri}${u.URI.parse(m.assets.download.fallbackUri).query?"&":"?"}${ae}=true`}:m.assets.download,de=m.queryContext?.[r]?{[r]:m.queryContext[r]}:void 0,ge=await this.D(me,de?{headers:de}:void 0);await this.q.writeFile(z,ge.stream),le(new Date().getTime()-W)}async downloadSignatureArchive(m,z){if(!m.assets.signature)throw new Error("No signature asset found");this.l.trace("ExtensionGalleryService#downloadSignatureArchive",m.identifier.id);const U=await this.D(m.assets.signature);await this.q.writeFile(z,U.stream)}async getReadme(m,z){if(m.assets.readme){const U=await this.D(m.assets.readme,{},z);return await(0,h.$2o)(U)||""}return""}async getManifest(m,z){if(m.assets.manifest){const U=await this.D(m.assets.manifest,{},z),Q=await(0,h.$2o)(U);return Q?JSON.parse(Q):null}return null}async C(m,z){const U=oe(m,o.Manifest);if(!U)throw new Error("Manifest was not found");const Q={"Accept-Encoding":"gzip"},W=await this.D(U,{headers:Q});return await(0,h.$3o)(W)}async getCoreTranslation(m,z){const U=m.assets.coreTranslations.filter(Q=>Q[0]===z.toUpperCase())[0];if(U){const Q=await this.D(U[1]),W=await(0,h.$2o)(Q);return W?JSON.parse(W):null}return null}async getChangelog(m,z){if(m.assets.changelog){const U=await this.D(m.assets.changelog,{},z);return await(0,h.$2o)(U)||""}return""}async getAllCompatibleVersions(m,z,U){let Q=new p().withFlags(t.IncludeVersions,t.IncludeCategoryAndTags,t.IncludeFiles,t.IncludeVersionProperties).withPage(1,1);m.identifier.uuid?Q=Q.withFilter(n.ExtensionId,m.identifier.uuid):Q=Q.withFilter(n.ExtensionName,m.identifier.id);const{galleryExtensions:W}=await this.B(Q,N.CancellationToken.None);if(!W.length)return[];const le=C(W[0]);if((0,I.$$n)(le,U))return[];const ae=[];await Promise.all(W[0].versions.map(async ge=>{try{await this.y(ge,z?"any":"release",!0,le,U)&&ae.push(ge)}catch{}}));const me=[],de=new Set;for(const ge of H(ae,U))de.has(ge.version)||(de.add(ge.version),me.push({version:ge.version,date:ge.lastUpdated,isPreReleaseVersion:ce(ge)}));return me}async D(m,z={},U=N.CancellationToken.None){const Q=await this.j,W={type:"GET"},le={...Q,...z.headers||{}};z={...z,...W,headers:le};const ae=m.uri,me=m.fallbackUri,de={...z,url:ae};try{const ge=await this.k.request(de,U);if(ge.res.statusCode===200)return ge;const fe=await(0,h.$2o)(ge);throw new Error(`Expected 200, got back ${ge.res.statusCode} instead.

${fe}`)}catch(ge){if((0,D.$4)(ge))throw ge;const fe=(0,D.$0)(ge);this.o.publicLog2("galleryService:cdnFallback",{url:ae,message:fe});const he={...z,url:me};return this.k.request(he,U)}}async E(m){let z=ue(m);if(!z){const U=await this.C(m,N.CancellationToken.None);if(!U)throw new Error("Manifest was not found");z=U.engines.vscode}return z}async getExtensionsControlManifest(){if(!this.isEnabled())throw new Error("No extension gallery service configured.");if(!this.h)return{malicious:[],deprecated:{},search:[]};const m=await this.k.request({type:"GET",url:this.h},N.CancellationToken.None);if(m.res.statusCode!==200)throw new Error("Could not get extensions report.");const z=await(0,h.$3o)(m),U=[],Q={},W=[];if(z){for(const le of z.malicious)U.push({id:le});if(z.migrateToPreRelease)for(const[le,ae]of Object.entries(z.migrateToPreRelease))(!ae.engine||(0,f.$Vo)(ae.engine,this.u.version,this.u.date))&&(Q[le.toLowerCase()]={disallowInstall:!0,extension:{id:ae.id,displayName:ae.displayName,autoMigrate:{storage:!!ae.migrateStorage},preRelease:!0}});if(z.deprecated)for(const[le,ae]of Object.entries(z.deprecated))ae&&(Q[le.toLowerCase()]=(0,v.$Ff)(ae)?{}:ae);if(z.search)for(const le of z.search)W.push(le)}return{malicious:U,deprecated:Q,search:W}}};Z=pe([ie(1,h.$Wo),ie(2,y.$$i),ie(3,k.$Xh),ie(4,d.$dl),ie(5,S.$_j),ie(6,$.$qj),ie(7,c.$ki)],Z);let M=class extends Z{constructor(m,z,U,Q,W,le,ae,me){super(m,z,U,Q,W,le,ae,me)}};e.$gp=M,e.$gp=M=pe([ie(0,R.$0o),ie(1,h.$Wo),ie(2,y.$$i),ie(3,k.$Xh),ie(4,d.$dl),ie(5,S.$_j),ie(6,$.$qj),ie(7,c.$ki)],M);let F=class extends Z{constructor(m,z,U,Q,W,le,ae){super(void 0,m,z,U,Q,W,le,ae)}};e.$hp=F,e.$hp=F=pe([ie(0,h.$Wo),ie(1,y.$$i),ie(2,k.$Xh),ie(3,d.$dl),ie(4,S.$_j),ie(5,$.$qj),ie(6,c.$ki)],F)}),define(te[159],ne([0,1,11,18,12,6,139,22,23,3,68]),function(J,e,L,N,D,A,j,v,u,c,k){"use strict";var I,g;Object.defineProperty(e,"__esModule",{value:!0}),e.$LN=e.$KN=e.$JN=void 0;let f=class extends u.$Ok{static{I=this}static{this.a="profileAssociationsMigration"}constructor(h,b,R,d,w){super(R,d,b,w),this.U=h,this.W=R}O(){return this.U.getItem(I.b,[]).map(b=>({...b,location:(0,c.$zf)(b.location)?this.w.extUri.joinPath(this.profilesHome,b.location):L.URI.revive(b.location)}))}Q(){const h=this.U.getItem(I.c,{});return this.U.getItem(I.a,!1)?h:this.N(h)}S(){return this.w.extUri.joinPath(L.URI.file(this.W.extensionsPath).with({scheme:this.profilesHome.scheme}),"extensions.json")}};e.$JN=f,e.$JN=f=I=pe([ie(0,j.$EN),ie(1,v.$Jk),ie(2,N.$Yh),ie(3,D.$_j),ie(4,A.$$i)],f);let S=g=class extends f{constructor(h,b,R,d,w){super(h,b,R,d,w),this.$=h}P(h){h.length?this.$.setItem(g.b,h.map(b=>({...b,location:this.w.extUri.basename(b.location)}))):this.$.removeItem(g.b)}O(){const h=super.O();return this.$.getItem("userDataProfilesMigration",!1)||(this.P(h),this.$.setItem("userDataProfilesMigration",!0)),h}R(h){h.emptyWindows||h.workspaces?this.$.setItem(g.c,h):this.$.removeItem(g.c)}Q(){const h="workspaceAndProfileInfo",b=this.$.getItem(h,void 0);if(b){this.$.removeItem(h);const d=b.reduce((w,{workspace:s,profile:r})=>(w[L.URI.revive(s).toString()]=L.URI.revive(r).toString(),w),{});this.$.setItem(g.c,{workspaces:d})}const R=super.Q();return this.$.getItem(g.a,!1)||(this.R(R),this.$.setItem(g.a,!0)),R}};e.$KN=S,e.$KN=S=g=pe([ie(0,j.$FN),ie(1,v.$Jk),ie(2,N.$Yh),ie(3,D.$_j),ie(4,A.$$i)],S);let y=class extends S{constructor(h,b,R,d){super(new k.$IN(0,b,d,R),h,b,R,d)}async init(){return await this.$.init(),super.init()}};e.$LN=y,e.$LN=y=pe([ie(0,v.$Jk),ie(1,N.$Yh),ie(2,D.$_j),ie(3,A.$$i)],y)}),define(te[51],ne([0,1,125,8,16,3,24,87,176,177]),function(J,e,L,N,D,A,j,v,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$sp=e.$rp=e.zip=e.$pp=e.$op=void 0,e.$op="end of central directory record signature not found";const k=new RegExp(e.$op);class I extends Error{constructor(r,t){let i=t.message;switch(r){case"CorruptZip":i=`Corrupt ZIP: ${i}`;break}super(i),this.type=r,this.cause=t}}e.$pp=I;function g(s){const r=s.externalFileAttributes>>16||33188;return[448,56,7].map(t=>r&t).reduce((t,i)=>t+i,r&61440)}function f(s){if(s instanceof I)return s;let r;return k.test(s.message)&&(r="CorruptZip"),new I(r,s)}function S(s,r,t,i,n,o){const l=D.$mc(r),P=D.$jc(i,l);if(!P.startsWith(i))return Promise.reject(new Error(v.localize(0,null,r)));const E=D.$jc(i,r);let p;return o.onCancellationRequested(()=>{p?.destroy()}),Promise.resolve(j.Promises.mkdir(P,{recursive:!0})).then(()=>new Promise((O,B)=>{if(!o.isCancellationRequested)try{p=(0,L.createWriteStream)(E,{mode:t}),p.once("close",()=>O()),p.once("error",B),s.once("error",B),s.pipe(p)}catch(_){B(_)}}))}function y(s,r,t,i){let n=(0,N.$Ig)(()=>Promise.resolve()),o=0;const l=i.onCancellationRequested(()=>{n.cancel(),s.close()});return new Promise((P,E)=>{const p=new N.$Pg,O=B=>{B.isCancellationRequested||(o++,s.readEntry())};s.once("error",E),s.once("close",()=>n.then(()=>{i.isCancellationRequested||s.entryCount===o?P():E(new I("Incomplete",new Error(v.localize(1,null,o,s.entryCount))))},E)),s.readEntry(),s.on("entry",B=>{if(i.isCancellationRequested)return;if(!t.sourcePathRegex.test(B.fileName)){O(i);return}const _=B.fileName.replace(t.sourcePathRegex,"");if(/\/$/.test(_)){const se=D.$jc(r,_);n=(0,N.$Ig)(ue=>j.Promises.mkdir(se,{recursive:!0}).then(()=>O(ue)).then(void 0,E));return}const ee=h(s,B),oe=g(B);n=(0,N.$Ig)(se=>p.queue(()=>ee.then(ue=>S(ue,_,oe,r,t,se).then(()=>O(se)))).then(null,E))})}).finally(()=>l.dispose())}function $(s,r=!1){return new Promise((t,i)=>{(0,u.open)(s,r?{lazyEntries:!0}:void 0,(n,o)=>{n?i(f(n)):t((0,A.$Kf)(o))})})}function h(s,r){return new Promise((t,i)=>{s.openReadStream(r,(n,o)=>{n?i(f(n)):t((0,A.$Kf)(o))})})}function b(s,r){return new Promise((t,i)=>{const n=new c.ZipFile;r.forEach(l=>{l.contents?n.addBuffer(typeof l.contents=="string"?Buffer.from(l.contents,"utf8"):l.contents,l.path):l.localPath&&n.addFile(l.localPath,l.path)}),n.end();const o=(0,L.createWriteStream)(s);n.outputStream.pipe(o),n.outputStream.once("error",i),o.once("error",i),o.once("finish",()=>t(s))})}e.zip=b;function R(s,r,t={},i){const n=new RegExp(t.sourcePath?`^${t.sourcePath}`:"");let o=$(s,!0);return t.overwrite&&(o=o.then(l=>j.Promises.rm(r).then(()=>l))),o.then(l=>y(l,r,{sourcePathRegex:n},i))}e.$rp=R;function d(s,r){return $(s).then(t=>new Promise((i,n)=>{t.on("entry",o=>{o.fileName===r&&h(t,o).then(l=>i(l),l=>n(l))}),t.once("close",()=>n(new Error(v.localize(2,null,r))))}))}function w(s,r){return d(s,r).then(t=>new Promise((i,n)=>{const o=[];t.once("error",n),t.on("data",l=>o.push(l)),t.on("end",()=>i(Buffer.concat(o)))}))}e.$sp=w}),define(te[160],ne([0,1,8,9,2,15,17,42,3,28,24,51,25,18,21,27,60,12,6]),function(J,e,L,N,D,A,j,v,u,c,k,I,g,f,S,y,$,h,b){"use strict";var R;Object.defineProperty(e,"__esModule",{value:!0}),e.$Hp=void 0;let d=class extends D.$Sc{static{R=this}static{this.c=".sigzip"}constructor(s,r,t,i,n,o){super(),this.h=r,this.j=t,this.m=i,this.n=n,this.r=o,this.extensionsDownloadDir=s.extensionsDownloadLocation,this.f=20,this.g=this.y()}async download(s,r,t){await this.g;const i=(0,j.$wg)(this.extensionsDownloadDir,this.z(s));try{await this.w(s,i,o=>this.j.download(s,o,r))}catch(o){throw new S.$co(o.message,S.ExtensionManagementErrorCode.Download)}let n=!1;if(t&&this.t(s)){const o=await this.u(s);try{n=await this.n.verify(i.fsPath,o.fsPath,this.r.getLevel()===b.LogLevel.Trace)}catch(l){const P=l;if(n=P.code,P.output&&this.r.trace(`Extension signature verification details for ${s.identifier.id} ${s.version}:
${P.output}`),n===S.ExtensionSignaturetErrorCode.PackageIsInvalidZip||n===S.ExtensionSignaturetErrorCode.SignatureArchiveIsInvalidZip)throw new S.$co(I.$op,S.ExtensionManagementErrorCode.CorruptZip)}finally{try{await this.delete(o)}catch(l){this.r.error(l)}}}return n===!0?this.r.info(`Extension signature is verified: ${s.identifier.id}`):n===!1?this.r.info(`Extension signature verification is not done: ${s.identifier.id}`):this.r.warn(`Extension signature verification failed with error '${n}': ${s.identifier.id}`),{location:i,verificationStatus:n}}t(s){if(!s.isSigned)return!1;const r=this.m.getValue("extensions.verifySignature");return(0,u.$Ff)(r)?r:!0}async u(s){await this.g;const r=(0,j.$wg)(this.extensionsDownloadDir,`${this.z(s)}${R.c}`);return await this.w(s,r,t=>this.j.downloadSignatureArchive(s,t)),r}async w(s,r,t){if(await this.h.exists(r))return;if(r.scheme!==A.Schemas.file){await t(r);return}const i=(0,j.$wg)(this.extensionsDownloadDir,`.${(0,c.$fg)()}`);await this.h.exists(i)||await t(i);try{await k.Promises.rename(i.fsPath,r.fsPath,2*60*1e3)}catch(n){try{await this.h.del(i)}catch{}if(n.code==="ENOTEMPTY")this.r.info("Rename failed because the file was downloaded by another source. So ignoring renaming.",s.identifier.id,r.path);else throw this.r.info(`Rename failed because of ${(0,N.$0)(n)}. Deleted the file from downloaded location`,i.path),n}}async delete(s){await this.g,await this.h.del(s)}async y(){try{if(!await this.h.exists(this.extensionsDownloadDir)){this.r.trace("Extension VSIX downloads cache dir does not exist");return}const s=await this.h.resolve(this.extensionsDownloadDir,{resolveMetadata:!0});if(s.children){const r=[],t=[],i=[];for(const l of s.children)if(l.name.endsWith(R.c))i.push(l.resource);else{const P=y.$Eo.parse(l.name);P&&t.push([P,l])}const n=(0,y.$Jo)(t,([l])=>l),o=[];for(const l of n)l.sort((P,E)=>v.rcompare(P[0].version,E[0].version)),r.push(...l.slice(1).map(P=>P[1].resource)),o.push(l[0][1]);o.sort((l,P)=>l.mtime-P.mtime),r.push(...o.slice(0,Math.max(0,o.length-this.f)).map(l=>l.resource)),r.push(...i),await L.Promises.settled(r.map(l=>(this.r.trace("Deleting from cache",l.path),this.h.del(l))))}}catch(s){this.r.error(s)}}z(s){return this.f?y.$Eo.create(s).toString().toLowerCase():(0,c.$fg)()}};e.$Hp=d,e.$Hp=d=R=pe([ie(0,f.$Yh),ie(1,h.$_j),ie(2,S.$bo),ie(3,g.$ki),ie(4,$.$ip),ie(5,b.$$i)],d)}),define(te[161],ne([0,1,51,97]),function(J,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Jp=void 0;function D(A){return(0,L.$sp)(A,"extension/package.json").then(j=>{try{return JSON.parse(j.toString("utf8"))}catch{throw new Error((0,N.localize)(0,null))}})}e.$Jp=D}),define(te[162],ne([0,1,8,14,20,34,9,4,41,2,31,15,16,17,42,3,11,28,24,51,96,59,18,153,21,27,40,50,160,154,161,134,141,48,12,10,6,32,26,22,23]),function(J,e,L,N,D,A,j,v,u,c,k,I,g,f,S,y,$,h,b,R,d,w,s,r,t,i,n,o,l,P,E,p,O,B,_,ee,oe,se,ue,ce,re){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Pp=e.$Op=e.$Np=e.$Mp=void 0,e.$Mp=(0,ee.$Rh)(t.$do);const q=".vsctmp";let X=class extends r.$tp{constructor(M,F,a,m,z,U,Q,W,le,ae,me,de){super(M,F,me,a,ae,de),this.fb=z,this.gb=U,this.hb=Q,this.ib=le,this.eb=new Map,this.rb=new k.$Bc;const ge=this.B(W.createInstance(P.$Ip));this.bb=this.B(W.createInstance(T,he=>ge.postUninstall(he))),this.cb=this.B(new p.$Kp(de,le,me,this,this.F)),this.db=this.B(W.createInstance(l.$Hp));const fe=this.B(new O.$Lp(this,this.fb,de,U,me,le,a));this.B(fe.onDidChangeExtensionsByAnotherSource(he=>this.qb(he))),this.sb()}getTargetPlatform(){return this.jb||(this.jb=(0,i.$Oo)(this.ib,this.F)),this.jb}async zip(M){this.F.trace("ExtensionManagementService#zip",M.identifier.id);const F=await this.pb(M),a=await(0,R.zip)((0,f.$wg)(this.db.extensionsDownloadDir,(0,h.$fg)()).fsPath,F);return $.URI.file(a)}async unzip(M){return this.F.trace("ExtensionManagementService#unzip",M.toString()),(await this.install(M)).identifier}async getManifest(M){const{location:F,cleanup:a}=await this.lb(M),m=g.$kc(F.fsPath);try{return await(0,E.$Jp)(m)}finally{await a()}}getInstalled(M,F=this.H.defaultProfile.extensionsResource){return this.bb.scanExtensions(M??null,F)}scanAllUserInstalledExtensions(){return this.bb.scanAllUserExtensions(!1)}scanInstalledExtensionAtLocation(M){return this.bb.scanUserExtensionAtLocation(M)}async install(M,F={}){this.F.trace("ExtensionManagementService#install",M.toString());const{location:a,cleanup:m}=await this.lb(M);try{const z=await(0,E.$Jp)(g.$kc(a.fsPath)),U=(0,i.$Io)(z.publisher,z.name);if(z.engines&&z.engines.vscode&&!(0,B.$Vo)(z.engines.vscode,this.G.version,this.G.date))throw new Error(d.localize(0,null,U,this.G.version));const W=(await this.I([{manifest:z,extension:a,options:F}])).find(({identifier:le})=>(0,i.$Do)(le,{id:U}));if(W?.local)return W.local;throw W?.error?W.error:(0,r.$vp)(new Error(`Unknown error while installing extension ${U}`))}finally{await m()}}async installFromLocation(M,F){this.F.trace("ExtensionManagementService#installFromLocation",M.toString());const a=await this.bb.scanUserExtensionAtLocation(M);if(!a)throw new Error(`Cannot find a valid extension from the location ${M.toString()}`);return await this.ub([[a,void 0]],F),this.F.info("Successfully installed extension",a.identifier.id,F.toString()),a}async installExtensionsFromProfile(M,F,a){this.F.trace("ExtensionManagementService#installExtensionsFromProfile",M,F.toString(),a.toString());const m=(await this.bb.scanExtensions(1,F)).filter(z=>M.some(U=>(0,i.$Do)(U,z.identifier)));if(m.length){const z=await Promise.all(m.map(U=>this.bb.scanMetadata(U,F)));await this.ub(m.map((U,Q)=>[U,z[Q]]),a),this.F.info("Successfully installed extensions",m.map(U=>U.identifier.id),a.toString())}return m}async updateMetadata(M,F,a=this.H.defaultProfile.extensionsResource){return this.F.trace("ExtensionManagementService#updateMetadata",M.identifier.id),F.isPreReleaseVersion&&(F.preRelease=!0),F.isMachineScoped===!1&&(F.isMachineScoped=void 0),F.isBuiltin===!1&&(F.isBuiltin=void 0),F.pinned===!1&&(F.pinned=void 0),M=await this.bb.updateMetadata(M,F,a),this.cb.invalidate(a),this.w.fire(M),M}async reinstallFromGallery(M){if(this.F.trace("ExtensionManagementService#reinstallFromGallery",M.identifier.id),!this.z.isEnabled())throw new Error(d.localize(1,null));const F=await this.getTargetPlatform(),[a]=await this.z.getExtensions([{...M.identifier,preRelease:M.preRelease}],{targetPlatform:F,compatible:!0},D.CancellationToken.None);if(!a)throw new Error(d.localize(2,null));await this.bb.setUninstalled(M);try{await this.bb.removeUninstalledExtension(M)}catch(m){throw new Error(d.localize(3,null,(0,A.$Bi)(m)))}return this.installFromGallery(a)}ab(M,F,a,m){return this.bb.copyExtension(M,F,a,m)}copyExtensions(M,F){return this.bb.copyExtensions(M,F)}markAsUninstalled(...M){return this.bb.setUninstalled(...M)}async cleanUp(){this.F.trace("ExtensionManagementService#cleanUp");try{await this.bb.cleanUp()}catch(M){this.F.error(M)}}async download(M,F,a){const{location:m}=await this.db.download(M,F,!a);return m}async lb(M){if(M.scheme===I.Schemas.file)return{location:M,async cleanup(){}};this.F.trace("Downloading extension from",M.toString());const F=(0,f.$wg)(this.db.extensionsDownloadDir,(0,h.$fg)());return await this.hb.download(M,F),this.F.info("Downloaded extension to",F.toString()),{location:F,cleanup:async()=>{try{await this.ib.del(F)}catch(m){this.F.error(m)}}}}Y(){return this.H.defaultProfile.extensionsResource}Z(M,F,a){if($.URI.isUri(F))return new G(M,F,a,this.z,this.bb,this.D,this.H,this.fb,this.gb,this.F);const m=i.$Eo.create(F).toString();let z=this.eb.get(m);return z||(this.eb.set(m,z=new H(M,F,a,this.db,this.bb,this.D,this.H,this.fb,this.gb,this.F)),z.waitUntilTaskIsFinished().finally(()=>this.eb.delete(m))),z}$(M,F){return new Y(M,F.profileLocation,this.gb)}async pb(M){const F=async m=>{let z=await b.Promises.readdir(m);z=z.map(W=>g.$jc(m,W));const U=await Promise.all(z.map(W=>b.Promises.stat(W)));let Q=Promise.resolve([]);return U.forEach((W,le)=>{const ae=z[le];W.isFile()&&(Q=Q.then(me=>[...me,ae])),W.isDirectory()&&(Q=Q.then(me=>F(ae).then(de=>[...me,...de])))}),Q};return(await F(M.location.fsPath)).map(m=>({path:`extension/${g.$lc(M.location.fsPath,m)}`,localPath:m}))}async qb({added:M,removed:F}){if(F){const a=M&&this.D.extUri.isEqual(F.profileLocation,M.profileLocation)?F.extensions.filter(m=>M.extensions.every(z=>!(0,i.$Do)(z,m))):F.extensions;for(const m of a)this.F.info("Extensions removed from another source",m.id,F.profileLocation.toString()),this.u.fire({identifier:m,profileLocation:F.profileLocation})}if(M){const m=(await this.bb.scanExtensions(1,M.profileLocation)).filter(z=>M.extensions.some(U=>(0,i.$Do)(U,z.identifier)));this.s.fire(m.map(z=>(this.F.info("Extensions added from another source",z.identifier.id,M.profileLocation.toString()),{identifier:z.identifier,local:z,profileLocation:M.profileLocation,operation:1})))}}async sb(){this.B(this.bb.onExtract(F=>this.rb.add(F)));const M=await this.ib.resolve(this.fb.userExtensionsLocation);for(const F of M.children??[])F.isDirectory&&this.rb.add(F.resource);this.B(this.ib.watch(this.fb.userExtensionsLocation)),this.B(this.ib.onDidFilesChange(F=>this.tb(F)))}async tb(M){if(!M.affects(this.fb.userExtensionsLocation,1))return;const F=[];for(const a of M.rawAdded){if(this.rb.has(a)||!this.D.extUri.isEqual(this.D.extUri.dirname(a),this.fb.userExtensionsLocation)||this.D.extUri.isEqual(a,this.D.extUri.joinPath(this.fb.userExtensionsLocation,".obsolete"))||this.D.extUri.basename(a).startsWith(".")||!(await this.ib.stat(a)).isDirectory)continue;const m=await this.bb.scanUserExtensionAtLocation(a);m&&m.installedTimestamp===void 0&&(this.rb.add(a),F.push(m))}F.length&&(await this.ub(F.map(a=>[a,void 0]),this.H.defaultProfile.extensionsResource),this.F.info("Added extensions to default profile from external source",F.map(a=>a.identifier.id)))}async ub(M,F){const a=M.map(m=>m[0]);await this.vb(a),await this.gb.addExtensionsToProfile(M,F),this.s.fire(a.map(m=>({local:m,identifier:m.identifier,operation:1,profileLocation:F})))}async vb(M){const F=await this.bb.getUninstalledExtensions();for(const a of M){const m=i.$Eo.create(a);F[m.toString()]&&(this.F.trace("Removing the extension from uninstalled list:",m.id),await this.bb.setInstalled(m),this.F.info("Removed the extension from uninstalled list:",m.id))}}};e.$Np=X,e.$Np=X=pe([ie(0,t.$bo),ie(1,ue.$dl),ie(2,oe.$$i),ie(3,s.$Yh),ie(4,o.$Cp),ie(5,n.$yp),ie(6,w.$Sn),ie(7,ee.$Ph),ie(8,_.$_j),ie(9,se.$qj),ie(10,ce.$Jk),ie(11,re.$Lk)],X);let T=class extends c.$Sc{constructor(M,F,a,m,z,U){super(),this.j=M,this.m=F,this.n=a,this.s=m,this.t=z,this.u=U,this.h=this.B(new v.$Od),this.onExtract=this.h.event,this.c=(0,f.$wg)(this.n.userExtensionsLocation,".obsolete"),this.g=new L.$2g}async cleanUp(){await this.H(),await this.G()}async scanExtensions(M,F){const a={includeInvalid:!0,profileLocation:F};let m=[];return M===null||M===0?m.push(...await this.n.scanAllExtensions({includeInvalid:!0},a,!1)):M===1&&m.push(...await this.n.scanUserExtensions(a)),m=M!==null?m.filter(z=>z.type===M):m,Promise.all(m.map(z=>this.F(z)))}async scanAllUserExtensions(M){const F=await this.n.scanUserExtensions({includeAllVersions:!M,includeInvalid:!0});return Promise.all(F.map(a=>this.F(a)))}async scanUserExtensionAtLocation(M){try{const F=await this.n.scanExistingExtension(M,1,{includeInvalid:!0});if(F)return await this.F(F)}catch(F){this.u.error(F)}return null}async extractUserExtension(M,F,a,m,z){const U=M.toString(),Q=$.URI.file(g.$jc(this.n.userExtensionsLocation.fsPath,`.${(0,h.$fg)()}`)),W=$.URI.file(g.$jc(this.n.userExtensionsLocation.fsPath,U));let le=await this.m.exists(W);if(le&&m){try{await this.y(M.id,W,"removeExisting")}catch{throw new t.$co(d.localize(4,null,W.fsPath,M.id),t.ExtensionManagementErrorCode.Delete)}le=!1}if(!le)try{try{this.u.trace(`Started extracting the extension from ${F} to ${W.fsPath}`),await(0,R.$rp)(F,Q.fsPath,{sourcePath:"extension",overwrite:!0},z),this.u.info(`Extracted extension to ${W}:`,M.id)}catch(ae){let me=t.ExtensionManagementErrorCode.Extract;throw ae instanceof R.$pp&&(ae.type==="CorruptZip"?me=t.ExtensionManagementErrorCode.CorruptZip:ae.type==="Incomplete"&&(me=t.ExtensionManagementErrorCode.IncompleteZip)),new t.$co(ae.message,me)}await this.n.updateMetadata(Q,a);try{this.u.trace(`Started renaming the extension from ${Q.fsPath} to ${W.fsPath}`),await this.C(Q.fsPath,W.fsPath),this.u.info("Renamed to",W.fsPath)}catch(ae){if(ae.code==="ENOTEMPTY")this.u.info("Rename failed because extension was installed by another source. So ignoring renaming.",M.id);else throw this.u.info(`Rename failed because of ${(0,j.$0)(ae)}. Deleted from extracted location`,Q),ae}this.h.fire(W)}catch(ae){try{await this.m.del(Q,{recursive:!0})}catch{}throw ae}return this.D(W,1)}async scanMetadata(M,F){return F?(await this.w(M,F))?.metadata:this.n.scanMetadata(M.location)}async w(M,F){return(await this.s.scanProfileExtensions(F)).find(m=>(0,i.$Do)(m.identifier,M.identifier))}async updateMetadata(M,F,a){return a?await this.s.updateMetadata([[M,F]],a):await this.n.updateMetadata(M.location,F),this.D(M.location,M.type,a)}getUninstalledExtensions(){return this.z()}async setUninstalled(...M){const F=M.map(a=>i.$Eo.create(a));await this.z(a=>F.forEach(m=>{a[m.toString()]=!0,this.u.info("Marked extension as uninstalled",m.toString())}))}async setInstalled(M){await this.z(F=>delete F[M.toString()])}async removeExtension(M,F){if(this.t.extUri.isEqualOrParent(M.location,this.n.userExtensionsLocation))return this.y(M.identifier.id,M.location,F)}async removeUninstalledExtension(M){await this.removeExtension(M,"uninstalled"),await this.z(F=>delete F[i.$Eo.create(M).toString()])}async copyExtension(M,F,a,m){const z=await this.w(M,F),U=await this.w(M,a);return m={...z?.metadata,...m},U?await this.s.updateMetadata([[M,{...U.metadata,...m}]],a):await this.s.addExtensionsToProfile([[M,m]],a),this.D(M.location,M.type,a)}async copyExtensions(M,F){const a=await this.scanExtensions(1,M),m=await Promise.all(a.filter(z=>!z.isApplicationScoped).map(async z=>[z,await this.scanMetadata(z,M)]));await this.s.addExtensionsToProfile(m,F)}async y(M,F,a){this.u.trace(`Deleting ${a} extension from disk`,M,F.fsPath);const m=this.t.extUri.joinPath(this.t.extUri.dirname(F),`${this.t.extUri.basename(F)}.${(0,u.$Ei)((0,h.$fg)()).toString(16)}${q}`);await this.C(F.fsPath,m.fsPath),await this.m.del(m,{recursive:!0}),this.u.info(`Deleted ${a} extension from disk`,M,F.fsPath)}async z(M){return this.g.queue(async()=>{let F;try{F=(await this.m.readFile(this.c,"utf8")).value.toString()}catch(m){if((0,_.$qk)(m)!==1)throw m}let a={};if(F)try{a=JSON.parse(F)}catch{}return M&&(M(a),Object.keys(a).length?await this.m.writeFile(this.c,N.$ce.fromString(JSON.stringify(a))):await this.m.del(this.c)),a})}async C(M,F){try{await b.Promises.rename(M,F,2*60*1e3)}catch(a){throw new t.$co(a.message||d.localize(5,null,M,F),a.code||t.ExtensionManagementErrorCode.Rename)}}async D(M,F,a){if(a){const z=(await this.n.scanUserExtensions({profileLocation:a})).find(U=>this.t.extUri.isEqual(U.location,M));if(z)return this.F(z)}else{const m=await this.n.scanExistingExtension(M,F,{includeInvalid:!0});if(m)return this.F(m)}throw new Error(d.localize(6,null,M.path))}async F(M){const F=await this.m.resolve(M.location);let a,m;return F.children&&(a=F.children.find(({name:z})=>/^readme(\.txt|\.md|)$/i.test(z))?.resource,m=F.children.find(({name:z})=>/^changelog(\.txt|\.md|)$/i.test(z))?.resource),{identifier:M.identifier,type:M.type,isBuiltin:M.isBuiltin||!!M.metadata?.isBuiltin,location:M.location,manifest:M.manifest,targetPlatform:M.targetPlatform,validations:M.validations,isValid:M.isValid,readmeUrl:a,changelogUrl:m,publisherDisplayName:M.metadata?.publisherDisplayName||null,publisherId:M.metadata?.publisherId||null,isApplicationScoped:!!M.metadata?.isApplicationScoped,isMachineScoped:!!M.metadata?.isMachineScoped,isPreReleaseVersion:!!M.metadata?.isPreReleaseVersion,preRelease:!!M.metadata?.preRelease,installedTimestamp:M.metadata?.installedTimestamp,updated:!!M.metadata?.updated,pinned:!!M.metadata?.pinned}}async G(){const M=await this.getUninstalledExtensions();if(Object.keys(M).length===0){this.u.debug("No uninstalled extensions found.");return}this.u.debug("Removing uninstalled extensions:",Object.keys(M));const F=await this.n.scanUserExtensions({includeAllVersions:!0,includeUninstalled:!0,includeInvalid:!0}),a=new Set;for(const z of F)M[i.$Eo.create(z).toString()]||a.add(z.identifier.id.toLowerCase());try{const z=(0,i.$Jo)(F,U=>U.identifier);await L.Promises.settled(z.map(async U=>{const Q=U.sort((W,le)=>S.rcompare(W.manifest.version,le.manifest.version))[0];a.has(Q.identifier.id.toLowerCase())||await this.j(await this.F(Q))}))}catch(z){this.u.error(z)}const m=F.filter(z=>z.metadata&&M[i.$Eo.create(z).toString()]);await Promise.allSettled(m.map(z=>this.removeUninstalledExtension(z)))}async H(){this.u.trace("ExtensionManagementService#removeTempDeleteFolders");let M;try{M=await this.m.resolve(this.n.userExtensionsLocation)}catch(F){(0,_.$qk)(F)!==1&&this.u.error(F);return}if(M?.children)try{await Promise.allSettled(M.children.map(async F=>{if(!(!F.isDirectory||!F.name.endsWith(q))){this.u.trace("Deleting the temporarily deleted folder",F.resource.toString());try{await this.m.del(F.resource,{recursive:!0}),this.u.trace("Deleted the temporarily deleted folder",F.resource.toString())}catch(a){(0,_.$qk)(a)!==1&&this.u.error(a)}}}))}catch{}}};e.$Op=T,e.$Op=T=pe([ie(1,_.$_j),ie(2,o.$Cp),ie(3,n.$yp),ie(4,ce.$Jk),ie(5,oe.$$i)],T);class C extends r.$wp{get profileLocation(){return this.j}get verificationStatus(){return this.k}get operation(){return(0,y.$Gf)(this.options.operation)?this.l:this.options.operation}constructor(M,F,a,m,z,U,Q,W,le){super(),this.identifier=M,this.source=F,this.options=a,this.m=m,this.n=z,this.o=U,this.p=Q,this.q=W,this.s=le,this.j=this.options.profileLocation,this.k=!1,this.l=2}async h(M){const[F,a]=await this.x(M);return this.j=F.isBuiltin||F.isApplicationScoped?this.o.defaultProfile.extensionsResource:this.options.profileLocation,this.n.extUri.isEqual(this.o.defaultProfile.extensionsResource,this.j)&&await this.p.initializeDefaultProfileExtensions(),await this.q.addExtensionsToProfile([[F,a]],this.j),F}async u({zipPath:M,key:F,metadata:a},m,z){let U=await this.v(F);return U||(this.s.trace("Extracting extension...",F.id),U=await this.m.extractUserExtension(F,M,a,m,z),this.s.info("Extracting extension completed.",F.id)),U}async v(M){return await this.w(M)?(this.s.trace("Removing the extension from uninstalled list:",M.id),await this.m.setInstalled(M),this.s.info("Removed the extension from uninstalled list:",M.id),(await this.m.scanAllUserExtensions(!0)).find(m=>i.$Eo.create(m).equals(M))):void 0}async w(M){return!!(await this.m.getUninstalledExtensions())[M.toString()]}}class H extends C{constructor(M,F,a,m,z,U,Q,W,le,ae){super(F.identifier,F,a,z,U,Q,W,le,ae),this.y=F,this.z=m}async x(M){const a=(await this.m.scanExtensions(null,this.options.profileLocation)).find(Q=>(0,i.$Do)(Q.identifier,this.y.identifier));a&&(this.l=3);const m={id:this.y.identifier.uuid,publisherId:this.y.publisherId,publisherDisplayName:this.y.publisherDisplayName,targetPlatform:this.y.properties.targetPlatform,isApplicationScoped:this.options.isApplicationScoped||a?.isApplicationScoped,isMachineScoped:this.options.isMachineScoped||a?.isMachineScoped,isBuiltin:this.options.isBuiltin||a?.isBuiltin,isSystem:a?.type===0?!0:void 0,updated:!!a,isPreReleaseVersion:this.y.properties.isPreReleaseVersion,installedTimestamp:Date.now(),pinned:this.options.installGivenVersion?!0:void 0,preRelease:this.y.properties.isPreReleaseVersion||((0,y.$Ff)(this.options.installPreReleaseVersion)?this.options.installPreReleaseVersion:a?.preRelease)};if(a?.manifest.version===this.y.version)return[await this.m.updateMetadata(a,m),m];const{location:z,verificationStatus:U}=await this.z.download(this.y,this.l,!this.options.donotVerifySignature);try{return this.k=U,this.B(z.fsPath),[await this.u({zipPath:z.fsPath,key:i.$Eo.create(this.y),metadata:m},!1,M),m]}catch(Q){try{await this.z.delete(z)}catch(W){this.s.warn("Error while deleting the downloaded file",z.toString(),(0,j.$0)(W))}throw Q}}async B(M){try{await(0,E.$Jp)(M)}catch(F){throw new t.$co((0,r.$up)(F).message,t.ExtensionManagementErrorCode.Invalid)}}}e.$Pp=H;class G extends C{constructor(M,F,a,m,z,U,Q,W,le,ae){super({id:(0,i.$Io)(M.publisher,M.name)},F,a,z,U,Q,W,le,ae),this.y=M,this.z=F,this.A=m}async h(M){const F=await super.h(M);return this.D(F,M),F}async x(M){const F=new i.$Eo(this.identifier,this.y.version),m=(await this.m.scanExtensions(1,this.options.profileLocation)).find(Q=>(0,i.$Do)(this.identifier,Q.identifier)),z={isApplicationScoped:this.options.isApplicationScoped||m?.isApplicationScoped,isMachineScoped:this.options.isMachineScoped||m?.isMachineScoped,isBuiltin:this.options.isBuiltin||m?.isBuiltin,installedTimestamp:Date.now(),pinned:this.options.installGivenVersion?!0:void 0};if(m)if(this.l=3,F.equals(new i.$Eo(m.identifier,m.manifest.version)))try{await this.m.removeExtension(m,"existing")}catch{throw new Error(d.localize(7,null,this.y.displayName||this.y.name))}else!this.options.profileLocation&&S.gt(m.manifest.version,this.y.version)&&await this.m.setUninstalled(m);else{const Q=await this.v(F);if(Q)try{await this.m.removeExtension(Q,"existing")}catch{throw new Error(d.localize(8,null,this.y.displayName||this.y.name))}}return[await this.u({zipPath:g.$kc(this.z.fsPath),key:F,metadata:z},!0,M),z]}async D(M,F){try{let[a]=await this.A.getExtensions([{id:M.identifier.id,version:M.manifest.version}],F);if(a||([a]=await this.A.getExtensions([{id:M.identifier.id}],F)),a){const m={id:a.identifier.uuid,publisherDisplayName:a.publisherDisplayName,publisherId:a.publisherId,isPreReleaseVersion:a.properties.isPreReleaseVersion,preRelease:a.properties.isPreReleaseVersion||this.options.installPreReleaseVersion};await this.m.updateMetadata(M,m,this.options.profileLocation)}}catch{}}}class Y extends r.$wp{constructor(M,F,a){super(),this.extension=M,this.j=F,this.k=a}async h(M){await this.k.removeExtensionFromProfile(this.extension,this.j)}}}),define(te[163],ne([0,1,137,8,14,9,3,25,18,138,6,44,136,178]),function(J,e,L,N,D,A,j,v,u,c,k,I,g,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$4q=e.$3q=void 0;let S=class extends I.$Xo{constructor(b,R,d,w){super(w),this.m=b,this.n=R,this.r=d,this.s(),this.B(b.onDidChangeConfiguration(s=>{s.affectsConfiguration("http")&&this.s()}))}s(){const b=this.m.getValue("http");this.f=b?.proxy,this.g=!!b?.proxyStrictSSL,this.h=b?.proxyAuthorization}async request(b,R){const{f:d,g:w}=this;let s;try{s=await(0,c.$Ul)(this.m,this.r,this.n.args,process.env)}catch(i){this.j||(this.j=!0,this.r.error("resolving shell environment failed",(0,A.$0)(i)))}const r={...process.env,...s},t=b.agent?b.agent:await(0,g.$2q)(b.url||"",r,{proxyUrl:d,strictSSL:w});return b.agent=t,b.strictSSL=w,this.h&&(b.headers={...b.headers||{},"Proxy-Authorization":this.h}),this.c(b.isChromiumNetwork?"electron":"node",b,()=>$(b,R))}async resolveProxy(b){}};e.$3q=S,e.$3q=S=pe([ie(0,v.$ki),ie(1,u.$Yh),ie(2,k.$$i),ie(3,k.$_i)],S);async function y(h){return((0,L.parse)(h.url).protocol==="https:"?await new Promise((d,w)=>{J(["https"],d,w)}):await new Promise((d,w)=>{J(["http"],d,w)})).request}async function $(h,b){return N.Promises.withAsyncBody(async(R,d)=>{const w=(0,L.parse)(h.url),s=h.getRawRequest?h.getRawRequest(h):await y(h),r={hostname:w.hostname,port:w.port?parseInt(w.port):w.protocol==="https:"?443:80,protocol:w.protocol,path:w.path,method:h.type||"GET",headers:h.headers,agent:h.agent,rejectUnauthorized:(0,j.$Ff)(h.strictSSL)?h.strictSSL:!0};h.user&&h.password&&(r.auth=h.user+":"+h.password);const t=s(r,i=>{const n=(0,j.$Df)(h.followRedirects)?h.followRedirects:3;if(i.statusCode&&i.statusCode>=300&&i.statusCode<400&&n>0&&i.headers.location)$({...h,url:i.headers.location,followRedirects:n-1},b).then(R,d);else{let o=i;!h.isChromiumNetwork&&i.headers["content-encoding"]==="gzip"&&(o=i.pipe((0,f.createGunzip)())),R({res:i,stream:(0,D.$re)(o)})}});t.on("error",d),h.timeout&&t.setTimeout(h.timeout),h.isChromiumNetwork&&t.removeHeader("Content-Length"),h.data&&typeof h.data=="string"&&t.write(h.data),t.end(),b.onCancellationRequested(()=>{t.abort(),d(new A.$5)})})}e.$4q=$}),define(te[179],ne([0,1,33,8,34,9,2,15,16,13,35,11,24,25,133,59,135,18,111,158,21,60,140,40,50,162,156,12,122,124,49,120,63,64,143,6,129,38,130,146,32,44,163,68,69,26,145,39,147,148,22,150,23,159,149,155,126,128,5,151]),function(J,e,L,N,D,A,j,v,u,c,k,I,g,f,S,y,$,h,b,R,d,w,s,r,t,i,n,o,l,P,E,p,O,B,_,ee,oe,se,ue,ce,re,q,X,T,C,H,G,Y,Z,M,F,a,m,z,U,Q,W,le,ae,me){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.main=void 0;class de extends j.$Sc{constructor(he){super(),this.b=he,this.c()}c(){process.once("exit",()=>this.dispose())}async run(){const[he,we]=await this.f();return he.invokeFunction(async be=>{const ke=be.get(ee.$$i),Me=be.get(o.$_j),V=be.get(h.$Yh),K=be.get(m.$Lk);ke.info("CLI main",this.b),this.g(ke),await this.h(V,Me,K,he),await Promise.all(we.map(x=>{(0,N.$Mg)(x.flush(),1e3)}))})}async f(){const he=new O.$Oh,we={_serviceBrand:void 0,...ce.default};he.set(re.$qj,we);const be=new b.$km(this.b,we);he.set(h.$Yh,be),await Promise.all([be.appSettingsHome.with({scheme:v.Schemas.file}).fsPath,be.extensionsPath].map(Ae=>Ae?g.Promises.mkdir(Ae,{recursive:!0}):void 0));const ke=new le.$DN((0,ee.$mj)(be),be.logsHome);he.set(ee.$_i,ke);const Me=this.B(ke.createLogger("cli",{name:(0,ae.localize)(0,null)})),V=[];ke.getLogLevel()===ee.LogLevel.Trace&&V.push(new ee.$gj(ke.getLogLevel()));const K=this.B(new W.$NN(Me,V));he.set(ee.$$i,K);const x=this.B(new l.$Rp(K));he.set(o.$_j,x);const $e=this.B(new P.$eq(K));x.registerProvider(v.Schemas.file,$e);const ye=new a.$Dr(x);he.set(F.$Jk,ye);const Re=new T.$HN(1,be,K,x),Se=new z.$JN(Re,ye,be,x,K);he.set(m.$Lk,Se),x.registerProvider(v.Schemas.vscodeUserData,new me.$J8b(v.Schemas.file,$e,v.Schemas.vscodeUserData,Se,ye,K));const Le=c.$j&&we.win32RegValueName?this.B(new ue.$H8b(K,we.win32RegValueName)):be.policyFile?this.B(new oe.$I8b(be.policyFile,x,K)):new se.$on;he.set(se.$mn,Le);const Ie=this.B(new S.$On(Se.defaultProfile.settingsResource,x,Le,K));he.set(f.$ki,Ie),await Promise.all([Re.init(),Ie.initialize()]);let je;try{je=await(0,U.$l8b)(Re,K)}catch(Ae){Ae.code!=="ENOENT"&&K.error(Ae)}const Ce=await(0,U.$m8b)(Re,K);Se.init(),he.set(F.$Jk,new a.$Dr(x));const Oe=new X.$3q(Ie,be,K,ke);he.set(q.$Wo,Oe),he.set(y.$Sn,new E.$Nh($.$3N,void 0,!0)),he.set(r.$yp,new E.$Nh(Q.$MN,void 0,!0)),he.set(t.$Cp,new E.$Nh(n.$i8b,void 0,!0)),he.set(w.$ip,new E.$Nh(w.$jp,void 0,!0)),he.set(i.$Mp,new E.$Nh(i.$Np,void 0,!0)),he.set(d.$bo,new E.$Nh(R.$hp,void 0,!0)),he.set(B.$Wq,new E.$Nh(_.$Yq,void 0,!1));const Ne=[],ze=(0,Y.$Ao)(we,Ie);if((0,Y.$vo)(we,be)){we.aiConfig&&we.aiConfig.ariaKey&&Ne.push(new Z.$BN(Oe,ze,"monacoworkbench",null,we.aiConfig.ariaKey));const Ae={appenders:Ne,sendErrorTelemetry:!1,commonProperties:(0,C.$lo)((0,L.release)(),(0,L.hostname)(),process.arch,we.commit,we.version,je,Ce,ze),piiPaths:(0,Y.$Bo)(be)};he.set(H.$dl,new E.$Nh(G.$5q,[Ae],!1))}else he.set(H.$dl,Y.$po);return[new p.$hq(he),Ne]}g(he){(0,A.setUnexpectedErrorHandler)(we=>{const be=(0,D.$Bi)(we,!0);be&&he.error(`[uncaught exception in CLI]: ${be}`)}),process.on("uncaughtException",we=>{(0,A.$Z)(we)||(0,A.$1)(we)}),process.on("unhandledRejection",we=>(0,A.$1)(we))}async h(he,we,be,ke){let Me;if(he.args.profile&&(Me=be.profiles.find(K=>K.name===he.args.profile),!Me))throw new Error(`Profile '${he.args.profile}' not found.`);const V=(Me??be.defaultProfile).extensionsResource;if(this.b["list-extensions"])return ke.createInstance(s.$kp,new ee.$gj(ee.LogLevel.Info,!1)).listExtensions(!!this.b["show-versions"],this.b.category,V);if(this.b["install-extension"]||this.b["install-builtin-extension"]){const K={isMachineScoped:!!this.b["do-not-sync"],installPreReleaseVersion:!!this.b["pre-release"],profileLocation:V};return ke.createInstance(s.$kp,new ee.$gj(ee.LogLevel.Info,!1)).installExtensions(this.j(this.b["install-extension"]||[]),this.j(this.b["install-builtin-extension"]||[]),K,!!this.b.force)}else{if(this.b["uninstall-extension"])return ke.createInstance(s.$kp,new ee.$gj(ee.LogLevel.Info,!1)).uninstallExtensions(this.j(this.b["uninstall-extension"]),!!this.b.force,V);if(this.b["locate-extension"])return ke.createInstance(s.$kp,new ee.$gj(ee.LogLevel.Info,!1)).locateExtension(this.b["locate-extension"]);this.b.telemetry&&console.log(await(0,M.$68b)(he.appRoot,he.extensionsPath))}}j(he){return he.map(we=>/\.vsix$/i.test(we)?I.URI.file((0,u.$ic)(we)?we:(0,u.$jc)((0,k.cwd)(),we)):we)}}async function ge(fe){const he=new de(fe);try{await he.run()}finally{he.dispose()}}e.main=ge})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/d037ac076cee195194f93ce6fe2bdfe2969cc82d/core/vs/code/node/cliProcessMain.js.map
