/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var rt=["require","exports","vs/base/common/platform","vs/base/common/strings","vs/base/common/errors","vs/base/common/path","vs/base/common/buffer","vs/base/common/lifecycle","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/core/range","vs/base/common/extpath","vs/base/common/network","vs/base/common/uri","vs/base/common/stream","vs/base/common/symbols","vs/editor/common/core/eolCounter","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model","vs/editor/common/model/textModelSearch","vs/base/common/mime","vs/base/common/resources","vs/base/common/async","vs/base/common/event","vs/base/common/glob","vs/editor/common/core/stringBuilder","vs/editor/common/core/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls","vs/nls!vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/nls!vs/platform/contextkey/common/scanner","vs/platform/contextkey/common/scanner","vs/platform/instantiation/common/instantiation","vs/platform/contextkey/common/contextkey","vs/workbench/contrib/notebook/common/notebookCommon","vs/base/common/lazy","vs/editor/common/core/position","vs/base/common/types","vs/base/common/cancellation","vs/base/common/arrays","vs/base/common/map","vs/base/common/iterator","vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/base/common/diff/diff","vs/base/common/hash"],lt=function(st){for(var t=[],T=0,F=st.length;T<F;T++)t[T]=rt[st[T]];return t};define(rt[13],lt([0,1,4,7]),function(st,t,T,F){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$be=t.$ae=t.$_d=t.$$d=t.$0d=t.$9d=t.$8d=t.$7d=t.$6d=t.$5d=t.$4d=t.$3d=t.$2d=t.$1d=t.$Zd=void 0;function D(n){const u=n;return u?typeof u.read=="function":!1}t.$Zd=D;function P(n){const u=n;return u?[u.on,u.pause,u.resume,u.destroy].every(h=>typeof h=="function"):!1}t.$1d=P;function V(n){const u=n;return u?P(u.stream)&&Array.isArray(u.buffer)&&typeof u.ended=="boolean":!1}t.$2d=V;function G(n,u){return new E(n,u)}t.$3d=G;class E{constructor(u,h){this.e=u,this.f=h,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(u){if(!this.a.destroyed){if(this.a.flowing)this.g(u);else if(this.b.data.push(u),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(h=>this.d.push(h))}}error(u){this.a.destroyed||(this.a.flowing?this.h(u):this.b.error.push(u))}end(u){this.a.destroyed||(typeof u<"u"&&this.write(u),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(u){this.c.data.slice(0).forEach(h=>h(u))}h(u){this.c.error.length===0?(0,T.$1)(u):this.c.error.slice(0).forEach(h=>h(u))}i(){this.c.end.slice(0).forEach(u=>u())}on(u,h){if(!this.a.destroyed)switch(u){case"data":this.c.data.push(h),this.resume();break;case"end":this.c.end.push(h),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(h),this.a.flowing&&this.k();break}}removeListener(u,h){if(this.a.destroyed)return;let b;switch(u){case"data":b=this.c.data;break;case"end":b=this.c.end;break;case"error":b=this.c.error;break}if(b){const I=b.indexOf(h);I>=0&&b.splice(I,1)}}j(){if(this.b.data.length>0){const u=this.e(this.b.data);this.g(u),this.b.data.length=0;const h=[...this.d];this.d.length=0,h.forEach(b=>b())}}k(){if(this.c.error.length>0){for(const u of this.b.error)this.h(u);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function g(n,u){const h=[];let b;for(;(b=n.read())!==null;)h.push(b);return u(h)}t.$4d=g;function p(n,u,h){const b=[];let I;for(;(I=n.read())!==null&&b.length<h;)b.push(I);return I===null&&b.length>0?u(b):{read:()=>{if(b.length>0)return b.shift();if(typeof I<"u"){const O=I;return I=void 0,O}return n.read()}}}t.$5d=p;function R(n,u){return new Promise((h,b)=>{const I=[];m(n,{onData:O=>{u&&I.push(O)},onError:O=>{u?b(O):h(void 0)},onEnd:()=>{h(u?u(I):void 0)}})})}t.$6d=R;function m(n,u,h){n.on("error",b=>{h?.isCancellationRequested||u.onError(b)}),n.on("end",()=>{h?.isCancellationRequested||u.onEnd()}),n.on("data",b=>{h?.isCancellationRequested||u.onData(b)})}t.$7d=m;function k(n,u){return new Promise((h,b)=>{const I=new F.$Rc,O=[],A=N=>{if(O.push(N),O.length>u)return I.dispose(),n.pause(),h({stream:n,buffer:O,ended:!1})},f=N=>(I.dispose(),b(N)),C=()=>(I.dispose(),h({stream:n,buffer:O,ended:!0}));I.add((0,F.$Qc)(()=>n.removeListener("error",f))),n.on("error",f),I.add((0,F.$Qc)(()=>n.removeListener("end",C))),n.on("end",C),I.add((0,F.$Qc)(()=>n.removeListener("data",A))),n.on("data",A)})}t.$8d=k;function $(n,u){const h=G(u);return h.end(n),h}t.$9d=$;function d(){const n=G(()=>{throw new Error("not supported")});return n.end(),n}t.$0d=d;function c(n){let u=!1;return{read:()=>u?null:(u=!0,n)}}t.$$d=c;function o(n,u,h){const b=G(h);return m(n,{onData:I=>b.write(u.data(I)),onError:I=>b.error(u.error?u.error(I):I),onEnd:()=>b.end()}),b}t.$_d=o;function e(n,u,h){let b=!1;return{read:()=>{const I=u.read();return b?I:(b=!0,I!==null?h([n,I]):n)}}}t.$ae=e;function r(n,u,h){let b=!1;const I=G(h);return m(u,{onData:O=>b?I.write(O):(b=!0,I.write(h([n,O]))),onError:O=>I.error(O),onEnd:()=>{b||(b=!0,I.write(n)),I.end()}}),I}t.$be=r}),define(rt[6],lt([0,1,36,13]),function(st,t,T,F){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$we=t.$ve=t.$ue=t.$te=t.$se=t.$re=t.$qe=t.$pe=t.$oe=t.$ne=t.$me=t.$le=t.$ke=t.$je=t.$ie=t.$he=t.$ge=t.$fe=t.$ee=t.$de=t.$ce=void 0;const D=typeof Buffer<"u",P=new T.$V(()=>new Uint8Array(256));let V,G;class E{static alloc(w){return D?new E(Buffer.allocUnsafe(w)):new E(new Uint8Array(w))}static wrap(w){return D&&!Buffer.isBuffer(w)&&(w=Buffer.from(w.buffer,w.byteOffset,w.byteLength)),new E(w)}static fromString(w,z){return!(z?.dontUseNodeBuffer||!1)&&D?new E(Buffer.from(w)):(V||(V=new TextEncoder),new E(V.encode(w)))}static fromByteArray(w){const z=E.alloc(w.length);for(let Z=0,_=w.length;Z<_;Z++)z.buffer[Z]=w[Z];return z}static concat(w,z){if(typeof z>"u"){z=0;for(let x=0,et=w.length;x<et;x++)z+=w[x].byteLength}const Z=E.alloc(z);let _=0;for(let x=0,et=w.length;x<et;x++){const tt=w[x];Z.set(tt,_),_+=tt.byteLength}return Z}constructor(w){this.buffer=w,this.byteLength=this.buffer.byteLength}clone(){const w=E.alloc(this.byteLength);return w.set(this),w}toString(){return D?this.buffer.toString():(G||(G=new TextDecoder),G.decode(this.buffer))}slice(w,z){return new E(this.buffer.subarray(w,z))}set(w,z){if(w instanceof E)this.buffer.set(w.buffer,z);else if(w instanceof Uint8Array)this.buffer.set(w,z);else if(w instanceof ArrayBuffer)this.buffer.set(new Uint8Array(w),z);else if(ArrayBuffer.isView(w))this.buffer.set(new Uint8Array(w.buffer,w.byteOffset,w.byteLength),z);else throw new Error("Unknown argument 'array'")}readUInt32BE(w){return m(this.buffer,w)}writeUInt32BE(w,z){k(this.buffer,w,z)}readUInt32LE(w){return $(this.buffer,w)}writeUInt32LE(w,z){d(this.buffer,w,z)}readUInt8(w){return c(this.buffer,w)}writeUInt8(w,z){o(this.buffer,w,z)}indexOf(w,z=0){return g(this.buffer,w instanceof E?w.buffer:w,z)}}t.$ce=E;function g(B,w,z=0){const Z=w.byteLength,_=B.byteLength;if(Z===0)return 0;if(Z===1)return B.indexOf(w[0]);if(Z>_-z)return-1;const x=P.value;x.fill(w.length);for(let X=0;X<w.length;X++)x[w[X]]=w.length-X-1;let et=z+w.length-1,tt=et,y=-1;for(;et<_;)if(B[et]===w[tt]){if(tt===0){y=et;break}et--,tt--}else et+=Math.max(w.length-tt,x[B[et]]),tt=w.length-1;return y}t.$de=g;function p(B,w){return B[w+0]<<0>>>0|B[w+1]<<8>>>0}t.$ee=p;function R(B,w,z){B[z+0]=w&255,w=w>>>8,B[z+1]=w&255}t.$fe=R;function m(B,w){return B[w]*2**24+B[w+1]*2**16+B[w+2]*2**8+B[w+3]}t.$ge=m;function k(B,w,z){B[z+3]=w,w=w>>>8,B[z+2]=w,w=w>>>8,B[z+1]=w,w=w>>>8,B[z]=w}t.$he=k;function $(B,w){return B[w+0]<<0>>>0|B[w+1]<<8>>>0|B[w+2]<<16>>>0|B[w+3]<<24>>>0}t.$ie=$;function d(B,w,z){B[z+0]=w&255,w=w>>>8,B[z+1]=w&255,w=w>>>8,B[z+2]=w&255,w=w>>>8,B[z+3]=w&255}t.$je=d;function c(B,w){return B[w]}t.$ke=c;function o(B,w,z){B[z]=w}t.$le=o;function e(B){return F.$4d(B,w=>E.concat(w))}t.$me=e;function r(B){return F.$$d(B)}t.$ne=r;function n(B){return F.$6d(B,w=>E.concat(w))}t.$oe=n;async function u(B){return B.ended?E.concat(B.buffer):E.concat([...B.buffer,await n(B.stream)])}t.$pe=u;function h(B){return F.$9d(B,w=>E.concat(w))}t.$qe=h;function b(B){return F.$_d(B,{data:w=>typeof w=="string"?E.fromString(w):E.wrap(w)},w=>E.concat(w))}t.$re=b;function I(B){return F.$3d(w=>E.concat(w),B)}t.$se=I;function O(B,w){return F.$ae(B,w,z=>E.concat(z))}t.$te=O;function A(B,w){return F.$be(B,w,z=>E.concat(z))}t.$ue=A;function f(B){let w=0,z=0,Z=0;const _=new Uint8Array(Math.floor(B.length/4*3)),x=tt=>{switch(z){case 3:_[Z++]=w|tt,z=0;break;case 2:_[Z++]=w|tt>>>2,w=tt<<6,z=3;break;case 1:_[Z++]=w|tt>>>4,w=tt<<4,z=2;break;default:w=tt<<2,z=1}};for(let tt=0;tt<B.length;tt++){const y=B.charCodeAt(tt);if(y>=65&&y<=90)x(y-65);else if(y>=97&&y<=122)x(y-97+26);else if(y>=48&&y<=57)x(y-48+52);else if(y===43||y===45)x(62);else if(y===47||y===95)x(63);else{if(y===61)break;throw new SyntaxError(`Unexpected base64 character ${B[tt]}`)}}const et=Z;for(;z>0;)x(0);return E.wrap(_).slice(0,et)}t.$ve=f;const C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function U({buffer:B},w=!0,z=!1){const Z=z?N:C;let _="";const x=B.byteLength%3;let et=0;for(;et<B.byteLength-x;et+=3){const tt=B[et+0],y=B[et+1],X=B[et+2];_+=Z[tt>>>2],_+=Z[(tt<<4|y>>>4)&63],_+=Z[(y<<2|X>>>6)&63],_+=Z[X&63]}if(x===1){const tt=B[et+0];_+=Z[tt>>>2],_+=Z[tt<<4&63],w&&(_+="==")}else if(x===2){const tt=B[et+0],y=B[et+1];_+=Z[tt>>>2],_+=Z[(tt<<4|y>>>4)&63],_+=Z[y<<2&63],w&&(_+="=")}return _}t.$we=U}),define(rt[14],lt([0,1]),function(st,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Ld=void 0,t.$Ld=Symbol("MicrotaskDelay")}),define(rt[15],lt([0,1]),function(st,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$0s=t.StringEOL=void 0;var T;(function(D){D[D.Unknown=0]="Unknown",D[D.Invalid=3]="Invalid",D[D.LF=1]="LF",D[D.CRLF=2]="CRLF"})(T||(t.StringEOL=T={}));function F(D){let P=0,V=0,G=0,E=0;for(let g=0,p=D.length;g<p;g++){const R=D.charCodeAt(g);R===13?(P===0&&(V=g),P++,g+1<p&&D.charCodeAt(g+1)===10?(E|=2,g++):E|=3,G=g+1):R===10&&(E|=1,P===0&&(V=g),P++,G=g+1)}return P===0&&(V=D.length),[P,V,D.length-G,E]}t.$0s=F}),define(rt[16],lt([0,1]),function(st,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$xB=t.$wB=t.$vB=t.$uB=t.$tB=t.$sB=t.$rB=t.$qB=t.$pB=t.NodeColor=t.$oB=void 0;class T{constructor(c,o){this.piece=c,this.color=o,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==t.$pB)return D(this.right);let c=this;for(;c.parent!==t.$pB&&c.parent.left!==c;)c=c.parent;return c.parent===t.$pB?t.$pB:c.parent}prev(){if(this.left!==t.$pB)return P(this.left);let c=this;for(;c.parent!==t.$pB&&c.parent.right!==c;)c=c.parent;return c.parent===t.$pB?t.$pB:c.parent}detach(){this.parent=null,this.left=null,this.right=null}}t.$oB=T;var F;(function(d){d[d.Black=0]="Black",d[d.Red=1]="Red"})(F||(t.NodeColor=F={})),t.$pB=new T(null,0),t.$pB.parent=t.$pB,t.$pB.left=t.$pB,t.$pB.right=t.$pB,t.$pB.color=0;function D(d){for(;d.left!==t.$pB;)d=d.left;return d}t.$qB=D;function P(d){for(;d.right!==t.$pB;)d=d.right;return d}t.$rB=P;function V(d){return d===t.$pB?0:d.size_left+d.piece.length+V(d.right)}function G(d){return d===t.$pB?0:d.lf_left+d.piece.lineFeedCnt+G(d.right)}function E(){t.$pB.parent=t.$pB}function g(d,c){const o=c.right;o.size_left+=c.size_left+(c.piece?c.piece.length:0),o.lf_left+=c.lf_left+(c.piece?c.piece.lineFeedCnt:0),c.right=o.left,o.left!==t.$pB&&(o.left.parent=c),o.parent=c.parent,c.parent===t.$pB?d.root=o:c.parent.left===c?c.parent.left=o:c.parent.right=o,o.left=c,c.parent=o}t.$sB=g;function p(d,c){const o=c.left;c.left=o.right,o.right!==t.$pB&&(o.right.parent=c),o.parent=c.parent,c.size_left-=o.size_left+(o.piece?o.piece.length:0),c.lf_left-=o.lf_left+(o.piece?o.piece.lineFeedCnt:0),c.parent===t.$pB?d.root=o:c===c.parent.right?c.parent.right=o:c.parent.left=o,o.right=c,c.parent=o}t.$tB=p;function R(d,c){let o,e;if(c.left===t.$pB?(e=c,o=e.right):c.right===t.$pB?(e=c,o=e.left):(e=D(c.right),o=e.right),e===d.root){d.root=o,o.color=0,c.detach(),E(),d.root.parent=t.$pB;return}const r=e.color===1;if(e===e.parent.left?e.parent.left=o:e.parent.right=o,e===c?(o.parent=e.parent,$(d,o)):(e.parent===c?o.parent=e:o.parent=e.parent,$(d,o),e.left=c.left,e.right=c.right,e.parent=c.parent,e.color=c.color,c===d.root?d.root=e:c===c.parent.left?c.parent.left=e:c.parent.right=e,e.left!==t.$pB&&(e.left.parent=e),e.right!==t.$pB&&(e.right.parent=e),e.size_left=c.size_left,e.lf_left=c.lf_left,$(d,e)),c.detach(),o.parent.left===o){const u=V(o),h=G(o);if(u!==o.parent.size_left||h!==o.parent.lf_left){const b=u-o.parent.size_left,I=h-o.parent.lf_left;o.parent.size_left=u,o.parent.lf_left=h,k(d,o.parent,b,I)}}if($(d,o.parent),r){E();return}let n;for(;o!==d.root&&o.color===0;)o===o.parent.left?(n=o.parent.right,n.color===1&&(n.color=0,o.parent.color=1,g(d,o.parent),n=o.parent.right),n.left.color===0&&n.right.color===0?(n.color=1,o=o.parent):(n.right.color===0&&(n.left.color=0,n.color=1,p(d,n),n=o.parent.right),n.color=o.parent.color,o.parent.color=0,n.right.color=0,g(d,o.parent),o=d.root)):(n=o.parent.left,n.color===1&&(n.color=0,o.parent.color=1,p(d,o.parent),n=o.parent.left),n.left.color===0&&n.right.color===0?(n.color=1,o=o.parent):(n.left.color===0&&(n.right.color=0,n.color=1,g(d,n),n=o.parent.left),n.color=o.parent.color,o.parent.color=0,n.left.color=0,p(d,o.parent),o=d.root));o.color=0,E()}t.$uB=R;function m(d,c){for($(d,c);c!==d.root&&c.parent.color===1;)if(c.parent===c.parent.parent.left){const o=c.parent.parent.right;o.color===1?(c.parent.color=0,o.color=0,c.parent.parent.color=1,c=c.parent.parent):(c===c.parent.right&&(c=c.parent,g(d,c)),c.parent.color=0,c.parent.parent.color=1,p(d,c.parent.parent))}else{const o=c.parent.parent.left;o.color===1?(c.parent.color=0,o.color=0,c.parent.parent.color=1,c=c.parent.parent):(c===c.parent.left&&(c=c.parent,p(d,c)),c.parent.color=0,c.parent.parent.color=1,g(d,c.parent.parent))}d.root.color=0}t.$vB=m;function k(d,c,o,e){for(;c!==d.root&&c!==t.$pB;)c.parent.left===c&&(c.parent.size_left+=o,c.parent.lf_left+=e),c=c.parent}t.$wB=k;function $(d,c){let o=0,e=0;if(c!==d.root){for(;c!==d.root&&c===c.parent.right;)c=c.parent;if(c!==d.root)for(c=c.parent,o=V(c.left)-c.size_left,e=G(c.left)-c.lf_left,c.size_left+=o,c.lf_left+=e;c!==d.root&&(o!==0||e!==0);)c.parent.left===c&&(c.parent.size_left+=o,c.parent.lf_left+=e),c=c.parent}}t.$xB=$}),define(rt[8],lt([0,1,37,9,17,16,18]),function(st,t,T,F,D,P,V){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$IB=t.$HB=t.$GB=t.$FB=t.$EB=void 0;const G=65535;function E(o){let e;return o[o.length-1]<65536?e=new Uint16Array(o.length):e=new Uint32Array(o.length),e.set(o,0),e}class g{constructor(e,r,n,u,h){this.lineStarts=e,this.cr=r,this.lf=n,this.crlf=u,this.isBasicASCII=h}}function p(o,e=!0){const r=[0];let n=1;for(let u=0,h=o.length;u<h;u++){const b=o.charCodeAt(u);b===13?u+1<h&&o.charCodeAt(u+1)===10?(r[n++]=u+2,u++):r[n++]=u+1:b===10&&(r[n++]=u+1)}return e?E(r):r}t.$EB=p;function R(o,e){o.length=0,o[0]=0;let r=1,n=0,u=0,h=0,b=!0;for(let O=0,A=e.length;O<A;O++){const f=e.charCodeAt(O);f===13?O+1<A&&e.charCodeAt(O+1)===10?(h++,o[r++]=O+2,O++):(n++,o[r++]=O+1):f===10?(u++,o[r++]=O+1):b&&f!==9&&(f<32||f>126)&&(b=!1)}const I=new g(E(o),n,u,h,b);return o.length=0,I}t.$FB=R;class m{constructor(e,r,n,u,h){this.bufferIndex=e,this.start=r,this.end=n,this.lineFeedCnt=u,this.length=h}}t.$GB=m;class k{constructor(e,r){this.buffer=e,this.lineStarts=r}}t.$HB=k;class ${constructor(e,r){this.a=[],this.c=e,this.d=r,this.b=0,e.root!==P.$pB&&e.iterate(e.root,n=>(n!==P.$pB&&this.a.push(n.piece),!0))}read(){return this.a.length===0?this.b===0?(this.b++,this.d):null:this.b>this.a.length-1?null:this.b===0?this.d+this.c.getPieceContent(this.a[this.b++]):this.c.getPieceContent(this.a[this.b++])}}class d{constructor(e){this.a=e,this.b=[]}get(e){for(let r=this.b.length-1;r>=0;r--){const n=this.b[r];if(n.nodeStartOffset<=e&&n.nodeStartOffset+n.node.piece.length>=e)return n}return null}get2(e){for(let r=this.b.length-1;r>=0;r--){const n=this.b[r];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<e&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=e)return n}return null}set(e){this.b.length>=this.a&&this.b.shift(),this.b.push(e)}validate(e){let r=!1;const n=this.b;for(let u=0;u<n.length;u++){const h=n[u];if(h.node.parent===null||h.nodeStartOffset>=e){n[u]=null,r=!0;continue}}if(r){const u=[];for(const h of n)h!==null&&u.push(h);this.b=u}}}class c{constructor(e,r,n){this.create(e,r,n)}create(e,r,n){this.a=[new k("",[0])],this.g={line:0,column:0},this.root=P.$pB,this.b=1,this.c=0,this.d=r,this.e=r.length,this.f=n;let u=null;for(let h=0,b=e.length;h<b;h++)if(e[h].buffer.length>0){e[h].lineStarts||(e[h].lineStarts=p(e[h].buffer));const I=new m(h+1,{line:0,column:0},{line:e[h].lineStarts.length-1,column:e[h].buffer.length-e[h].lineStarts[e[h].lineStarts.length-1]},e[h].lineStarts.length-1,e[h].buffer.length);this.a.push(e[h]),u=this.S(u,I)}this.h=new d(1),this.j={lineNumber:0,value:""},this.y()}normalizeEOL(e){const r=G,n=r-Math.floor(r/3),u=n*2;let h="",b=0;const I=[];if(this.iterate(this.root,O=>{const A=this.R(O),f=A.length;if(b<=n||b+f<u)return h+=A,b+=f,!0;const C=h.replace(/\r\n|\r|\n/g,e);return I.push(new k(C,p(C))),h=A,b=f,!0}),b>0){const O=h.replace(/\r\n|\r|\n/g,e);I.push(new k(O,p(O)))}this.create(I,e,!0)}getEOL(){return this.d}setEOL(e){this.d=e,this.e=this.d.length,this.normalizeEOL(e)}createSnapshot(e){return new $(this,e)}equal(e){if(this.getLength()!==e.getLength()||this.getLineCount()!==e.getLineCount())return!1;let r=0;return this.iterate(this.root,u=>{if(u===P.$pB)return!0;const h=this.R(u),b=h.length,I=e.G(r),O=e.G(r+b),A=e.getValueInRange2(I,O);return r+=b,h===A})}getOffsetAt(e,r){let n=0,u=this.root;for(;u!==P.$pB;)if(u.left!==P.$pB&&u.lf_left+1>=e)u=u.left;else if(u.lf_left+u.piece.lineFeedCnt+1>=e){n+=u.size_left;const h=this.B(u,e-u.lf_left-2);return n+=h+r-1}else e-=u.lf_left+u.piece.lineFeedCnt,n+=u.size_left+u.piece.length,u=u.right;return n}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let r=this.root,n=0;const u=e;for(;r!==P.$pB;)if(r.size_left!==0&&r.size_left>=e)r=r.left;else if(r.size_left+r.piece.length>=e){const h=this.A(r,e-r.size_left);if(n+=r.lf_left+h.index,h.index===0){const b=this.getOffsetAt(n+1,1),I=u-b;return new T.$ws(n+1,I+1)}return new T.$ws(n+1,h.remainder+1)}else if(e-=r.size_left+r.piece.length,n+=r.lf_left+r.piece.lineFeedCnt,r.right===P.$pB){const h=this.getOffsetAt(n+1,1),b=u-e-h;return new T.$ws(n+1,b+1)}else r=r.right;return new T.$ws(1,1)}getValueInRange(e,r){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";const n=this.H(e.startLineNumber,e.startColumn),u=this.H(e.endLineNumber,e.endColumn),h=this.getValueInRange2(n,u);return r?r!==this.d||!this.f?h.replace(/\r\n|\r|\n/g,r):r===this.getEOL()&&this.f?h:h.replace(/\r\n|\r|\n/g,r):h}getValueInRange2(e,r){if(e.node===r.node){const I=e.node,O=this.a[I.piece.bufferIndex].buffer,A=this.u(I.piece.bufferIndex,I.piece.start);return O.substring(A+e.remainder,A+r.remainder)}let n=e.node;const u=this.a[n.piece.bufferIndex].buffer,h=this.u(n.piece.bufferIndex,n.piece.start);let b=u.substring(h+e.remainder,h+n.piece.length);for(n=n.next();n!==P.$pB;){const I=this.a[n.piece.bufferIndex].buffer,O=this.u(n.piece.bufferIndex,n.piece.start);if(n===r.node){b+=I.substring(O,O+r.remainder);break}else b+=I.substr(O,n.piece.length);n=n.next()}return b}getLinesContent(){const e=[];let r=0,n="",u=!1;return this.iterate(this.root,h=>{if(h===P.$pB)return!0;const b=h.piece;let I=b.length;if(I===0)return!0;const O=this.a[b.bufferIndex].buffer,A=this.a[b.bufferIndex].lineStarts,f=b.start.line,C=b.end.line;let N=A[f]+b.start.column;if(u&&(O.charCodeAt(N)===10&&(N++,I--),e[r++]=n,n="",u=!1,I===0))return!0;if(f===C)return!this.f&&O.charCodeAt(N+I-1)===13?(u=!0,n+=O.substr(N,I-1)):n+=O.substr(N,I),!0;n+=this.f?O.substring(N,Math.max(N,A[f+1]-this.e)):O.substring(N,A[f+1]).replace(/(\r\n|\r|\n)$/,""),e[r++]=n;for(let U=f+1;U<C;U++)n=this.f?O.substring(A[U],A[U+1]-this.e):O.substring(A[U],A[U+1]).replace(/(\r\n|\r|\n)$/,""),e[r++]=n;return!this.f&&O.charCodeAt(A[C]+b.end.column-1)===13?(u=!0,b.end.column===0?r--:n=O.substr(A[C],b.end.column-1)):n=O.substr(A[C],b.end.column),!0}),u&&(e[r++]=n,n=""),e[r++]=n,e}getLength(){return this.c}getLineCount(){return this.b}getLineContent(e){return this.j.lineNumber===e?this.j.value:(this.j.lineNumber=e,e===this.b?this.j.value=this.getLineRawContent(e):this.f?this.j.value=this.getLineRawContent(e,this.e):this.j.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this.j.value)}l(e){if(e.remainder===e.node.piece.length){const r=e.node.next();if(!r)return 0;const n=this.a[r.piece.bufferIndex],u=this.u(r.piece.bufferIndex,r.piece.start);return n.buffer.charCodeAt(u)}else{const r=this.a[e.node.piece.bufferIndex],u=this.u(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return r.buffer.charCodeAt(u)}}getLineCharCode(e,r){const n=this.H(e,r+1);return this.l(n)}getLineLength(e){if(e===this.getLineCount()){const r=this.getOffsetAt(e,1);return this.getLength()-r}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this.e}getCharCode(e){const r=this.G(e);return this.l(r)}findMatchesInNode(e,r,n,u,h,b,I,O,A,f,C){const N=this.a[e.piece.bufferIndex],U=this.u(e.piece.bufferIndex,e.piece.start),B=this.u(e.piece.bufferIndex,h),w=this.u(e.piece.bufferIndex,b);let z;const Z={line:0,column:0};let _,x;r._wordSeparators?(_=N.buffer.substring(B,w),x=et=>et+B,r.reset(0)):(_=N.buffer,x=et=>et,r.reset(B));do if(z=r.next(_),z){if(x(z.index)>=w)return f;this.s(e,x(z.index)-U,Z);const et=this.t(e.piece.bufferIndex,h,Z),tt=Z.line===h.line?Z.column-h.column+u:Z.column+1,y=tt+z[0].length;if(C[f++]=(0,V.$AB)(new F.$xs(n+et,tt,n+et,y),z,O),x(z.index)+z[0].length>=w||f>=A)return f}while(z);return f}findMatchesLineByLine(e,r,n,u){const h=[];let b=0;const I=new V.$DB(r.wordSeparators,r.regex);let O=this.H(e.startLineNumber,e.startColumn);if(O===null)return[];const A=this.H(e.endLineNumber,e.endColumn);if(A===null)return[];let f=this.s(O.node,O.remainder);const C=this.s(A.node,A.remainder);if(O.node===A.node)return this.findMatchesInNode(O.node,I,e.startLineNumber,e.startColumn,f,C,r,n,u,b,h),h;let N=e.startLineNumber,U=O.node;for(;U!==A.node;){const w=this.t(U.piece.bufferIndex,f,U.piece.end);if(w>=1){const Z=this.a[U.piece.bufferIndex].lineStarts,_=this.u(U.piece.bufferIndex,U.piece.start),x=Z[f.line+w],et=N===e.startLineNumber?e.startColumn:1;if(b=this.findMatchesInNode(U,I,N,et,f,this.s(U,x-_),r,n,u,b,h),b>=u)return h;N+=w}const z=N===e.startLineNumber?e.startColumn-1:0;if(N===e.endLineNumber){const Z=this.getLineContent(N).substring(z,e.endColumn-1);return b=this.n(r,I,Z,e.endLineNumber,z,b,h,n,u),h}if(b=this.n(r,I,this.getLineContent(N).substr(z),N,z,b,h,n,u),b>=u)return h;N++,O=this.H(N,1),U=O.node,f=this.s(O.node,O.remainder)}if(N===e.endLineNumber){const w=N===e.startLineNumber?e.startColumn-1:0,z=this.getLineContent(N).substring(w,e.endColumn-1);return b=this.n(r,I,z,e.endLineNumber,w,b,h,n,u),h}const B=N===e.startLineNumber?e.startColumn:1;return b=this.findMatchesInNode(A.node,I,N,B,f,C,r,n,u,b,h),h}n(e,r,n,u,h,b,I,O,A){const f=e.wordSeparators;if(!O&&e.simpleSearch){const N=e.simpleSearch,U=N.length,B=n.length;let w=-U;for(;(w=n.indexOf(N,w+U))!==-1;)if((!f||(0,V.$CB)(f,n,B,w,U))&&(I[b++]=new D.$Ou(new F.$xs(u,w+1+h,u,w+1+U+h),null),b>=A))return b;return b}let C;r.reset(0);do if(C=r.next(n),C&&(I[b++]=(0,V.$AB)(new F.$xs(u,C.index+1+h,u,C.index+1+C[0].length+h),C,O),b>=A))return b;while(C);return b}insert(e,r,n=!1){if(this.f=this.f&&n,this.j.lineNumber=0,this.j.value="",this.root!==P.$pB){const{node:u,remainder:h,nodeStartOffset:b}=this.G(e),I=u.piece,O=I.bufferIndex,A=this.s(u,h);if(u.piece.bufferIndex===0&&I.end.line===this.g.line&&I.end.column===this.g.column&&b+I.length===e&&r.length<G){this.F(u,r),this.y();return}if(b===e)this.o(r,u),this.h.validate(e);else if(b+u.piece.length>e){const f=[];let C=new m(I.bufferIndex,A,I.end,this.t(I.bufferIndex,A,I.end),this.u(O,I.end)-this.u(O,A));if(this.K()&&this.M(r)&&this.I(u,h)===10){const w={line:C.start.line+1,column:0};C=new m(C.bufferIndex,w,C.end,this.t(C.bufferIndex,w,C.end),C.length-1),r+=`
`}if(this.K()&&this.L(r))if(this.I(u,h-1)===13){const w=this.s(u,h-1);this.C(u,w),r="\r"+r,u.piece.length===0&&f.push(u)}else this.C(u,A);else this.C(u,A);const N=this.w(r);C.length>0&&this.S(u,C);let U=u;for(let B=0;B<N.length;B++)U=this.S(U,N[B]);this.v(f)}else this.q(r,u)}else{const u=this.w(r);let h=this.T(null,u[0]);for(let b=1;b<u.length;b++)h=this.S(h,u[b])}this.y()}delete(e,r){if(this.j.lineNumber=0,this.j.value="",r<=0||this.root===P.$pB)return;const n=this.G(e),u=this.G(e+r),h=n.node,b=u.node;if(h===b){const N=this.s(h,n.remainder),U=this.s(h,u.remainder);if(n.nodeStartOffset===e){if(r===h.piece.length){const B=h.next();(0,P.$uB)(this,h),this.N(B),this.y();return}this.D(h,U),this.h.validate(e),this.N(h),this.y();return}if(n.nodeStartOffset+h.piece.length===e+r){this.C(h,N),this.O(h),this.y();return}this.E(h,N,U),this.y();return}const I=[],O=this.s(h,n.remainder);this.C(h,O),this.h.validate(e),h.piece.length===0&&I.push(h);const A=this.s(b,u.remainder);this.D(b,A),b.piece.length===0&&I.push(b);const f=h.next();for(let N=f;N!==P.$pB&&N!==b;N=N.next())I.push(N);const C=h.piece.length===0?h.prev():h;this.v(I),this.O(C),this.y()}o(e,r){const n=[];if(this.K()&&this.M(e)&&this.L(r)){const b=r.piece,I={line:b.start.line+1,column:0},O=new m(b.bufferIndex,I,b.end,this.t(b.bufferIndex,I,b.end),b.length-1);r.piece=O,e+=`
`,(0,P.$wB)(this,r,-1,-1),r.piece.length===0&&n.push(r)}const u=this.w(e);let h=this.T(r,u[u.length-1]);for(let b=u.length-2;b>=0;b--)h=this.T(h,u[b]);this.N(h),this.v(n)}q(e,r){this.Q(e,r)&&(e+=`
`);const n=this.w(e),u=this.S(r,n[0]);let h=u;for(let b=1;b<n.length;b++)h=this.S(h,n[b]);this.N(u)}s(e,r,n){const u=e.piece,h=e.piece.bufferIndex,b=this.a[h].lineStarts,O=b[u.start.line]+u.start.column+r;let A=u.start.line,f=u.end.line,C=0,N=0,U=0;for(;A<=f&&(C=A+(f-A)/2|0,U=b[C],C!==f);)if(N=b[C+1],O<U)f=C-1;else if(O>=N)A=C+1;else break;return n?(n.line=C,n.column=O-U,null):{line:C,column:O-U}}t(e,r,n){if(n.column===0)return n.line-r.line;const u=this.a[e].lineStarts;if(n.line===u.length-1)return n.line-r.line;const h=u[n.line+1],b=u[n.line]+n.column;if(h>b+1)return n.line-r.line;const I=b-1;return this.a[e].buffer.charCodeAt(I)===13?n.line-r.line+1:n.line-r.line}u(e,r){return this.a[e].lineStarts[r.line]+r.column}v(e){for(let r=0;r<e.length;r++)(0,P.$uB)(this,e[r])}w(e){if(e.length>G){const f=[];for(;e.length>G;){const N=e.charCodeAt(G-1);let U;N===13||N>=55296&&N<=56319?(U=e.substring(0,G-1),e=e.substring(G-1)):(U=e.substring(0,G),e=e.substring(G));const B=p(U);f.push(new m(this.a.length,{line:0,column:0},{line:B.length-1,column:U.length-B[B.length-1]},B.length-1,U.length)),this.a.push(new k(U,B))}const C=p(e);return f.push(new m(this.a.length,{line:0,column:0},{line:C.length-1,column:e.length-C[C.length-1]},C.length-1,e.length)),this.a.push(new k(e,C)),f}let r=this.a[0].buffer.length;const n=p(e,!1);let u=this.g;if(this.a[0].lineStarts[this.a[0].lineStarts.length-1]===r&&r!==0&&this.L(e)&&this.M(this.a[0].buffer)){this.g={line:this.g.line,column:this.g.column+1},u=this.g;for(let f=0;f<n.length;f++)n[f]+=r+1;this.a[0].lineStarts=this.a[0].lineStarts.concat(n.slice(1)),this.a[0].buffer+="_"+e,r+=1}else{if(r!==0)for(let f=0;f<n.length;f++)n[f]+=r;this.a[0].lineStarts=this.a[0].lineStarts.concat(n.slice(1)),this.a[0].buffer+=e}const h=this.a[0].buffer.length,b=this.a[0].lineStarts.length-1,I=h-this.a[0].lineStarts[b],O={line:b,column:I},A=new m(0,u,O,this.t(0,u,O),h-r);return this.g=O,[A]}getLinesRawContent(){return this.U(this.root)}getLineRawContent(e,r=0){let n=this.root,u="";const h=this.h.get2(e);if(h){n=h.node;const b=this.B(n,e-h.nodeStartLineNumber-1),I=this.a[n.piece.bufferIndex].buffer,O=this.u(n.piece.bufferIndex,n.piece.start);if(h.nodeStartLineNumber+n.piece.lineFeedCnt===e)u=I.substring(O+b,O+n.piece.length);else{const A=this.B(n,e-h.nodeStartLineNumber);return I.substring(O+b,O+A-r)}}else{let b=0;const I=e;for(;n!==P.$pB;)if(n.left!==P.$pB&&n.lf_left>=e-1)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt>e-1){const O=this.B(n,e-n.lf_left-2),A=this.B(n,e-n.lf_left-1),f=this.a[n.piece.bufferIndex].buffer,C=this.u(n.piece.bufferIndex,n.piece.start);return b+=n.size_left,this.h.set({node:n,nodeStartOffset:b,nodeStartLineNumber:I-(e-1-n.lf_left)}),f.substring(C+O,C+A-r)}else if(n.lf_left+n.piece.lineFeedCnt===e-1){const O=this.B(n,e-n.lf_left-2),A=this.a[n.piece.bufferIndex].buffer,f=this.u(n.piece.bufferIndex,n.piece.start);u=A.substring(f+O,f+n.piece.length);break}else e-=n.lf_left+n.piece.lineFeedCnt,b+=n.size_left+n.piece.length,n=n.right}for(n=n.next();n!==P.$pB;){const b=this.a[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){const I=this.B(n,0),O=this.u(n.piece.bufferIndex,n.piece.start);return u+=b.substring(O,O+I-r),u}else{const I=this.u(n.piece.bufferIndex,n.piece.start);u+=b.substr(I,n.piece.length)}n=n.next()}return u}y(){let e=this.root,r=1,n=0;for(;e!==P.$pB;)r+=e.lf_left+e.piece.lineFeedCnt,n+=e.size_left+e.piece.length,e=e.right;this.b=r,this.c=n,this.h.validate(this.c)}A(e,r){const n=e.piece,u=this.s(e,r),h=u.line-n.start.line;if(this.u(n.bufferIndex,n.end)-this.u(n.bufferIndex,n.start)===r){const b=this.t(e.piece.bufferIndex,n.start,u);if(b!==h)return{index:b,remainder:0}}return{index:h,remainder:u.column}}B(e,r){if(r<0)return 0;const n=e.piece,u=this.a[n.bufferIndex].lineStarts,h=n.start.line+r+1;return h>n.end.line?u[n.end.line]+n.end.column-u[n.start.line]-n.start.column:u[h]-u[n.start.line]-n.start.column}C(e,r){const n=e.piece,u=n.lineFeedCnt,h=this.u(n.bufferIndex,n.end),b=r,I=this.u(n.bufferIndex,b),O=this.t(n.bufferIndex,n.start,b),A=O-u,f=I-h,C=n.length+f;e.piece=new m(n.bufferIndex,n.start,b,O,C),(0,P.$wB)(this,e,f,A)}D(e,r){const n=e.piece,u=n.lineFeedCnt,h=this.u(n.bufferIndex,n.start),b=r,I=this.t(n.bufferIndex,b,n.end),O=this.u(n.bufferIndex,b),A=I-u,f=h-O,C=n.length+f;e.piece=new m(n.bufferIndex,b,n.end,I,C),(0,P.$wB)(this,e,f,A)}E(e,r,n){const u=e.piece,h=u.start,b=u.end,I=u.length,O=u.lineFeedCnt,A=r,f=this.t(u.bufferIndex,u.start,A),C=this.u(u.bufferIndex,r)-this.u(u.bufferIndex,h);e.piece=new m(u.bufferIndex,u.start,A,f,C),(0,P.$wB)(this,e,C-I,f-O);const N=new m(u.bufferIndex,n,b,this.t(u.bufferIndex,n,b),this.u(u.bufferIndex,b)-this.u(u.bufferIndex,n)),U=this.S(e,N);this.N(U)}F(e,r){this.Q(r,e)&&(r+=`
`);const n=this.K()&&this.L(r)&&this.M(e),u=this.a[0].buffer.length;this.a[0].buffer+=r;const h=p(r,!1);for(let U=0;U<h.length;U++)h[U]+=u;if(n){const U=this.a[0].lineStarts[this.a[0].lineStarts.length-2];this.a[0].lineStarts.pop(),this.g={line:this.g.line-1,column:u-U}}this.a[0].lineStarts=this.a[0].lineStarts.concat(h.slice(1));const b=this.a[0].lineStarts.length-1,I=this.a[0].buffer.length-this.a[0].lineStarts[b],O={line:b,column:I},A=e.piece.length+r.length,f=e.piece.lineFeedCnt,C=this.t(0,e.piece.start,O),N=C-f;e.piece=new m(e.piece.bufferIndex,e.piece.start,O,C,A),this.g=O,(0,P.$wB)(this,e,r.length,N)}G(e){let r=this.root;const n=this.h.get(e);if(n)return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:e-n.nodeStartOffset};let u=0;for(;r!==P.$pB;)if(r.size_left>e)r=r.left;else if(r.size_left+r.piece.length>=e){u+=r.size_left;const h={node:r,remainder:e-r.size_left,nodeStartOffset:u};return this.h.set(h),h}else e-=r.size_left+r.piece.length,u+=r.size_left+r.piece.length,r=r.right;return null}H(e,r){let n=this.root,u=0;for(;n!==P.$pB;)if(n.left!==P.$pB&&n.lf_left>=e-1)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt>e-1){const h=this.B(n,e-n.lf_left-2),b=this.B(n,e-n.lf_left-1);return u+=n.size_left,{node:n,remainder:Math.min(h+r-1,b),nodeStartOffset:u}}else if(n.lf_left+n.piece.lineFeedCnt===e-1){const h=this.B(n,e-n.lf_left-2);if(h+r-1<=n.piece.length)return{node:n,remainder:h+r-1,nodeStartOffset:u};r-=n.piece.length-h;break}else e-=n.lf_left+n.piece.lineFeedCnt,u+=n.size_left+n.piece.length,n=n.right;for(n=n.next();n!==P.$pB;){if(n.piece.lineFeedCnt>0){const h=this.B(n,0),b=this.J(n);return{node:n,remainder:Math.min(r-1,h),nodeStartOffset:b}}else if(n.piece.length>=r-1){const h=this.J(n);return{node:n,remainder:r-1,nodeStartOffset:h}}else r-=n.piece.length;n=n.next()}return null}I(e,r){if(e.piece.lineFeedCnt<1)return-1;const n=this.a[e.piece.bufferIndex],u=this.u(e.piece.bufferIndex,e.piece.start)+r;return n.buffer.charCodeAt(u)}J(e){if(!e)return 0;let r=e.size_left;for(;e!==this.root;)e.parent.right===e&&(r+=e.parent.size_left+e.parent.piece.length),e=e.parent;return r}K(){return!(this.f&&this.d===`
`)}L(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===P.$pB||e.piece.lineFeedCnt===0)return!1;const r=e.piece,n=this.a[r.bufferIndex].lineStarts,u=r.start.line,h=n[u]+r.start.column;return u===n.length-1||n[u+1]>h+1?!1:this.a[r.bufferIndex].buffer.charCodeAt(h)===10}M(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===P.$pB||e.piece.lineFeedCnt===0?!1:this.I(e,e.piece.length-1)===13}N(e){if(this.K()&&this.L(e)){const r=e.prev();this.M(r)&&this.P(r,e)}}O(e){if(this.K()&&this.M(e)){const r=e.next();this.L(r)&&this.P(e,r)}}P(e,r){const n=[],u=this.a[e.piece.bufferIndex].lineStarts;let h;e.piece.end.column===0?h={line:e.piece.end.line-1,column:u[e.piece.end.line]-u[e.piece.end.line-1]-1}:h={line:e.piece.end.line,column:e.piece.end.column-1};const b=e.piece.length-1,I=e.piece.lineFeedCnt-1;e.piece=new m(e.piece.bufferIndex,e.piece.start,h,I,b),(0,P.$wB)(this,e,-1,-1),e.piece.length===0&&n.push(e);const O={line:r.piece.start.line+1,column:0},A=r.piece.length-1,f=this.t(r.piece.bufferIndex,O,r.piece.end);r.piece=new m(r.piece.bufferIndex,O,r.piece.end,f,A),(0,P.$wB)(this,r,-1,-1),r.piece.length===0&&n.push(r);const C=this.w(`\r
`);this.S(e,C[0]);for(let N=0;N<n.length;N++)(0,P.$uB)(this,n[N])}Q(e,r){if(this.K()&&this.M(e)){const n=r.next();if(this.L(n)){if(e+=`
`,n.piece.length===1)(0,P.$uB)(this,n);else{const u=n.piece,h={line:u.start.line+1,column:0},b=u.length-1,I=this.t(u.bufferIndex,h,u.end);n.piece=new m(u.bufferIndex,h,u.end,I,b),(0,P.$wB)(this,n,-1,-1)}return!0}}return!1}iterate(e,r){if(e===P.$pB)return r(P.$pB);const n=this.iterate(e.left,r);return n&&r(e)&&this.iterate(e.right,r)}R(e){if(e===P.$pB)return"";const r=this.a[e.piece.bufferIndex],n=e.piece,u=this.u(n.bufferIndex,n.start),h=this.u(n.bufferIndex,n.end);return r.buffer.substring(u,h)}getPieceContent(e){const r=this.a[e.bufferIndex],n=this.u(e.bufferIndex,e.start),u=this.u(e.bufferIndex,e.end);return r.buffer.substring(n,u)}S(e,r){const n=new P.$oB(r,1);if(n.left=P.$pB,n.right=P.$pB,n.parent=P.$pB,n.size_left=0,n.lf_left=0,this.root===P.$pB)this.root=n,n.color=0;else if(e.right===P.$pB)e.right=n,n.parent=e;else{const h=(0,P.$qB)(e.right);h.left=n,n.parent=h}return(0,P.$vB)(this,n),n}T(e,r){const n=new P.$oB(r,1);if(n.left=P.$pB,n.right=P.$pB,n.parent=P.$pB,n.size_left=0,n.lf_left=0,this.root===P.$pB)this.root=n,n.color=0;else if(e.left===P.$pB)e.left=n,n.parent=e;else{const u=(0,P.$rB)(e.left);u.right=n,n.parent=u}return(0,P.$vB)(this,n),n}U(e){let r="";return this.iterate(e,n=>(r+=this.R(n),!0)),r}}t.$IB=c}),define(rt[10],lt([0,1,5,2,3,38]),function(st,t,T,F,D,P){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$7f=t.$6f=t.$5f=t.$4f=t.$3f=t.$2f=t.$1f=t.$Zf=t.$Yf=t.$Xf=t.$Wf=t.$Vf=t.$Uf=t.$Tf=t.$Sf=t.$Rf=void 0;function V(f){return f===47||f===92}t.$Rf=V;function G(f){return f.replace(/[\\/]/g,T.$gc.sep)}t.$Sf=G;function E(f){return f.indexOf("/")===-1&&(f=G(f)),/^[a-zA-Z]:(\/|$)/.test(f)&&(f="/"+f),f}t.$Tf=E;function g(f,C=T.$gc.sep){if(!f)return"";const N=f.length,U=f.charCodeAt(0);if(V(U)){if(V(f.charCodeAt(1))&&!V(f.charCodeAt(2))){let w=3;const z=w;for(;w<N&&!V(f.charCodeAt(w));w++);if(z!==w&&!V(f.charCodeAt(w+1))){for(w+=1;w<N;w++)if(V(f.charCodeAt(w)))return f.slice(0,w+1).replace(/[\\/]/g,C)}}return C}else if(o(U)&&f.charCodeAt(1)===58)return V(f.charCodeAt(2))?f.slice(0,2)+C:f.slice(0,2);let B=f.indexOf("://");if(B!==-1){for(B+=3;B<N;B++)if(V(f.charCodeAt(B)))return f.slice(0,B+1)}return""}t.$Uf=g;function p(f){if(!F.$j||!f||f.length<5)return!1;let C=f.charCodeAt(0);if(C!==92||(C=f.charCodeAt(1),C!==92))return!1;let N=2;const U=N;for(;N<f.length&&(C=f.charCodeAt(N),C!==92);N++);return!(U===N||(C=f.charCodeAt(N+1),isNaN(C)||C===92))}t.$Vf=p;const R=/[\\/:\*\?"<>\|]/g,m=/[\\/]/g,k=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function $(f,C=F.$j){const N=C?R:m;return!(!f||f.length===0||/^\s+$/.test(f)||(N.lastIndex=0,N.test(f))||C&&k.test(f)||f==="."||f===".."||C&&f[f.length-1]==="."||C&&f.length!==f.trim().length||f.length>255)}t.$Wf=$;function d(f,C,N){const U=f===C;return!N||U?U:!f||!C?!1:(0,D.$3e)(f,C)}t.$Xf=d;function c(f,C,N,U=T.sep){if(f===C)return!0;if(!f||!C||C.length>f.length)return!1;if(N){if(!(0,D.$4e)(f,C))return!1;if(C.length===f.length)return!0;let w=C.length;return C.charAt(C.length-1)===U&&w--,f.charAt(w)===U}return C.charAt(C.length-1)!==U&&(C+=U),f.indexOf(C)===0}t.$Yf=c;function o(f){return f>=65&&f<=90||f>=97&&f<=122}t.$Zf=o;function e(f,C){return F.$j&&f.endsWith(":")&&(f+=T.sep),(0,T.$ic)(f)||(f=(0,T.$jc)(C,f)),f=(0,T.$hc)(f),F.$j?(f=(0,D.$Le)(f,T.sep),f.endsWith(":")&&(f+=T.sep)):(f=(0,D.$Le)(f,T.sep),f||(f=T.sep)),f}t.$1f=e;function r(f){const C=(0,T.$hc)(f);return F.$j?f.length>3?!1:n(C)&&(f.length===2||C.charCodeAt(2)===92):C===T.$gc.sep}t.$2f=r;function n(f,C=F.$j){return C?o(f.charCodeAt(0))&&f.charCodeAt(1)===58:!1}t.$3f=n;function u(f,C=F.$j){return n(f,C)?f[0]:void 0}t.$4f=u;function h(f,C,N){return C.length>f.length?-1:f===C?0:(N&&(f=f.toLowerCase(),C=C.toLowerCase()),f.indexOf(C))}t.$5f=h;function b(f){const C=f.split(":");let N,U,B;for(const w of C){const z=Number(w);(0,P.$Df)(z)?U===void 0?U=z:B===void 0&&(B=z):N=N?[N,w].join(":"):w}if(!N)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:N,line:U!==void 0?U:void 0,column:B!==void 0?B:U!==void 0?1:void 0}}t.$6f=b;const I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",O="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function A(f,C,N=8){let U="";for(let w=0;w<N;w++){let z;w===0&&F.$j&&!C&&(N===3||N===4)?z=O:z=I,U+=z.charAt(Math.floor(Math.random()*z.length))}let B;return C?B=`${C}-${U}`:B=U,f?(0,T.$jc)(f,B):B}t.$7f=A}),define(rt[19],lt([0,1,5]),function(st,t,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Xr=t.$Wr=t.$Vr=t.$Ur=t.$Tr=void 0,t.$Tr=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});const F={".css":"text/css",".csv":"text/csv",".htm":"text/html",".html":"text/html",".ics":"text/calendar",".js":"text/javascript",".mjs":"text/javascript",".txt":"text/plain",".xml":"text/xml"},D={".aac":"audio/x-aac",".avi":"video/x-msvideo",".bmp":"image/bmp",".flv":"video/x-flv",".gif":"image/gif",".ico":"image/x-icon",".jpe":"image/jpg",".jpeg":"image/jpg",".jpg":"image/jpg",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".mid":"audio/midi",".midi":"audio/midi",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".opus":"audio/opus",".ogv":"video/ogg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".spx":"audio/ogg",".svg":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".wav":"audio/x-wav",".webm":"video/webm",".webp":"image/webp",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".woff":"application/font-woff"};function P(p){const R=(0,T.$oc)(p),m=F[R.toLowerCase()];return m!==void 0?m:V(p)}t.$Ur=P;function V(p){const R=(0,T.$oc)(p);return D[R.toLowerCase()]}t.$Vr=V;function G(p){for(const R in D)if(D[R]===p)return R}t.$Wr=G;const E=/^(.+)\/(.+?)(;.+)?$/;function g(p,R){const m=E.exec(p);return m?`${m[1].toLowerCase()}/${m[2].toLowerCase()}${m[3]??""}`:R?void 0:p}t.$Xr=g}),define(rt[11],lt([0,1,4,2,12]),function(st,t,T,F,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COI=t.$dg=t.$cg=t.$bg=t.$ag=t.$_f=t.$$f=t.$0f=t.$9f=t.$8f=t.Schemas=void 0;var P;(function(g){g.inMemory="inmemory",g.vscode="vscode",g.internal="private",g.walkThrough="walkThrough",g.walkThroughSnippet="walkThroughSnippet",g.http="http",g.https="https",g.file="file",g.mailto="mailto",g.untitled="untitled",g.data="data",g.command="command",g.vscodeRemote="vscode-remote",g.vscodeRemoteResource="vscode-remote-resource",g.vscodeManagedRemoteResource="vscode-managed-remote-resource",g.vscodeUserData="vscode-userdata",g.vscodeCustomEditor="vscode-custom-editor",g.vscodeNotebookCell="vscode-notebook-cell",g.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",g.vscodeNotebookCellOutput="vscode-notebook-cell-output",g.vscodeInteractiveInput="vscode-interactive-input",g.vscodeSettings="vscode-settings",g.vscodeWorkspaceTrust="vscode-workspace-trust",g.vscodeTerminal="vscode-terminal",g.vscodeChatSesssion="vscode-chat-editor",g.webviewPanel="webview-panel",g.vscodeWebview="vscode-webview",g.extension="extension",g.vscodeFileResource="vscode-file",g.tmp="tmp",g.vsls="vsls",g.vscodeSourceControl="vscode-scm"})(P||(t.Schemas=P={})),t.$8f="vscode-tkn",t.$9f="tkn";class V{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f=`/${P.vscodeRemoteResource}`}setPreferredWebSchema(p){this.d=p}setDelegate(p){this.e=p}setServerRootPath(p){this.f=`${p}/${P.vscodeRemoteResource}`}set(p,R,m){this.a[p]=R,this.b[p]=m}setConnectionToken(p,R){this.c[p]=R}getPreferredWebSchema(){return this.d}rewrite(p){if(this.e)try{return this.e(p)}catch(c){return T.$1(c),p}const R=p.authority;let m=this.a[R];m&&m.indexOf(":")!==-1&&m.indexOf("[")===-1&&(m=`[${m}]`);const k=this.b[R],$=this.c[R];let d=`path=${encodeURIComponent(p.path)}`;return typeof $=="string"&&(d+=`&${t.$9f}=${encodeURIComponent($)}`),D.URI.from({scheme:F.$p?this.d:P.vscodeRemoteResource,authority:`${m}:${k}`,path:this.f,query:d})}}t.$0f=new V,t.$$f="vs/../../extensions",t.$_f="vs/../../node_modules",t.$ag="vs/../../node_modules.asar",t.$bg="vs/../../node_modules.asar.unpacked",t.$cg="vscode-app";class G{static{this.a=t.$cg}asBrowserUri(p){const R=this.b(p,st);return this.uriToBrowserUri(R)}uriToBrowserUri(p){return p.scheme===P.vscodeRemote?t.$0f.rewrite(p):p.scheme===P.file&&(F.$n||F.$q&&F.$h.origin===`${P.vscodeFileResource}://${G.a}`)?p.with({scheme:P.vscodeFileResource,authority:p.authority||G.a,query:null,fragment:null}):p}asFileUri(p){const R=this.b(p,st);return this.uriToFileUri(R)}uriToFileUri(p){return p.scheme===P.vscodeFileResource?p.with({scheme:P.file,authority:p.authority!==G.a?p.authority:null,query:null,fragment:null}):p}b(p,R){return D.URI.isUri(p)?p:D.URI.parse(R.toUrl(p))}}t.$dg=new G;var E;(function(g){const p=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);g.CoopAndCoep=Object.freeze(p.get("3"));const R="vscode-coi";function m($){let d;typeof $=="string"?d=new URL($).searchParams:$ instanceof URL?d=$.searchParams:D.URI.isUri($)&&(d=new URL($.toString(!0)).searchParams);const c=d?.get(R);if(c)return p.get(c)}g.getHeadersFromQuery=m;function k($,d,c){if(!globalThis.crossOriginIsolated)return;const o=d&&c?"3":c?"2":"1";$ instanceof URLSearchParams?$.set(R,o):$[R]=o}g.addSearchParam=k})(E||(t.COI=E={}))}),define(rt[20],lt([0,1,10,11,5,2,3,12]),function(st,t,T,F,D,P,V,G){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Gg=t.DataUri=t.$Fg=t.$Eg=t.$Dg=t.$Cg=t.$Bg=t.$Ag=t.$zg=t.$yg=t.$xg=t.$wg=t.$vg=t.$ug=t.$tg=t.$sg=t.$rg=t.$qg=t.$pg=t.$og=t.$ng=t.$mg=t.$lg=t.$kg=void 0;function E(k){return(0,G.$wc)(k,!0)}t.$kg=E;class g{constructor($){this.a=$}compare($,d,c=!1){return $===d?0:(0,V.$Ve)(this.getComparisonKey($,c),this.getComparisonKey(d,c))}isEqual($,d,c=!1){return $===d?!0:!$||!d?!1:this.getComparisonKey($,c)===this.getComparisonKey(d,c)}getComparisonKey($,d=!1){return $.with({path:this.a($)?$.path.toLowerCase():void 0,fragment:d?null:void 0}).toString()}ignorePathCasing($){return this.a($)}isEqualOrParent($,d,c=!1){if($.scheme===d.scheme){if($.scheme===F.Schemas.file)return T.$Yf(E($),E(d),this.a($))&&$.query===d.query&&(c||$.fragment===d.fragment);if((0,t.$Bg)($.authority,d.authority))return T.$Yf($.path,d.path,this.a($),"/")&&$.query===d.query&&(c||$.fragment===d.fragment)}return!1}joinPath($,...d){return G.URI.joinPath($,...d)}basenameOrAuthority($){return(0,t.$tg)($)||$.authority}basename($){return D.$gc.basename($.path)}extname($){return D.$gc.extname($.path)}dirname($){if($.path.length===0)return $;let d;return $.scheme===F.Schemas.file?d=G.URI.file(D.$mc(E($))).path:(d=D.$gc.dirname($.path),$.authority&&d.length&&d.charCodeAt(0)!==47&&(console.error(`dirname("${$.toString})) resulted in a relative path`),d="/")),$.with({path:d})}normalizePath($){if(!$.path.length)return $;let d;return $.scheme===F.Schemas.file?d=G.URI.file(D.$hc(E($))).path:d=D.$gc.normalize($.path),$.with({path:d})}relativePath($,d){if($.scheme!==d.scheme||!(0,t.$Bg)($.authority,d.authority))return;if($.scheme===F.Schemas.file){const e=D.$lc(E($),E(d));return P.$j?T.$Sf(e):e}let c=$.path||"/";const o=d.path||"/";if(this.a($)){let e=0;for(const r=Math.min(c.length,o.length);e<r&&!(c.charCodeAt(e)!==o.charCodeAt(e)&&c.charAt(e).toLowerCase()!==o.charAt(e).toLowerCase());e++);c=o.substr(0,e)+c.substr(e)}return D.$gc.relative(c,o)}resolvePath($,d){if($.scheme===F.Schemas.file){const c=G.URI.file(D.$kc(E($),d));return $.with({authority:c.authority,path:c.path})}return d=T.$Tf(d),$.with({path:D.$gc.resolve($.path,d)})}isAbsolutePath($){return!!$.path&&$.path[0]==="/"}isEqualAuthority($,d){return $===d||$!==void 0&&d!==void 0&&(0,V.$3e)($,d)}hasTrailingPathSeparator($,d=D.sep){if($.scheme===F.Schemas.file){const c=E($);return c.length>T.$Uf(c).length&&c[c.length-1]===d}else{const c=$.path;return c.length>1&&c.charCodeAt(c.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test($.fsPath)}}removeTrailingPathSeparator($,d=D.sep){return(0,t.$Cg)($,d)?$.with({path:$.path.substr(0,$.path.length-1)}):$}addTrailingPathSeparator($,d=D.sep){let c=!1;if($.scheme===F.Schemas.file){const o=E($);c=o!==void 0&&o.length===T.$Uf(o).length&&o[o.length-1]===d}else{d="/";const o=$.path;c=o.length===1&&o.charCodeAt(o.length-1)===47}return!c&&!(0,t.$Cg)($,d)?$.with({path:$.path+"/"}):$}}t.$lg=g,t.$mg=new g(()=>!1),t.$ng=new g(k=>k.scheme===F.Schemas.file?!P.$l:!0),t.$og=new g(k=>!0),t.$pg=t.$mg.isEqual.bind(t.$mg),t.$qg=t.$mg.isEqualOrParent.bind(t.$mg),t.$rg=t.$mg.getComparisonKey.bind(t.$mg),t.$sg=t.$mg.basenameOrAuthority.bind(t.$mg),t.$tg=t.$mg.basename.bind(t.$mg),t.$ug=t.$mg.extname.bind(t.$mg),t.$vg=t.$mg.dirname.bind(t.$mg),t.$wg=t.$mg.joinPath.bind(t.$mg),t.$xg=t.$mg.normalizePath.bind(t.$mg),t.$yg=t.$mg.relativePath.bind(t.$mg),t.$zg=t.$mg.resolvePath.bind(t.$mg),t.$Ag=t.$mg.isAbsolutePath.bind(t.$mg),t.$Bg=t.$mg.isEqualAuthority.bind(t.$mg),t.$Cg=t.$mg.hasTrailingPathSeparator.bind(t.$mg),t.$Dg=t.$mg.removeTrailingPathSeparator.bind(t.$mg),t.$Eg=t.$mg.addTrailingPathSeparator.bind(t.$mg);function p(k,$){const d=[];for(let c=0;c<k.length;c++){const o=$(k[c]);k.some((e,r)=>r===c?!1:(0,t.$qg)(o,$(e)))||d.push(k[c])}return d}t.$Fg=p;var R;(function(k){k.META_DATA_LABEL="label",k.META_DATA_DESCRIPTION="description",k.META_DATA_SIZE="size",k.META_DATA_MIME="mime";function $(d){const c=new Map;d.path.substring(d.path.indexOf(";")+1,d.path.lastIndexOf(";")).split(";").forEach(r=>{const[n,u]=r.split(":");n&&u&&c.set(n,u)});const e=d.path.substring(0,d.path.indexOf(";"));return e&&c.set(k.META_DATA_MIME,e),c}k.parseMetaData=$})(R||(t.DataUri=R={}));function m(k,$,d){if($){let c=k.path;return c&&c[0]!==D.$gc.sep&&(c=D.$gc.sep+c),k.with({scheme:d,authority:$,path:c})}return k.with({scheme:d})}t.$Gg=m}),define(rt[21],lt([0,1,39,4,22,7,20,2,14]),function(st,t,T,F,D,P,V,G,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$hh=t.$gh=t.$fh=t.$eh=t.Promises=t.$dh=t.$ch=t.$bh=t.$ah=t.$_g=t.$$g=t.$0g=t.$9g=t.$8g=t.$7g=t.$6g=t.$5g=t.$4g=t.$3g=t.$2g=t.$1g=t.$Zg=t.$Yg=t.$Xg=t.$Wg=t.$Vg=t.$Ug=t.$Tg=t.$Sg=t.$Rg=t.$Qg=t.$Pg=t.$Og=t.$Ng=t.$Mg=t.$Lg=t.$Kg=t.$Jg=t.$Ig=t.$Hg=void 0;function g(l){return!!l&&typeof l.then=="function"}t.$Hg=g;function p(l){const s=new T.$Yd,a=l(s.token),v=new Promise((S,Q)=>{const nt=s.token.onCancellationRequested(()=>{nt.dispose(),s.dispose(),Q(new F.$5)});Promise.resolve(a).then(ut=>{nt.dispose(),s.dispose(),S(ut)},ut=>{nt.dispose(),s.dispose(),Q(ut)})});return new class{cancel(){s.cancel()}then(S,Q){return v.then(S,Q)}catch(S){return this.then(void 0,S)}finally(S){return v.finally(S)}}}t.$Ig=p;function R(l,s,a){return new Promise((v,S)=>{const Q=s.onCancellationRequested(()=>{Q.dispose(),v(a)});l.then(v,S).finally(()=>Q.dispose())})}t.$Jg=R;function m(l,s){return new Promise((a,v)=>{const S=s.onCancellationRequested(()=>{S.dispose(),v(new F.$5)});l.then(a,v).finally(()=>S.dispose())})}t.$Kg=m;async function k(l){let s=-1;const a=l.map((v,S)=>v.then(Q=>(s=S,Q)));try{return await Promise.race(a)}finally{l.forEach((v,S)=>{S!==s&&v.cancel()})}}t.$Lg=k;function $(l,s,a){let v;const S=setTimeout(()=>{v?.(void 0),a?.()},s);return Promise.race([l.finally(()=>clearTimeout(S)),new Promise(Q=>v=Q)])}t.$Mg=$;function d(l){return new Promise((s,a)=>{const v=l();g(v)?v.then(s,a):s(v)})}t.$Ng=d;class c{constructor(){this.f=!1,this.a=null,this.b=null,this.d=null}queue(s){if(this.f)return Promise.reject(new Error("Throttler is disposed"));if(this.a){if(this.d=s,!this.b){const a=()=>{if(this.b=null,this.f)return;const v=this.queue(this.d);return this.d=null,v};this.b=new Promise(v=>{this.a.then(a,a).then(v)})}return new Promise((a,v)=>{this.b.then(a,v)})}return this.a=s(),new Promise((a,v)=>{this.a.then(S=>{this.a=null,a(S)},S=>{this.a=null,v(S)})})}dispose(){this.f=!0}}t.$Og=c;class o{constructor(){this.a=Promise.resolve(null)}queue(s){return this.a=this.a.then(()=>s(),()=>s())}}t.$Pg=o;class e{constructor(){this.a=new Map}queue(s,a){const S=(this.a.get(s)??Promise.resolve()).catch(()=>{}).then(a).finally(()=>{this.a.get(s)===S&&this.a.delete(s)});return this.a.set(s,S),S}}t.$Qg=e;const r=(l,s)=>{let a=!0;const v=setTimeout(()=>{a=!1,s()},l);return{isTriggered:()=>a,dispose:()=>{clearTimeout(v),a=!1}}},n=l=>{let s=!0;return queueMicrotask(()=>{s&&(s=!1,l())}),{isTriggered:()=>s,dispose:()=>{s=!1}}};class u{constructor(s){this.defaultDelay=s,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(s,a=this.defaultDelay){this.g=s,this.h(),this.b||(this.b=new Promise((S,Q)=>{this.d=S,this.f=Q}).then(()=>{if(this.b=null,this.d=null,this.g){const S=this.g;return this.g=null,S()}}));const v=()=>{this.a=null,this.d?.(null)};return this.a=a===E.$Ld?n(v):r(a,v),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new F.$5),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}t.$Rg=u;class h{constructor(s){this.a=new u(s),this.b=new c}trigger(s,a){return this.a.trigger(()=>this.b.queue(s),a)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose(),this.b.dispose()}}t.$Sg=h;class b{constructor(){this.a=!1,this.b=new Promise((s,a)=>{this.d=s})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}t.$Tg=b;class I extends b{constructor(s){super(),this.f=setTimeout(()=>this.open(),s)}open(){clearTimeout(this.f),super.open()}}t.$Ug=I;function O(l,s){return s?new Promise((a,v)=>{const S=setTimeout(()=>{Q.dispose(),a()},l),Q=s.onCancellationRequested(()=>{clearTimeout(S),Q.dispose(),v(new F.$5)})}):p(a=>O(l,a))}t.$Vg=O;function A(l,s=0,a){const v=setTimeout(()=>{l(),a&&S.dispose()},s),S=(0,P.$Qc)(()=>{clearTimeout(v),a?.deleteAndLeak(S)});return a?.add(S),S}t.$Wg=A;function f(l){const s=[];let a=0;const v=l.length;function S(){return a<v?l[a++]():null}function Q(nt){nt!=null&&s.push(nt);const ut=S();return ut?ut.then(Q):Promise.resolve(s)}return Promise.resolve(null).then(Q)}t.$Xg=f;function C(l,s=v=>!!v,a=null){let v=0;const S=l.length,Q=()=>{if(v>=S)return Promise.resolve(a);const nt=l[v++];return Promise.resolve(nt()).then(ct=>s(ct)?Promise.resolve(ct):Q())};return Q()}t.$Yg=C;function N(l,s=v=>!!v,a=null){if(l.length===0)return Promise.resolve(a);let v=l.length;const S=()=>{v=-1;for(const Q of l)Q.cancel?.()};return new Promise((Q,nt)=>{for(const ut of l)ut.then(ct=>{--v>=0&&s(ct)?(S(),Q(ct)):v===0&&Q(a)}).catch(ct=>{--v>=0&&(S(),nt(ct))})})}t.$Zg=N;class U{constructor(s){this.a=0,this.d=s,this.f=[],this.b=0,this.g=new D.$Od}get onDrained(){return this.g.event}get size(){return this.a}queue(s){return this.a++,new Promise((a,v)=>{this.f.push({factory:s,c:a,e:v}),this.h()})}h(){for(;this.f.length&&this.b<this.d;){const s=this.f.shift();this.b++;const a=s.factory();a.then(s.c,s.e),a.then(()=>this.j(),()=>this.j())}}j(){this.a--,this.b--,this.f.length>0?this.h():this.g.fire()}dispose(){this.g.dispose()}}t.$1g=U;class B extends U{constructor(){super(1)}}t.$2g=B;class w{constructor(){this.a=new j,this.b=0}queue(s){return this.a.isRunning()?this.a.queue(()=>this.a.run(this.b++,s())):this.a.run(this.b++,s())}}t.$3g=w;class z{constructor(){this.a=new Map,this.b=new Set,this.d=void 0,this.f=0}async whenDrained(){if(this.g())return;const s=new H;return this.b.add(s),s.p}g(){for(const[,s]of this.a)if(s.size>0)return!1;return!0}queueFor(s,a=V.$mg){const v=a.getComparisonKey(s);let S=this.a.get(v);if(!S){S=new B;const Q=this.f++,nt=D.Event.once(S.onDrained)(()=>{S?.dispose(),this.a.delete(v),this.h(),this.d?.deleteAndDispose(Q),this.d?.size===0&&(this.d.dispose(),this.d=void 0)});this.d||(this.d=new P.$1c),this.d.set(Q,nt),this.a.set(v,S)}return S}h(){this.g()&&this.j()}j(){for(const s of this.b)s.complete();this.b.clear()}dispose(){for(const[,s]of this.a)s.dispose();this.a.clear(),this.j(),this.d?.dispose()}}t.$4g=z;class Z{constructor(s,a){this.a=-1,typeof s=="function"&&typeof a=="number"&&this.setIfNotSet(s,a)}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(s,a){this.cancel(),this.a=setTimeout(()=>{this.a=-1,s()},a)}setIfNotSet(s,a){this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,s()},a))}}t.$5g=Z;class _{constructor(){this.a=-1}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearInterval(this.a),this.a=-1)}cancelAndSet(s,a){this.cancel(),this.a=setInterval(()=>{s()},a)}}t.$6g=_;class x{constructor(s,a){this.b=-1,this.a=s,this.d=a,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(s=this.d){this.cancel(),this.b=setTimeout(this.f,s)}get delay(){return this.d}set delay(s){this.d=s}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}t.$7g=x;class et{constructor(s,a){a%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${a}ms is not a multiple of 1000ms.`),this.a=s,this.b=a,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(s=this.b){s%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${s}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(s/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}t.$8g=et;class tt extends x{constructor(s,a){super(s,a),this.j=[]}work(s){this.j.push(s),this.isScheduled()||this.schedule()}h(){const s=this.j;this.j=[],this.a?.(s)}dispose(){this.j=[],super.dispose()}}t.$9g=tt;class y extends P.$Sc{constructor(s,a){super(),this.g=s,this.h=a,this.a=[],this.b=this.B(new P.$Tc),this.f=!1}get pending(){return this.a.length}work(s){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+s.length>this.g.maxBufferedWork)return!1}else if(this.pending+s.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const a of s)this.a.push(a);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new x(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}t.$0g=y,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?t.$$g=l=>{(0,G.$B)(()=>{if(s)return;const a=Date.now()+15;l(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,a-Date.now())}}))});let s=!1;return{dispose(){s||(s=!0)}}}:t.$$g=(l,s)=>{const a=requestIdleCallback(l,typeof s=="number"?{timeout:s}:void 0);let v=!1;return{dispose(){v||(v=!0,cancelIdleCallback(a))}}}}();class X{constructor(s){this.d=!1,this.a=()=>{try{this.f=s()}catch(a){this.g=a}finally{this.d=!0}},this.b=(0,t.$$g)(()=>this.a())}dispose(){this.b.dispose()}get value(){if(this.d||(this.b.dispose(),this.a()),this.g)throw this.g;return this.f}get isInitialized(){return this.d}}t.$_g=X;async function it(l,s,a){let v;for(let S=0;S<a;S++)try{return await l()}catch(Q){v=Q,await O(s)}throw v}t.$ah=it;class j{isRunning(s){return typeof s=="number"?this.a?.taskId===s:!!this.a}get running(){return this.a?.promise}cancelRunning(){this.a?.cancel()}run(s,a,v){return this.a={taskId:s,cancel:()=>v?.(),promise:a},a.then(()=>this.d(s),()=>this.d(s)),a}d(s){this.a&&s===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const s=this.b;this.b=void 0,s.run().then(s.promiseResolve,s.promiseReject)}}queue(s){if(this.b)this.b.run=s;else{let a,v;const S=new Promise((Q,nt)=>{a=Q,v=nt});this.b={run:s,promise:S,promiseResolve:a,promiseReject:v}}return this.b.promise}hasQueued(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}t.$bh=j;class q{constructor(s,a=()=>Date.now()){this.d=s,this.f=a,this.a=0,this.b=0}increment(){const s=this.f();return s-this.a>this.d&&(this.a=s,this.b=0),this.b++,this.b}}t.$ch=q;var M;(function(l){l[l.Resolved=0]="Resolved",l[l.Rejected=1]="Rejected"})(M||(M={}));class H{get isRejected(){return this.d?.outcome===1}get isResolved(){return this.d?.outcome===0}get isSettled(){return!!this.d}get value(){return this.d?.outcome===0?this.d?.value:void 0}constructor(){this.p=new Promise((s,a)=>{this.a=s,this.b=a})}complete(s){return new Promise(a=>{this.a(s),this.d={outcome:0,value:s},a()})}error(s){return new Promise(a=>{this.b(s),this.d={outcome:1,value:s},a()})}cancel(){return this.error(new F.$5)}}t.$dh=H;var Y;(function(l){async function s(v){let S;const Q=await Promise.all(v.map(nt=>nt.then(ut=>ut,ut=>{S||(S=ut)})));if(typeof S<"u")throw S;return Q}l.settled=s;function a(v){return new Promise(async(S,Q)=>{try{await v(S,Q)}catch(nt){Q(nt)}})}l.withAsyncBody=a})(Y||(t.Promises=Y={}));var J;(function(l){l[l.Initial=0]="Initial",l[l.DoneOK=1]="DoneOK",l[l.DoneError=2]="DoneError"})(J||(J={}));class K{static fromArray(s){return new K(a=>{a.emitMany(s)})}static fromPromise(s){return new K(async a=>{a.emitMany(await s)})}static fromPromises(s){return new K(async a=>{await Promise.all(s.map(async v=>a.emitOne(await v)))})}static merge(s){return new K(async a=>{await Promise.all(s.map(async v=>{for await(const S of v)a.emitOne(S)}))})}static{this.EMPTY=K.fromArray([])}constructor(s){this.a=0,this.b=[],this.d=null,this.f=new D.$Od,queueMicrotask(async()=>{const a={emitOne:v=>this.g(v),emitMany:v=>this.h(v),reject:v=>this.k(v)};try{await Promise.resolve(s(a)),this.j()}catch(v){this.k(v)}finally{a.emitOne=void 0,a.emitMany=void 0,a.reject=void 0}})}[Symbol.asyncIterator](){let s=0;return{next:async()=>{do{if(this.a===2)throw this.d;if(s<this.b.length)return{done:!1,value:this.b[s++]};if(this.a===1)return{done:!0,value:void 0};await D.Event.toPromise(this.f.event)}while(!0)}}}static map(s,a){return new K(async v=>{for await(const S of s)v.emitOne(a(S))})}map(s){return K.map(this,s)}static filter(s,a){return new K(async v=>{for await(const S of s)a(S)&&v.emitOne(S)})}filter(s){return K.filter(this,s)}static coalesce(s){return K.filter(s,a=>!!a)}coalesce(){return K.coalesce(this)}static async toPromise(s){const a=[];for await(const v of s)a.push(v);return a}toPromise(){return K.toPromise(this)}g(s){this.a===0&&(this.b.push(s),this.f.fire())}h(s){this.a===0&&(this.b=this.b.concat(s),this.f.fire())}j(){this.a===0&&(this.a=1,this.f.fire())}k(s){this.a===0&&(this.a=2,this.d=s,this.f.fire())}}t.$eh=K;class W extends K{constructor(s,a){super(a),this.l=s}cancel(){this.l.cancel()}}t.$fh=W;function L(l){const s=new T.$Yd,a=l(s.token);return new W(s,async v=>{const S=s.token.onCancellationRequested(()=>{S.dispose(),s.dispose(),v.reject(new F.$5)});try{for await(const Q of a){if(s.token.isCancellationRequested)return;v.emitOne(Q)}S.dispose(),s.dispose()}catch(Q){S.dispose(),s.dispose(),v.reject(Q)}})}t.$gh=L;class i{constructor(){this.a=new H,this.b=new K(v=>{if(s){v.reject(s);return}return a&&v.emitMany(a),this.d=S=>v.reject(S),this.f=S=>v.emitOne(S),this.a.p});let s,a;this.f=v=>{a||(a=[]),a.push(v)},this.d=v=>{s||(s=v)}}get asyncIterable(){return this.b}resolve(){this.a.complete()}reject(s){this.d(s),this.a.complete()}emitOne(s){this.f(s)}}t.$hh=i}),define(rt[23],lt([0,1,40,21,10,41,5,2,3]),function(st,t,T,F,D,P,V,G,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Bj=t.$Aj=t.$zj=t.$yj=t.$xj=t.$wj=t.$vj=t.$uj=t.$tj=t.$sj=void 0;function g(){return Object.create(null)}t.$sj=g,t.$tj="**",t.$uj="/";const p="[/\\\\]",R="[^/\\\\]",m=/\//g;function k(j,q){switch(j){case 0:return"";case 1:return`${R}*?`;default:return`(?:${p}|${R}+${p}${q?`|${p}${R}+`:""})*?`}}function $(j,q){if(!j)return[];const M=[];let H=!1,Y=!1,J="";for(const K of j){switch(K){case q:if(!H&&!Y){M.push(J),J="";continue}break;case"{":H=!0;break;case"}":H=!1;break;case"[":Y=!0;break;case"]":Y=!1;break}J+=K}return J&&M.push(J),M}t.$vj=$;function d(j){if(!j)return"";let q="";const M=$(j,t.$uj);if(M.every(H=>H===t.$tj))q=".*";else{let H=!1;M.forEach((Y,J)=>{if(Y===t.$tj){if(H)return;q+=k(2,J===M.length-1)}else{let K=!1,W="",L=!1,i="";for(const l of Y){if(l!=="}"&&K){W+=l;continue}if(L&&(l!=="]"||!i)){let s;l==="-"?s=l:(l==="^"||l==="!")&&!i?s="^":l===t.$uj?s="":s=(0,E.$Ge)(l),i+=s;continue}switch(l){case"{":K=!0;continue;case"[":L=!0;continue;case"}":{const a=`(?:${$(W,",").map(v=>d(v)).join("|")})`;q+=a,K=!1,W="";break}case"]":{q+="["+i+"]",L=!1,i="";break}case"?":q+=R;continue;case"*":q+=k(1);continue;default:q+=(0,E.$Ge)(l)}}J<M.length-1&&(M[J+1]!==t.$tj||J+2<M.length)&&(q+=p)}H=Y===t.$tj})}return q}const c=/^\*\*\/\*\.[\w\.-]+$/,o=/^\*\*\/([\w\.-]+)\/?$/,e=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,r=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,n=/^\*\*((\/[\w\.-]+)+)\/?$/,u=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,h=new P.$Dc(1e4),b=function(){return!1},I=function(){return null};function O(j,q){if(!j)return I;let M;typeof j!="string"?M=j.pattern:M=j,M=M.trim();const H=`${M}_${!!q.trimForExclusions}`;let Y=h.get(H);if(Y)return A(Y,j);let J;return c.test(M)?Y=C(M.substr(4),M):(J=o.exec(f(M,q)))?Y=N(J[1],M):(q.trimForExclusions?r:e).test(M)?Y=U(M,q):(J=n.exec(f(M,q)))?Y=B(J[1].substr(1),M,!0):(J=u.exec(f(M,q)))?Y=B(J[1],M,!1):Y=w(M),h.set(H,Y),A(Y,j)}function A(j,q){if(typeof q=="string")return j;const M=function(H,Y){return(0,D.$Yf)(H,q.base,!G.$l)?j((0,E.$Ke)(H.substr(q.base.length),V.sep),Y):null};return M.allBasenames=j.allBasenames,M.allPaths=j.allPaths,M.basenames=j.basenames,M.patterns=j.patterns,M}function f(j,q){return q.trimForExclusions&&j.endsWith("/**")?j.substr(0,j.length-2):j}function C(j,q){return function(M,H){return typeof M=="string"&&M.endsWith(j)?q:null}}function N(j,q){const M=`/${j}`,H=`\\${j}`,Y=function(K,W){return typeof K!="string"?null:W?W===j?q:null:K===j||K.endsWith(M)||K.endsWith(H)?q:null},J=[j];return Y.basenames=J,Y.patterns=[q],Y.allBasenames=J,Y}function U(j,q){const M=X(j.slice(1,-1).split(",").map(W=>O(W,q)).filter(W=>W!==I),j),H=M.length;if(!H)return I;if(H===1)return M[0];const Y=function(W,L){for(let i=0,l=M.length;i<l;i++)if(M[i](W,L))return j;return null},J=M.find(W=>!!W.allBasenames);J&&(Y.allBasenames=J.allBasenames);const K=M.reduce((W,L)=>L.allPaths?W.concat(L.allPaths):W,[]);return K.length&&(Y.allPaths=K),Y}function B(j,q,M){const H=V.sep===V.$gc.sep,Y=H?j:j.replace(m,V.sep),J=V.sep+Y,K=V.$gc.sep+j;let W;return M?W=function(L,i){return typeof L=="string"&&(L===Y||L.endsWith(J)||!H&&(L===j||L.endsWith(K)))?q:null}:W=function(L,i){return typeof L=="string"&&(L===Y||!H&&L===j)?q:null},W.allPaths=[(M?"*/":"./")+j],W}function w(j){try{const q=new RegExp(`^${d(j)}$`);return function(M){return q.lastIndex=0,typeof M=="string"&&q.test(M)?j:null}}catch{return I}}function z(j,q,M){return!j||typeof q!="string"?!1:Z(j)(q,void 0,M)}t.$wj=z;function Z(j,q={}){if(!j)return b;if(typeof j=="string"||_(j)){const M=O(j,q);if(M===I)return b;const H=function(Y,J){return!!M(Y,J)};return M.allBasenames&&(H.allBasenames=M.allBasenames),M.allPaths&&(H.allPaths=M.allPaths),H}return tt(j,q)}t.$xj=Z;function _(j){const q=j;return q?typeof q.base=="string"&&typeof q.pattern=="string":!1}t.$yj=_;function x(j){return j.allBasenames||[]}t.$zj=x;function et(j){return j.allPaths||[]}t.$Aj=et;function tt(j,q){const M=X(Object.getOwnPropertyNames(j).map(W=>y(W,j[W],q)).filter(W=>W!==I)),H=M.length;if(!H)return I;if(!M.some(W=>!!W.requiresSiblings)){if(H===1)return M[0];const W=function(l,s){let a;for(let v=0,S=M.length;v<S;v++){const Q=M[v](l,s);if(typeof Q=="string")return Q;(0,F.$Hg)(Q)&&(a||(a=[]),a.push(Q))}return a?(async()=>{for(const v of a){const S=await v;if(typeof S=="string")return S}return null})():null},L=M.find(l=>!!l.allBasenames);L&&(W.allBasenames=L.allBasenames);const i=M.reduce((l,s)=>s.allPaths?l.concat(s.allPaths):l,[]);return i.length&&(W.allPaths=i),W}const Y=function(W,L,i){let l,s;for(let a=0,v=M.length;a<v;a++){const S=M[a];S.requiresSiblings&&i&&(L||(L=(0,V.$nc)(W)),l||(l=L.substr(0,L.length-(0,V.$oc)(W).length)));const Q=S(W,L,l,i);if(typeof Q=="string")return Q;(0,F.$Hg)(Q)&&(s||(s=[]),s.push(Q))}return s?(async()=>{for(const a of s){const v=await a;if(typeof v=="string")return v}return null})():null},J=M.find(W=>!!W.allBasenames);J&&(Y.allBasenames=J.allBasenames);const K=M.reduce((W,L)=>L.allPaths?W.concat(L.allPaths):W,[]);return K.length&&(Y.allPaths=K),Y}function y(j,q,M){if(q===!1)return I;const H=O(j,M);if(H===I)return I;if(typeof q=="boolean")return H;if(q){const Y=q.when;if(typeof Y=="string"){const J=(K,W,L,i)=>{if(!i||!H(K,W))return null;const l=Y.replace("$(basename)",()=>L),s=i(l);return(0,F.$Hg)(s)?s.then(a=>a?j:null):s?j:null};return J.requiresSiblings=!0,J}}return H}function X(j,q){const M=j.filter(W=>!!W.basenames);if(M.length<2)return j;const H=M.reduce((W,L)=>{const i=L.basenames;return i?W.concat(i):W},[]);let Y;if(q){Y=[];for(let W=0,L=H.length;W<L;W++)Y.push(q)}else Y=M.reduce((W,L)=>{const i=L.patterns;return i?W.concat(i):W},[]);const J=function(W,L){if(typeof W!="string")return null;if(!L){let l;for(l=W.length;l>0;l--){const s=W.charCodeAt(l-1);if(s===47||s===92)break}L=W.substr(l)}const i=H.indexOf(L);return i!==-1?Y[i]:null};J.basenames=H,J.patterns=Y,J.allBasenames=H;const K=j.filter(W=>!W.basenames);return K.push(J),K}function it(j,q){return(0,T.$ub)(j,q,(M,H)=>typeof M=="string"&&typeof H=="string"?M===H:typeof M!="string"&&typeof H!="string"?M.base===H.base&&M.pattern===H.pattern:!1)}t.$Bj=it}),define(rt[24],lt([0,1,3,2,6]),function(st,t,T,F,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Rs=t.$Qs=t.$Ps=void 0;let P;function V(){return P||(P=new TextDecoder("UTF-16LE")),P}let G;function E(){return G||(G=new TextDecoder("UTF-16BE")),G}let g;function p(){return g||(g=F.$D()?V():E()),g}t.$Ps=p;function R($,d,c){const o=new Uint16Array($.buffer,d,c);return c>0&&(o[0]===65279||o[0]===65534)?m($,d,c):V().decode(o)}t.$Qs=R;function m($,d,c){const o=[];let e=0;for(let r=0;r<c;r++){const n=D.$ee($,d);d+=2,o[e++]=String.fromCharCode(n)}return o.join("")}class k{constructor(d){this.a=d|0,this.b=new Uint16Array(this.a),this.c=null,this.d=0}reset(){this.c=null,this.d=0}build(){return this.c!==null?(this.f(),this.c.join("")):this.e()}e(){if(this.d===0)return"";const d=new Uint16Array(this.b.buffer,0,this.d);return p().decode(d)}f(){const d=this.e();this.d=0,this.c===null?this.c=[d]:this.c[this.c.length]=d}appendCharCode(d){const c=this.a-this.d;c<=1&&(c===0||T.$7e(d))&&this.f(),this.b[this.d++]=d}appendASCIICharCode(d){this.d===this.a&&this.f(),this.b[this.d++]=d}appendString(d){const c=d.length;if(this.d+c>=this.a){this.f(),this.c[this.c.length]=d;return}for(let o=0;o<c;o++)this.b[this.d++]=d.charCodeAt(o)}}t.$Rs=k}),define(rt[25],lt([0,1,6,24]),function(st,t,T,F){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Ts=t.$Ss=void 0;function D(E){return E.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class P{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(g,p,R,m){this.oldPosition=g,this.oldText=p,this.newPosition=R,this.newText=m}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${D(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${D(this.oldText)}")`:`(replace@${this.oldPosition} "${D(this.oldText)}" with "${D(this.newText)}")`}static a(g){return 4+2*g.length}static c(g,p,R){const m=p.length;T.$he(g,m,R),R+=4;for(let k=0;k<m;k++)T.$fe(g,p.charCodeAt(k),R),R+=2;return R}static d(g,p){const R=T.$ge(g,p);return p+=4,(0,F.$Qs)(g,p,R)}writeSize(){return 4+4+P.a(this.oldText)+P.a(this.newText)}write(g,p){return T.$he(g,this.oldPosition,p),p+=4,T.$he(g,this.newPosition,p),p+=4,p=P.c(g,this.oldText,p),p=P.c(g,this.newText,p),p}static read(g,p,R){const m=T.$ge(g,p);p+=4;const k=T.$ge(g,p);p+=4;const $=P.d(g,p);p+=P.a($);const d=P.d(g,p);return p+=P.a(d),R.push(new P(m,$,k,d)),p}}t.$Ss=P;function V(E,g){return E===null||E.length===0?g:new G(E,g).compress()}t.$Ts=V;class G{constructor(g,p){this.a=g,this.c=p,this.d=[],this.e=0,this.f=this.a.length,this.g=0,this.h=this.c.length,this.j=0}compress(){let g=0,p=0,R=this.n(g),m=this.l(p);for(;g<this.f||p<this.h;){if(R===null){this.k(m),m=this.l(++p);continue}if(m===null){this.m(R),R=this.n(++g);continue}if(m.oldEnd<=R.newPosition){this.k(m),m=this.l(++p);continue}if(R.newEnd<=m.oldPosition){this.m(R),R=this.n(++g);continue}if(m.oldPosition<R.newPosition){const[o,e]=G.r(m,R.newPosition-m.oldPosition);this.k(o),m=e;continue}if(R.newPosition<m.oldPosition){const[o,e]=G.q(R,m.oldPosition-R.newPosition);this.m(o),R=e;continue}let d,c;if(m.oldEnd===R.newEnd)d=R,c=m,R=this.n(++g),m=this.l(++p);else if(m.oldEnd<R.newEnd){const[o,e]=G.q(R,m.oldLength);d=o,c=m,R=e,m=this.l(++p)}else{const[o,e]=G.r(m,R.newLength);d=R,c=o,R=this.n(++g),m=e}this.d[this.e++]=new P(d.oldPosition,d.oldText,c.newPosition,c.newText),this.g+=d.newLength-d.oldLength,this.j+=c.newLength-c.oldLength}const k=G.s(this.d);return G.t(k)}k(g){this.d[this.e++]=G.o(this.g,g),this.j+=g.newLength-g.oldLength}l(g){return g<this.h?this.c[g]:null}m(g){this.d[this.e++]=G.p(this.j,g),this.g+=g.newLength-g.oldLength}n(g){return g<this.f?this.a[g]:null}static o(g,p){return new P(p.oldPosition-g,p.oldText,p.newPosition,p.newText)}static p(g,p){return new P(p.oldPosition,p.oldText,p.newPosition+g,p.newText)}static q(g,p){const R=g.newText.substr(0,p),m=g.newText.substr(p);return[new P(g.oldPosition,g.oldText,g.newPosition,R),new P(g.oldEnd,"",g.newPosition+p,m)]}static r(g,p){const R=g.oldText.substr(0,p),m=g.oldText.substr(p);return[new P(g.oldPosition,R,g.newPosition,g.newText),new P(g.oldPosition+p,m,g.newEnd,"")]}static s(g){if(g.length===0)return g;const p=[];let R=0,m=g[0];for(let k=1;k<g.length;k++){const $=g[k];m.oldEnd===$.oldPosition?m=new P(m.oldPosition,m.oldText+$.oldText,m.newPosition,m.newText+$.newText):(p[R++]=m,m=$)}return p[R++]=m,p}static t(g){if(g.length===0)return g;const p=[];let R=0;for(let m=0;m<g.length;m++){const k=g[m];k.oldText!==k.newText&&(p[R++]=k)}return p}}}),define(rt[26],lt([0,1,22,3,9,17,8,15,25,7]),function(st,t,T,F,D,P,V,G,E,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$JB=void 0;class p extends g.$Sc{constructor(m,k,$,d,c,o,e){super(),this.m=this.B(new T.$Od),this.onDidChangeContent=this.m.event,this.f=k,this.j=!o,this.g=d,this.h=c,this.c=new V.$IB(m,$,e)}equals(m){return!(m instanceof p)||this.f!==m.f||this.getEOL()!==m.getEOL()?!1:this.c.equal(m.c)}mightContainRTL(){return this.g}mightContainUnusualLineTerminators(){return this.h}resetMightContainUnusualLineTerminators(){this.h=!1}mightContainNonBasicASCII(){return this.j}getBOM(){return this.f}getEOL(){return this.c.getEOL()}createSnapshot(m){return this.c.createSnapshot(m?this.f:"")}getOffsetAt(m,k){return this.c.getOffsetAt(m,k)}getPositionAt(m){return this.c.getPositionAt(m)}getRangeAt(m,k){const $=m+k,d=this.getPositionAt(m),c=this.getPositionAt($);return new D.$xs(d.lineNumber,d.column,c.lineNumber,c.column)}getValueInRange(m,k=0){if(m.isEmpty())return"";const $=this.n(k);return this.c.getValueInRange(m,$)}getValueLengthInRange(m,k=0){if(m.isEmpty())return 0;if(m.startLineNumber===m.endLineNumber)return m.endColumn-m.startColumn;const $=this.getOffsetAt(m.startLineNumber,m.startColumn),d=this.getOffsetAt(m.endLineNumber,m.endColumn);let c=0;const o=this.n(k),e=this.getEOL();if(o.length!==e.length){const r=o.length-e.length,n=m.endLineNumber-m.startLineNumber;c=r*n}return d-$+c}getCharacterCountInRange(m,k=0){if(this.j){let $=0;const d=m.startLineNumber,c=m.endLineNumber;for(let o=d;o<=c;o++){const e=this.getLineContent(o),r=o===d?m.startColumn-1:0,n=o===c?m.endColumn-1:e.length;for(let u=r;u<n;u++)F.$7e(e.charCodeAt(u))?($=$+1,u=u+1):$=$+1}return $+=this.n(k).length*(c-d),$}return this.getValueLengthInRange(m,k)}getLength(){return this.c.getLength()}getLineCount(){return this.c.getLineCount()}getLinesContent(){return this.c.getLinesContent()}getLineContent(m){return this.c.getLineContent(m)}getLineCharCode(m,k){return this.c.getLineCharCode(m,k)}getCharCode(m){return this.c.getCharCode(m)}getLineLength(m){return this.c.getLineLength(m)}getLineMinColumn(m){return 1}getLineMaxColumn(m){return this.getLineLength(m)+1}getLineFirstNonWhitespaceColumn(m){const k=F.$Re(this.getLineContent(m));return k===-1?0:k+1}getLineLastNonWhitespaceColumn(m){const k=F.$Te(this.getLineContent(m));return k===-1?0:k+2}n(m){switch(m){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(m){this.c.setEOL(m)}applyEdits(m,k,$){let d=this.g,c=this.h,o=this.j,e=!0,r=[];for(let A=0;A<m.length;A++){const f=m[A];e&&f._isTracked&&(e=!1);const C=f.range;if(f.text){let z=!0;o||(z=!F.$ff(f.text),o=z),!d&&z&&(d=F.$ef(f.text)),!c&&z&&(c=F.$hf(f.text))}let N="",U=0,B=0,w=0;if(f.text){let z;[U,B,w,z]=(0,G.$0s)(f.text);const Z=this.getEOL();z===0||z===(Z===`\r
`?2:1)?N=f.text:N=f.text.replace(/\r\n|\r|\n/g,Z)}r[A]={sortIndex:A,identifier:f.identifier||null,range:C,rangeOffset:this.getOffsetAt(C.startLineNumber,C.startColumn),rangeLength:this.getValueLengthInRange(C),text:N,eolCount:U,firstLineLength:B,lastLineLength:w,forceMoveMarkers:!!f.forceMoveMarkers,isAutoWhitespaceEdit:f.isAutoWhitespaceEdit||!1}}r.sort(p.u);let n=!1;for(let A=0,f=r.length-1;A<f;A++){const C=r[A].range.getEndPosition(),N=r[A+1].range.getStartPosition();if(N.isBeforeOrEqual(C)){if(N.isBefore(C))throw new Error("Overlapping ranges are not allowed!");n=!0}}e&&(r=this.s(r));const u=$||k?p._getInverseEditRanges(r):[],h=[];if(k)for(let A=0;A<r.length;A++){const f=r[A],C=u[A];if(f.isAutoWhitespaceEdit&&f.range.isEmpty())for(let N=C.startLineNumber;N<=C.endLineNumber;N++){let U="";N===C.startLineNumber&&(U=this.getLineContent(f.range.startLineNumber),F.$Re(U)!==-1)||h.push({lineNumber:N,oldContent:U})}}let b=null;if($){let A=0;b=[];for(let f=0;f<r.length;f++){const C=r[f],N=u[f],U=this.getValueInRange(C.range),B=C.rangeOffset+A;A+=C.text.length-U.length,b[f]={sortIndex:C.sortIndex,identifier:C.identifier,range:N,text:U,textChange:new E.$Ss(C.rangeOffset,U,B,C.text)}}n||b.sort((f,C)=>f.sortIndex-C.sortIndex)}this.g=d,this.h=c,this.j=o;const I=this.t(r);let O=null;if(k&&h.length>0){h.sort((A,f)=>f.lineNumber-A.lineNumber),O=[];for(let A=0,f=h.length;A<f;A++){const C=h[A].lineNumber;if(A>0&&h[A-1].lineNumber===C)continue;const N=h[A].oldContent,U=this.getLineContent(C);U.length===0||U===N||F.$Re(U)!==-1||O.push(C)}}return this.m.fire(),new P.$Su(b,I,O)}s(m){return m.length<1e3?m:[this._toSingleEditOperation(m)]}_toSingleEditOperation(m){let k=!1;const $=m[0].range,d=m[m.length-1].range,c=new D.$xs($.startLineNumber,$.startColumn,d.endLineNumber,d.endColumn);let o=$.startLineNumber,e=$.startColumn;const r=[];for(let I=0,O=m.length;I<O;I++){const A=m[I],f=A.range;k=k||A.forceMoveMarkers,r.push(this.getValueInRange(new D.$xs(o,e,f.startLineNumber,f.startColumn))),A.text.length>0&&r.push(A.text),o=f.endLineNumber,e=f.endColumn}const n=r.join(""),[u,h,b]=(0,G.$0s)(n);return{sortIndex:0,identifier:m[0].identifier,range:c,rangeOffset:this.getOffsetAt(c.startLineNumber,c.startColumn),rangeLength:this.getValueLengthInRange(c,0),text:n,eolCount:u,firstLineLength:h,lastLineLength:b,forceMoveMarkers:k,isAutoWhitespaceEdit:!1}}t(m){m.sort(p.w);const k=[];for(let $=0;$<m.length;$++){const d=m[$],c=d.range.startLineNumber,o=d.range.startColumn,e=d.range.endLineNumber,r=d.range.endColumn;if(c===e&&o===r&&d.text.length===0)continue;d.text?(this.c.delete(d.rangeOffset,d.rangeLength),this.c.insert(d.rangeOffset,d.text,!0)):this.c.delete(d.rangeOffset,d.rangeLength);const n=new D.$xs(c,o,e,r);k.push({range:n,rangeLength:d.rangeLength,text:d.text,rangeOffset:d.rangeOffset,forceMoveMarkers:d.forceMoveMarkers})}return k}findMatchesLineByLine(m,k,$,d){return this.c.findMatchesLineByLine(m,k,$,d)}getPieceTree(){return this.c}static _getInverseEditRange(m,k){const $=m.startLineNumber,d=m.startColumn,[c,o,e]=(0,G.$0s)(k);let r;if(k.length>0){const n=c+1;n===1?r=new D.$xs($,d,$,d+o):r=new D.$xs($,d,$+n-1,e+1)}else r=new D.$xs($,d,$,d);return r}static _getInverseEditRanges(m){const k=[];let $=0,d=0,c=null;for(let o=0,e=m.length;o<e;o++){const r=m[o];let n,u;c?c.range.endLineNumber===r.range.startLineNumber?(n=$,u=d+(r.range.startColumn-c.range.endColumn)):(n=$+(r.range.startLineNumber-c.range.endLineNumber),u=r.range.startColumn):(n=r.range.startLineNumber,u=r.range.startColumn);let h;if(r.text.length>0){const b=r.eolCount+1;b===1?h=new D.$xs(n,u,n,u+r.firstLineLength):h=new D.$xs(n,u,n+b-1,r.lastLineLength+1)}else h=new D.$xs(n,u,n,u);$=h.endLineNumber,d=h.endColumn,k.push(h),c=r}return k}static u(m,k){const $=D.$xs.compareRangesUsingEnds(m.range,k.range);return $===0?m.sortIndex-k.sortIndex:$}static w(m,k){const $=D.$xs.compareRangesUsingEnds(m.range,k.range);return $===0?k.sortIndex-m.sortIndex:-$}}t.$JB=p}),define(rt[27],lt([0,1,3,8,26]),function(st,t,T,F,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$KB=void 0;class P{constructor(E,g,p,R,m,k,$,d,c){this.a=E,this.b=g,this.c=p,this.d=R,this.e=m,this.f=k,this.g=$,this.h=d,this.j=c}k(E){const g=this.c+this.d+this.e,p=this.c+this.e;return g===0?E===1?`
`:`\r
`:p>g/2?`\r
`:`
`}create(E){const g=this.k(E),p=this.a;if(this.j&&(g===`\r
`&&(this.c>0||this.d>0)||g===`
`&&(this.c>0||this.e>0)))for(let m=0,k=p.length;m<k;m++){const $=p[m].buffer.replace(/\r\n|\r|\n/g,g),d=(0,F.$EB)($);p[m]=new F.$HB($,d)}const R=new D.$JB(p,this.b,g,this.f,this.g,this.h,this.j);return{textBuffer:R,disposable:R}}getFirstLineText(E){return this.a[0].buffer.substr(0,E).split(/\r\n|\r|\n/)[0]}}class V{constructor(){this.a=[],this.b="",this.c=!1,this.d=0,this.e=[],this.f=0,this.g=0,this.h=0,this.j=!1,this.k=!1,this.l=!0}acceptChunk(E){if(E.length===0)return;this.a.length===0&&T.$nf(E)&&(this.b=T.$mf,E=E.substr(1));const g=E.charCodeAt(E.length-1);g===13||g>=55296&&g<=56319?(this.m(E.substr(0,E.length-1),!1),this.c=!0,this.d=g):(this.m(E,!1),this.c=!1,this.d=g)}m(E,g){!g&&E.length===0||(this.c?this.n(String.fromCharCode(this.d)+E):this.n(E))}n(E){const g=(0,F.$FB)(this.e,E);this.a.push(new F.$HB(E,g.lineStarts)),this.f+=g.cr,this.g+=g.lf,this.h+=g.crlf,g.isBasicASCII||(this.l=!1,this.j||(this.j=T.$ef(E)),this.k||(this.k=T.$hf(E)))}finish(E=!0){return this.o(),new P(this.a,this.b,this.f,this.g,this.h,this.j,this.k,this.l,E)}o(){if(this.a.length===0&&this.m("",!0),this.c){this.c=!1;const E=this.a[this.a.length-1];E.buffer+=String.fromCharCode(this.d);const g=(0,F.$EB)(E.buffer);E.lineStarts=g,this.d===13&&this.f++}}}t.$KB=V}),define(rt[28],lt([29,30]),function(st,t){return st.create("vs/platform/contextkey/common/contextkey",t)}),define(rt[31],lt([29,30]),function(st,t){return st.create("vs/platform/contextkey/common/scanner",t)}),define(rt[32],lt([0,1,4,31]),function(st,t,T,F){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Li=t.TokenType=void 0;var D;(function(g){g[g.LParen=0]="LParen",g[g.RParen=1]="RParen",g[g.Neg=2]="Neg",g[g.Eq=3]="Eq",g[g.NotEq=4]="NotEq",g[g.Lt=5]="Lt",g[g.LtEq=6]="LtEq",g[g.Gt=7]="Gt",g[g.GtEq=8]="GtEq",g[g.RegexOp=9]="RegexOp",g[g.RegexStr=10]="RegexStr",g[g.True=11]="True",g[g.False=12]="False",g[g.In=13]="In",g[g.Not=14]="Not",g[g.And=15]="And",g[g.Or=16]="Or",g[g.Str=17]="Str",g[g.QuotedStr=18]="QuotedStr",g[g.Error=19]="Error",g[g.EOF=20]="EOF"})(D||(t.TokenType=D={}));function P(...g){switch(g.length){case 1:return(0,F.localize)(0,null,g[0]);case 2:return(0,F.localize)(1,null,g[0],g[1]);case 3:return(0,F.localize)(2,null,g[0],g[1],g[2]);default:return}}const V=(0,F.localize)(3,null),G=(0,F.localize)(4,null);class E{constructor(){this.c="",this.d=0,this.e=0,this.f=[],this.g=[],this.m=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(p){switch(p.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return p.isTripleEq?"===":"==";case 4:return p.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return p.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return p.lexeme;case 18:return p.lexeme;case 19:return p.lexeme;case 20:return"EOF";default:throw(0,T.$8)(`unhandled token type: ${JSON.stringify(p)}; have you forgotten to add a case?`)}}static{this.a=new Set(["i","g","s","m","y","u"].map(p=>p.charCodeAt(0)))}static{this.b=new Map([["not",14],["in",13],["false",12],["true",11]])}get errors(){return this.g}reset(p){return this.c=p,this.d=0,this.e=0,this.f=[],this.g=[],this}scan(){for(;!this.r();)switch(this.d=this.e,this.i()){case 40:this.k(0);break;case 41:this.k(1);break;case 33:if(this.h(61)){const R=this.h(61);this.f.push({type:4,offset:this.d,isTripleEq:R})}else this.k(2);break;case 39:this.o();break;case 47:this.q();break;case 61:if(this.h(61)){const R=this.h(61);this.f.push({type:3,offset:this.d,isTripleEq:R})}else this.h(126)?this.k(9):this.l(P("==","=~"));break;case 60:this.k(this.h(61)?6:5);break;case 62:this.k(this.h(61)?8:7);break;case 38:this.h(38)?this.k(15):this.l(P("&&"));break;case 124:this.h(124)?this.k(16):this.l(P("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this.n()}return this.d=this.e,this.k(20),Array.from(this.f)}h(p){return this.r()||this.c.charCodeAt(this.e)!==p?!1:(this.e++,!0)}i(){return this.c.charCodeAt(this.e++)}j(){return this.r()?0:this.c.charCodeAt(this.e)}k(p){this.f.push({type:p,offset:this.d})}l(p){const R=this.d,m=this.c.substring(this.d,this.e),k={type:19,offset:this.d,lexeme:m};this.g.push({offset:R,lexeme:m,additionalInfo:p}),this.f.push(k)}n(){this.m.lastIndex=this.d;const p=this.m.exec(this.c);if(p){this.e=this.d+p[0].length;const R=this.c.substring(this.d,this.e),m=E.b.get(R);m?this.k(m):this.f.push({type:17,lexeme:R,offset:this.d})}}o(){for(;this.j()!==39&&!this.r();)this.i();if(this.r()){this.l(V);return}this.i(),this.f.push({type:18,lexeme:this.c.substring(this.d+1,this.e-1),offset:this.d+1})}q(){let p=this.e,R=!1,m=!1;for(;;){if(p>=this.c.length){this.e=p,this.l(G);return}const $=this.c.charCodeAt(p);if(R)R=!1;else if($===47&&!m){p++;break}else $===91?m=!0:$===92?R=!0:$===93&&(m=!1);p++}for(;p<this.c.length&&E.a.has(this.c.charCodeAt(p));)p++;this.e=p;const k=this.c.substring(this.d,this.e);this.f.push({type:10,lexeme:k,offset:this.d})}r(){return this.e>=this.c.length}}t.$Li=E}),define(rt[33],lt([0,1]),function(st,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Rh=t.$Qh=t.$Ph=t._util=void 0;var T;(function(V){V.serviceIds=new Map,V.DI_TARGET="$di$target",V.DI_DEPENDENCIES="$di$dependencies";function G(E){return E[V.DI_DEPENDENCIES]||[]}V.getServiceDependencies=G})(T||(t._util=T={})),t.$Ph=D("instantiationService");function F(V,G,E){G[T.DI_TARGET]===G?G[T.DI_DEPENDENCIES].push({id:V,index:E}):(G[T.DI_DEPENDENCIES]=[{id:V,index:E}],G[T.DI_TARGET]=G)}function D(V){if(T.serviceIds.has(V))return T.serviceIds.get(V);const G=function(E,g,p){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");F(G,E,p)};return G.toString=()=>V,T.serviceIds.set(V,G),G}t.$Qh=D;function P(V){return V}t.$Rh=P}),define(rt[34],lt([0,1,2,3,32,33,28,4]),function(st,t,T,F,D,P,V,G){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$0i=t.$9i=t.$8i=t.$7i=t.$6i=t.$5i=t.$4i=t.$3i=t.$2i=t.$1i=t.$Zi=t.$Yi=t.$Xi=t.$Wi=t.$Vi=t.$Ui=t.$Ti=t.$Si=t.$Ri=t.$Qi=t.$Pi=t.$Oi=t.$Ni=t.ContextKeyExprType=t.$Mi=void 0;const E=new Map;E.set("false",!1),E.set("true",!0),E.set("isMac",T.$k),E.set("isLinux",T.$l),E.set("isWindows",T.$j),E.set("isWeb",T.$p),E.set("isMacNative",T.$k&&!T.$p),E.set("isEdge",T.$H),E.set("isFirefox",T.$F),E.set("isChrome",T.$E),E.set("isSafari",T.$G);function g(L,i){if(E.get(L)!==void 0)throw(0,G.$7)("contextkey.setConstant(k, v) invoked with already set constant `k`");E.set(L,i)}t.$Mi=g;const p=Object.prototype.hasOwnProperty;var R;(function(L){L[L.False=0]="False",L[L.True=1]="True",L[L.Defined=2]="Defined",L[L.Not=3]="Not",L[L.Equals=4]="Equals",L[L.NotEquals=5]="NotEquals",L[L.And=6]="And",L[L.Regex=7]="Regex",L[L.NotRegex=8]="NotRegex",L[L.Or=9]="Or",L[L.In=10]="In",L[L.NotIn=11]="NotIn",L[L.Greater=12]="Greater",L[L.GreaterEquals=13]="GreaterEquals",L[L.Smaller=14]="Smaller",L[L.SmallerEquals=15]="SmallerEquals"})(R||(t.ContextKeyExprType=R={}));const m={regexParsingWithErrorRecovery:!0},k=(0,V.localize)(0,null),$=(0,V.localize)(1,null),d=(0,V.localize)(2,null),c=(0,V.localize)(3,null),o=(0,V.localize)(4,null),e=(0,V.localize)(5,null),r=(0,V.localize)(6,null),n=(0,V.localize)(7,null);class u{static{this.c=new Error}get lexingErrors(){return this.d.errors}get parsingErrors(){return this.h}constructor(i=m){this.k=i,this.d=new D.$Li,this.f=[],this.g=0,this.h=[],this.v=/g|y/g}parse(i){if(i===""){this.h.push({message:k,offset:0,lexeme:"",additionalInfo:$});return}this.f=this.d.reset(i).scan(),this.g=0,this.h=[];try{const l=this.l();if(!this.E()){const s=this.D(),a=s.type===17?e:void 0;throw this.h.push({message:o,offset:s.offset,lexeme:D.$Li.getLexeme(s),additionalInfo:a}),u.c}return l}catch(l){if(l!==u.c)throw l;return}}l(){return this.m()}m(){const i=[this.o()];for(;this.y(16);){const l=this.o();i.push(l)}return i.length===1?i[0]:h.or(...i)}o(){const i=[this.s()];for(;this.y(15);){const l=this.s();i.push(l)}return i.length===1?i[0]:h.and(...i)}s(){if(this.y(2)){const i=this.D();switch(i.type){case 11:return this.z(),A.INSTANCE;case 12:return this.z(),f.INSTANCE;case 0:{this.z();const l=this.l();return this.A(1,c),l?.negate()}case 17:return this.z(),z.create(i.lexeme);default:throw this.B("KEY | true | false | '(' expression ')'",i)}}return this.t()}t(){const i=this.D();switch(i.type){case 11:return this.z(),h.true();case 12:return this.z(),h.false();case 0:{this.z();const l=this.l();return this.A(1,c),l}case 17:{const l=i.lexeme;if(this.z(),this.y(9)){const a=this.D();if(!this.k.regexParsingWithErrorRecovery){if(this.z(),a.type!==10)throw this.B("REGEX",a);const v=a.lexeme,S=v.lastIndexOf("/"),Q=S===v.length-1?void 0:this.w(v.substring(S+1));let nt;try{nt=new RegExp(v.substring(1,S),Q)}catch{throw this.B("REGEX",a)}return y.create(l,nt)}switch(a.type){case 10:case 19:{const v=[a.lexeme];this.z();let S=this.D(),Q=0;for(let ht=0;ht<a.lexeme.length;ht++)a.lexeme.charCodeAt(ht)===40?Q++:a.lexeme.charCodeAt(ht)===41&&Q--;for(;!this.E()&&S.type!==15&&S.type!==16;){switch(S.type){case 0:Q++;break;case 1:Q--;break;case 10:case 18:for(let ht=0;ht<S.lexeme.length;ht++)S.lexeme.charCodeAt(ht)===40?Q++:a.lexeme.charCodeAt(ht)===41&&Q--}if(Q<0)break;v.push(D.$Li.getLexeme(S)),this.z(),S=this.D()}const nt=v.join(""),ut=nt.lastIndexOf("/"),ct=ut===nt.length-1?void 0:this.w(nt.substring(ut+1));let at;try{at=new RegExp(nt.substring(1,ut),ct)}catch{throw this.B("REGEX",a)}return h.regex(l,at)}case 18:{const v=a.lexeme;this.z();let S=null;if(!(0,F.$Ce)(v)){const Q=v.indexOf("/"),nt=v.lastIndexOf("/");if(Q!==nt&&Q>=0){const ut=v.slice(Q+1,nt),ct=v[nt+1]==="i"?"i":"";try{S=new RegExp(ut,ct)}catch{throw this.B("REGEX",a)}}}if(S===null)throw this.B("REGEX",a);return y.create(l,S)}default:throw this.B("REGEX",this.D())}}if(this.y(14)){this.A(13,d);const a=this.u();return h.notIn(l,a)}switch(this.D().type){case 3:{this.z();const a=this.u();if(this.x().type===18)return h.equals(l,a);switch(a){case"true":return h.has(l);case"false":return h.not(l);default:return h.equals(l,a)}}case 4:{this.z();const a=this.u();if(this.x().type===18)return h.notEquals(l,a);switch(a){case"true":return h.not(l);case"false":return h.has(l);default:return h.notEquals(l,a)}}case 5:return this.z(),et.create(l,this.u());case 6:return this.z(),tt.create(l,this.u());case 7:return this.z(),_.create(l,this.u());case 8:return this.z(),x.create(l,this.u());case 13:return this.z(),h.in(l,this.u());default:return h.has(l)}}case 20:throw this.h.push({message:r,offset:i.offset,lexeme:"",additionalInfo:n}),u.c;default:throw this.B(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this.D())}}u(){const i=this.D();switch(i.type){case 17:case 18:return this.z(),i.lexeme;case 11:return this.z(),"true";case 12:return this.z(),"false";case 13:return this.z(),"in";default:return""}}w(i){return i.replaceAll(this.v,"")}x(){return this.f[this.g-1]}y(i){return this.C(i)?(this.z(),!0):!1}z(){return this.E()||this.g++,this.x()}A(i,l){if(this.C(i))return this.z();throw this.B(l,this.D())}B(i,l,s){const a=(0,V.localize)(8,null,i,D.$Li.getLexeme(l)),v=l.offset,S=D.$Li.getLexeme(l);return this.h.push({message:a,offset:v,lexeme:S,additionalInfo:s}),u.c}C(i){return this.D().type===i}D(){return this.f[this.g]}E(){return this.D().type===20}}t.$Ni=u;class h{static false(){return A.INSTANCE}static true(){return f.INSTANCE}static has(i){return C.create(i)}static equals(i,l){return N.create(i,l)}static notEquals(i,l){return w.create(i,l)}static regex(i,l){return y.create(i,l)}static in(i,l){return U.create(i,l)}static notIn(i,l){return B.create(i,l)}static not(i){return z.create(i)}static and(...i){return j.create(i,null,!0)}static or(...i){return q.create(i,null,!0)}static greater(i,l){return _.create(i,l)}static greaterEquals(i,l){return x.create(i,l)}static smaller(i,l){return et.create(i,l)}static smallerEquals(i,l){return tt.create(i,l)}static{this.c=new u({regexParsingWithErrorRecovery:!1})}static deserialize(i){return i==null?void 0:this.c.parse(i)}}t.$Oi=h;function b(L){const i=new u({regexParsingWithErrorRecovery:!1});return L.map(l=>(i.parse(l),i.lexingErrors.length>0?i.lexingErrors.map(s=>({errorMessage:s.additionalInfo?(0,V.localize)(9,null,s.additionalInfo):(0,V.localize)(10,null),offset:s.offset,length:s.lexeme.length})):i.parsingErrors.length>0?i.parsingErrors.map(s=>({errorMessage:s.additionalInfo?`${s.message}. ${s.additionalInfo}`:s.message,offset:s.offset,length:s.lexeme.length})):[]))}t.$Pi=b;function I(L,i){const l=L?L.substituteConstants():void 0,s=i?i.substituteConstants():void 0;return!l&&!s?!0:!l||!s?!1:l.equals(s)}t.$Qi=I;function O(L,i){return L.cmp(i)}class A{static{this.INSTANCE=new A}constructor(){this.type=0}cmp(i){return this.type-i.type}equals(i){return i.type===this.type}substituteConstants(){return this}evaluate(i){return!1}serialize(){return"false"}keys(){return[]}map(i){return this}negate(){return f.INSTANCE}}t.$Ri=A;class f{static{this.INSTANCE=new f}constructor(){this.type=1}cmp(i){return this.type-i.type}equals(i){return i.type===this.type}substituteConstants(){return this}evaluate(i){return!0}serialize(){return"true"}keys(){return[]}map(i){return this}negate(){return A.INSTANCE}}t.$Si=f;class C{static create(i,l=null){const s=E.get(i);return typeof s=="boolean"?s?f.INSTANCE:A.INSTANCE:new C(i,l)}constructor(i,l){this.key=i,this.c=l,this.type=2}cmp(i){return i.type!==this.type?this.type-i.type:H(this.key,i.key)}equals(i){return i.type===this.type?this.key===i.key:!1}substituteConstants(){const i=E.get(this.key);return typeof i=="boolean"?i?f.INSTANCE:A.INSTANCE:this}evaluate(i){return!!i.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(i){return i.mapDefined(this.key)}negate(){return this.c||(this.c=z.create(this.key,this)),this.c}}t.$Ti=C;class N{static create(i,l,s=null){if(typeof l=="boolean")return l?C.create(i,s):z.create(i,s);const a=E.get(i);return typeof a=="boolean"?l===(a?"true":"false")?f.INSTANCE:A.INSTANCE:new N(i,l,s)}constructor(i,l,s){this.c=i,this.d=l,this.f=s,this.type=4}cmp(i){return i.type!==this.type?this.type-i.type:Y(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){const i=E.get(this.c);if(typeof i=="boolean"){const l=i?"true":"false";return this.d===l?f.INSTANCE:A.INSTANCE}return this}evaluate(i){return i.getValue(this.c)==this.d}serialize(){return`${this.c} == '${this.d}'`}keys(){return[this.c]}map(i){return i.mapEquals(this.c,this.d)}negate(){return this.f||(this.f=w.create(this.c,this.d,this)),this.f}}t.$Ui=N;class U{static create(i,l){return new U(i,l)}constructor(i,l){this.d=i,this.f=l,this.type=10,this.c=null}cmp(i){return i.type!==this.type?this.type-i.type:Y(this.d,this.f,i.d,i.f)}equals(i){return i.type===this.type?this.d===i.d&&this.f===i.f:!1}substituteConstants(){return this}evaluate(i){const l=i.getValue(this.f),s=i.getValue(this.d);return Array.isArray(l)?l.includes(s):typeof s=="string"&&typeof l=="object"&&l!==null?p.call(l,s):!1}serialize(){return`${this.d} in '${this.f}'`}keys(){return[this.d,this.f]}map(i){return i.mapIn(this.d,this.f)}negate(){return this.c||(this.c=B.create(this.d,this.f)),this.c}}t.$Vi=U;class B{static create(i,l){return new B(i,l)}constructor(i,l){this.d=i,this.f=l,this.type=11,this.c=U.create(i,l)}cmp(i){return i.type!==this.type?this.type-i.type:this.c.cmp(i.c)}equals(i){return i.type===this.type?this.c.equals(i.c):!1}substituteConstants(){return this}evaluate(i){return!this.c.evaluate(i)}serialize(){return`${this.d} not in '${this.f}'`}keys(){return this.c.keys()}map(i){return i.mapNotIn(this.d,this.f)}negate(){return this.c}}t.$Wi=B;class w{static create(i,l,s=null){if(typeof l=="boolean")return l?z.create(i,s):C.create(i,s);const a=E.get(i);return typeof a=="boolean"?l===(a?"true":"false")?A.INSTANCE:f.INSTANCE:new w(i,l,s)}constructor(i,l,s){this.c=i,this.d=l,this.f=s,this.type=5}cmp(i){return i.type!==this.type?this.type-i.type:Y(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){const i=E.get(this.c);if(typeof i=="boolean"){const l=i?"true":"false";return this.d===l?A.INSTANCE:f.INSTANCE}return this}evaluate(i){return i.getValue(this.c)!=this.d}serialize(){return`${this.c} != '${this.d}'`}keys(){return[this.c]}map(i){return i.mapNotEquals(this.c,this.d)}negate(){return this.f||(this.f=N.create(this.c,this.d,this)),this.f}}t.$Xi=w;class z{static create(i,l=null){const s=E.get(i);return typeof s=="boolean"?s?A.INSTANCE:f.INSTANCE:new z(i,l)}constructor(i,l){this.c=i,this.d=l,this.type=3}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,i.c)}equals(i){return i.type===this.type?this.c===i.c:!1}substituteConstants(){const i=E.get(this.c);return typeof i=="boolean"?i?A.INSTANCE:f.INSTANCE:this}evaluate(i){return!i.getValue(this.c)}serialize(){return`!${this.c}`}keys(){return[this.c]}map(i){return i.mapNot(this.c)}negate(){return this.d||(this.d=C.create(this.c,this)),this.d}}t.$Yi=z;function Z(L,i){if(typeof L=="string"){const l=parseFloat(L);isNaN(l)||(L=l)}return typeof L=="string"||typeof L=="number"?i(L):A.INSTANCE}class _{static create(i,l,s=null){return Z(l,a=>new _(i,a,s))}constructor(i,l,s){this.c=i,this.d=l,this.f=s,this.type=12}cmp(i){return i.type!==this.type?this.type-i.type:Y(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))>this.d}serialize(){return`${this.c} > ${this.d}`}keys(){return[this.c]}map(i){return i.mapGreater(this.c,this.d)}negate(){return this.f||(this.f=tt.create(this.c,this.d,this)),this.f}}t.$Zi=_;class x{static create(i,l,s=null){return Z(l,a=>new x(i,a,s))}constructor(i,l,s){this.c=i,this.d=l,this.f=s,this.type=13}cmp(i){return i.type!==this.type?this.type-i.type:Y(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))>=this.d}serialize(){return`${this.c} >= ${this.d}`}keys(){return[this.c]}map(i){return i.mapGreaterEquals(this.c,this.d)}negate(){return this.f||(this.f=et.create(this.c,this.d,this)),this.f}}t.$1i=x;class et{static create(i,l,s=null){return Z(l,a=>new et(i,a,s))}constructor(i,l,s){this.c=i,this.d=l,this.f=s,this.type=14}cmp(i){return i.type!==this.type?this.type-i.type:Y(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))<this.d}serialize(){return`${this.c} < ${this.d}`}keys(){return[this.c]}map(i){return i.mapSmaller(this.c,this.d)}negate(){return this.f||(this.f=x.create(this.c,this.d,this)),this.f}}t.$2i=et;class tt{static create(i,l,s=null){return Z(l,a=>new tt(i,a,s))}constructor(i,l,s){this.c=i,this.d=l,this.f=s,this.type=15}cmp(i){return i.type!==this.type?this.type-i.type:Y(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))<=this.d}serialize(){return`${this.c} <= ${this.d}`}keys(){return[this.c]}map(i){return i.mapSmallerEquals(this.c,this.d)}negate(){return this.f||(this.f=_.create(this.c,this.d,this)),this.f}}t.$3i=tt;class y{static create(i,l){return new y(i,l)}constructor(i,l){this.d=i,this.f=l,this.type=7,this.c=null}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.d<i.d)return-1;if(this.d>i.d)return 1;const l=this.f?this.f.source:"",s=i.f?i.f.source:"";return l<s?-1:l>s?1:0}equals(i){if(i.type===this.type){const l=this.f?this.f.source:"",s=i.f?i.f.source:"";return this.d===i.d&&l===s}return!1}substituteConstants(){return this}evaluate(i){const l=i.getValue(this.d);return this.f?this.f.test(l):!1}serialize(){const i=this.f?`/${this.f.source}/${this.f.flags}`:"/invalid/";return`${this.d} =~ ${i}`}keys(){return[this.d]}map(i){return i.mapRegex(this.d,this.f)}negate(){return this.c||(this.c=X.create(this)),this.c}}t.$4i=y;class X{static create(i){return new X(i)}constructor(i){this.c=i,this.type=8}cmp(i){return i.type!==this.type?this.type-i.type:this.c.cmp(i.c)}equals(i){return i.type===this.type?this.c.equals(i.c):!1}substituteConstants(){return this}evaluate(i){return!this.c.evaluate(i)}serialize(){return`!(${this.c.serialize()})`}keys(){return this.c.keys()}map(i){return new X(this.c.map(i))}negate(){return this.c}}t.$5i=X;function it(L){let i=null;for(let l=0,s=L.length;l<s;l++){const a=L[l].substituteConstants();if(L[l]!==a&&i===null){i=[];for(let v=0;v<l;v++)i[v]=L[v]}i!==null&&(i[l]=a)}return i===null?L:i}class j{static create(i,l,s){return j.d(i,l,s)}constructor(i,l){this.expr=i,this.c=l,this.type=6}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.expr.length<i.expr.length)return-1;if(this.expr.length>i.expr.length)return 1;for(let l=0,s=this.expr.length;l<s;l++){const a=O(this.expr[l],i.expr[l]);if(a!==0)return a}return 0}equals(i){if(i.type===this.type){if(this.expr.length!==i.expr.length)return!1;for(let l=0,s=this.expr.length;l<s;l++)if(!this.expr[l].equals(i.expr[l]))return!1;return!0}return!1}substituteConstants(){const i=it(this.expr);return i===this.expr?this:j.create(i,this.c,!1)}evaluate(i){for(let l=0,s=this.expr.length;l<s;l++)if(!this.expr[l].evaluate(i))return!1;return!0}static d(i,l,s){const a=[];let v=!1;for(const S of i)if(S){if(S.type===1){v=!0;continue}if(S.type===0)return A.INSTANCE;if(S.type===6){a.push(...S.expr);continue}a.push(S)}if(a.length===0&&v)return f.INSTANCE;if(a.length!==0){if(a.length===1)return a[0];a.sort(O);for(let S=1;S<a.length;S++)a[S-1].equals(a[S])&&(a.splice(S,1),S--);if(a.length===1)return a[0];for(;a.length>1;){const S=a[a.length-1];if(S.type!==9)break;a.pop();const Q=a.pop(),nt=a.length===0,ut=q.create(S.expr.map(ct=>j.create([ct,Q],null,s)),null,nt);ut&&(a.push(ut),a.sort(O))}if(a.length===1)return a[0];if(s){for(let S=0;S<a.length;S++)for(let Q=S+1;Q<a.length;Q++)if(a[S].negate().equals(a[Q]))return A.INSTANCE;if(a.length===1)return a[0]}return new j(a,l)}}serialize(){return this.expr.map(i=>i.serialize()).join(" && ")}keys(){const i=[];for(const l of this.expr)i.push(...l.keys());return i}map(i){return new j(this.expr.map(l=>l.map(i)),null)}negate(){if(!this.c){const i=[];for(const l of this.expr)i.push(l.negate());this.c=q.create(i,this,!0)}return this.c}}t.$6i=j;class q{static create(i,l,s){return q.d(i,l,s)}constructor(i,l){this.expr=i,this.c=l,this.type=9}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.expr.length<i.expr.length)return-1;if(this.expr.length>i.expr.length)return 1;for(let l=0,s=this.expr.length;l<s;l++){const a=O(this.expr[l],i.expr[l]);if(a!==0)return a}return 0}equals(i){if(i.type===this.type){if(this.expr.length!==i.expr.length)return!1;for(let l=0,s=this.expr.length;l<s;l++)if(!this.expr[l].equals(i.expr[l]))return!1;return!0}return!1}substituteConstants(){const i=it(this.expr);return i===this.expr?this:q.create(i,this.c,!1)}evaluate(i){for(let l=0,s=this.expr.length;l<s;l++)if(this.expr[l].evaluate(i))return!0;return!1}static d(i,l,s){let a=[],v=!1;if(i){for(let S=0,Q=i.length;S<Q;S++){const nt=i[S];if(nt){if(nt.type===0){v=!0;continue}if(nt.type===1)return f.INSTANCE;if(nt.type===9){a=a.concat(nt.expr);continue}a.push(nt)}}if(a.length===0&&v)return A.INSTANCE;a.sort(O)}if(a.length!==0){if(a.length===1)return a[0];for(let S=1;S<a.length;S++)a[S-1].equals(a[S])&&(a.splice(S,1),S--);if(a.length===1)return a[0];if(s){for(let S=0;S<a.length;S++)for(let Q=S+1;Q<a.length;Q++)if(a[S].negate().equals(a[Q]))return f.INSTANCE;if(a.length===1)return a[0]}return new q(a,l)}}serialize(){return this.expr.map(i=>i.serialize()).join(" || ")}keys(){const i=[];for(const l of this.expr)i.push(...l.keys());return i}map(i){return new q(this.expr.map(l=>l.map(i)),null)}negate(){if(!this.c){const i=[];for(const l of this.expr)i.push(l.negate());for(;i.length>1;){const l=i.shift(),s=i.shift(),a=[];for(const v of W(l))for(const S of W(s))a.push(j.create([v,S],null,!1));i.unshift(q.create(a,null,!1))}this.c=q.create(i,this,!0)}return this.c}}t.$7i=q;class M extends C{static{this.d=[]}static all(){return M.d.values()}constructor(i,l,s){super(i,null),this.f=l,typeof s=="object"?M.d.push({...s,key:i}):s!==!0&&M.d.push({key:i,description:s,type:l!=null?typeof l:void 0})}bindTo(i){return i.createKey(this.key,this.f)}getValue(i){return i.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(i){return N.create(this.key,i)}notEqualsTo(i){return w.create(this.key,i)}}t.$8i=M,t.$9i=(0,P.$Qh)("contextKeyService");function H(L,i){return L<i?-1:L>i?1:0}function Y(L,i,l,s){return L<l?-1:L>l?1:i<s?-1:i>s?1:0}function J(L,i){if(L.type===0||i.type===1)return!0;if(L.type===9)return i.type===9?K(L.expr,i.expr):!1;if(i.type===9){for(const l of i.expr)if(J(L,l))return!0;return!1}if(L.type===6){if(i.type===6)return K(i.expr,L.expr);for(const l of L.expr)if(J(l,i))return!0;return!1}return L.equals(i)}t.$0i=J;function K(L,i){let l=0,s=0;for(;l<L.length&&s<i.length;){const a=L[l].cmp(i[s]);if(a<0)return!1;a===0&&l++,s++}return l===L.length}function W(L){return L.type===9?L.expr:[L]}}),define(rt[35],lt([0,1,6,23,42,19,11,5,2,34]),function(st,t,T,F,D,P,V,G,E,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$AI=t.$zI=t.$yI=t.$xI=t.CellStatusbarAlignment=t.$wI=t.$vI=t.$uI=t.NotebookEditorPriority=t.$tI=t.$sI=t.$rI=t.$qI=t.CellUri=t.CellEditType=t.SelectionStateType=t.NotebookCellsChangeType=t.RendererMessagingSpec=t.NotebookRendererMatch=t.NotebookExecutionState=t.NotebookCellExecutionState=t.NotebookRunState=t.$pI=t.$oI=t.$nI=t.$mI=t.CellKind=t.$lI=t.$kI=t.$jI=void 0,t.$jI="workbench.editor.notebook",t.$kI="workbench.editor.notebookTextDiffEditor",t.$lI="workbench.editor.interactive";var p;(function(y){y[y.Markup=1]="Markup",y[y.Code=2]="Code"})(p||(t.CellKind=p={})),t.$mI=["application/json","application/javascript","text/html","image/svg+xml",P.$Tr.latex,P.$Tr.markdown,"image/png","image/jpeg",P.$Tr.text],t.$nI=[P.$Tr.latex,P.$Tr.markdown,"application/json","text/html","image/svg+xml","image/png","image/jpeg",P.$Tr.text],t.$oI=new Map([["ms-toolsai.jupyter",new Set(["jupyter-notebook","interactive"])],["ms-toolsai.jupyter-renderers",new Set(["jupyter-notebook","interactive"])]]),t.$pI="_notAvailable";var R;(function(y){y[y.Running=1]="Running",y[y.Idle=2]="Idle"})(R||(t.NotebookRunState=R={}));var m;(function(y){y[y.Unconfirmed=1]="Unconfirmed",y[y.Pending=2]="Pending",y[y.Executing=3]="Executing"})(m||(t.NotebookCellExecutionState=m={}));var k;(function(y){y[y.Unconfirmed=1]="Unconfirmed",y[y.Pending=2]="Pending",y[y.Executing=3]="Executing"})(k||(t.NotebookExecutionState=k={}));var $;(function(y){y[y.WithHardKernelDependency=0]="WithHardKernelDependency",y[y.WithOptionalKernelDependency=1]="WithOptionalKernelDependency",y[y.Pure=2]="Pure",y[y.Never=3]="Never"})($||(t.NotebookRendererMatch=$={}));var d;(function(y){y.Always="always",y.Never="never",y.Optional="optional"})(d||(t.RendererMessagingSpec=d={}));var c;(function(y){y[y.ModelChange=1]="ModelChange",y[y.Move=2]="Move",y[y.ChangeCellLanguage=5]="ChangeCellLanguage",y[y.Initialize=6]="Initialize",y[y.ChangeCellMetadata=7]="ChangeCellMetadata",y[y.Output=8]="Output",y[y.OutputItem=9]="OutputItem",y[y.ChangeCellContent=10]="ChangeCellContent",y[y.ChangeDocumentMetadata=11]="ChangeDocumentMetadata",y[y.ChangeCellInternalMetadata=12]="ChangeCellInternalMetadata",y[y.ChangeCellMime=13]="ChangeCellMime",y[y.Unknown=100]="Unknown"})(c||(t.NotebookCellsChangeType=c={}));var o;(function(y){y[y.Handle=0]="Handle",y[y.Index=1]="Index"})(o||(t.SelectionStateType=o={}));var e;(function(y){y[y.Replace=1]="Replace",y[y.Output=2]="Output",y[y.Metadata=3]="Metadata",y[y.CellLanguage=4]="CellLanguage",y[y.DocumentMetadata=5]="DocumentMetadata",y[y.Move=6]="Move",y[y.OutputItems=7]="OutputItems",y[y.PartialMetadata=8]="PartialMetadata",y[y.PartialInternalMetadata=9]="PartialInternalMetadata"})(e||(t.CellEditType=e={}));var r;(function(y){y.scheme=V.Schemas.vscodeNotebookCell;const X=["W","X","Y","Z","a","b","c","d","e","f"],it=new RegExp(`^[${X.join("")}]+`),j=7;function q(W,L){const i=L.toString(j),s=`${i.length<X.length?X[i.length-1]:"z"}${i}s${(0,T.$we)(T.$ce.fromString(W.scheme),!0,!0)}`;return W.with({scheme:y.scheme,fragment:s})}y.generate=q;function M(W){if(W.scheme!==y.scheme)return;const L=W.fragment.indexOf("s");if(L<0)return;const i=parseInt(W.fragment.substring(0,L).replace(it,""),j),l=(0,T.$ve)(W.fragment.substring(L+1)).toString();if(!isNaN(i))return{handle:i,notebook:W.with({scheme:l,fragment:null})}}y.parse=M;function H(W,L){return W.with({scheme:V.Schemas.vscodeNotebookCellOutput,fragment:`op${L??""},${W.scheme!==V.Schemas.file?W.scheme:""}`})}y.generateCellOutputUri=H;function Y(W){if(W.scheme!==V.Schemas.vscodeNotebookCellOutput)return;const L=/^op([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})?\,(.*)$/i.exec(W.fragment);if(!L)return;const i=L[1]&&L[1]!==""?L[1]:void 0,l=L[2];return{outputId:i,notebook:W.with({scheme:l||V.Schemas.file,fragment:null})}}y.parseCellOutputUri=Y;function J(W,L,i){return y.generate(W,L).with({scheme:i})}y.generateCellPropertyUri=J;function K(W,L){if(W.scheme===L)return y.parse(W.with({scheme:y.scheme}))}y.parseCellPropertyUri=K})(r||(t.CellUri=r={}));const n=y=>E.$j?y.replace(/\//g,"\\"):y;class u{constructor(X=[],it=t.$mI){this.e=it,this.d=[...new Set(X)].map(j=>({pattern:j,matches:F.$xj(n(j))}))}sort(X){const it=new Map(D.Iterable.map(X,q=>[q,n(q)]));let j=[];for(const{matches:q}of this.d)for(const[M,H]of it)if(q(H)){j.push(M),it.delete(M);break}return it.size&&(j=j.concat([...it.keys()].sort((q,M)=>this.e.indexOf(q)-this.e.indexOf(M)))),j}prioritize(X,it){const j=this.f(X);if(j===-1){this.d.unshift({pattern:X,matches:F.$xj(n(X))});return}const q=new Set(it.map(H=>this.f(H,j)));q.delete(-1);const M=Array.from(q).sort();this.d.splice(j+1,0,...M.map(H=>this.d[H]));for(let H=M.length-1;H>=0;H--)this.d.splice(M[H],1)}toArray(){return this.d.map(X=>X.pattern)}f(X,it=this.d.length){const j=n(X);for(let q=0;q<it;q++)if(this.d[q].matches(j))return q;return-1}}t.$qI=u;function h(y,X,it,j=(q,M)=>q===M){const q=[];function M(J,K,W){if(K===0&&W.length===0)return;const L=q[q.length-1];L&&L.start+L.deleteCount===J?(L.deleteCount+=K,L.toInsert.push(...W)):q.push({start:J,deleteCount:K,toInsert:W})}let H=0,Y=0;for(;;){if(H===y.length){M(H,0,X.slice(Y));break}if(Y===X.length){M(H,y.length-H,[]);break}const J=y[H],K=X[Y];if(j(J,K)){H+=1,Y+=1;continue}it(K)?(M(H,1,[]),H+=1):(M(H,0,[K]),Y+=1)}return q}t.$rI=h,t.$sI=new g.$8i("notebookEditorCursorAtBoundary","none"),t.$tI=new g.$8i("notebookEditorCursorAtLineBoundary","none");var b;(function(y){y.default="default",y.option="option"})(b||(t.NotebookEditorPriority=b={}));function I(y){const X=y;return!!((typeof X.include=="string"||F.$yj(X.include))&&(typeof X.exclude=="string"||F.$yj(X.exclude)))}t.$uI=I;function O(y,X,it){if(Array.isArray(y.viewType)&&y.viewType.indexOf(X)>=0||y.viewType===X)return!0;if(y.filenamePattern){const j=I(y.filenamePattern)?y.filenamePattern.include:y.filenamePattern,q=I(y.filenamePattern)?y.filenamePattern.exclude:void 0;if(F.$wj(j,(0,G.$nc)(it.fsPath).toLowerCase()))return!(q&&F.$wj(q,(0,G.$nc)(it.fsPath).toLowerCase()))}return!1}t.$vI=O,t.$wI={displayOrder:"notebook.displayOrder",cellToolbarLocation:"notebook.cellToolbarLocation",cellToolbarVisibility:"notebook.cellToolbarVisibility",showCellStatusBar:"notebook.showCellStatusBar",textDiffEditorPreview:"notebook.diff.enablePreview",diffOverviewRuler:"notebook.diff.overviewRuler",experimentalInsertToolbarAlignment:"notebook.experimental.insertToolbarAlignment",compactView:"notebook.compactView",focusIndicator:"notebook.cellFocusIndicator",insertToolbarLocation:"notebook.insertToolbarLocation",globalToolbar:"notebook.globalToolbar",stickyScroll:"notebook.stickyScroll.enabled",undoRedoPerCell:"notebook.undoRedoPerCell",consolidatedOutputButton:"notebook.consolidatedOutputButton",showFoldingControls:"notebook.showFoldingControls",dragAndDropEnabled:"notebook.dragAndDropEnabled",cellEditorOptionsCustomizations:"notebook.editorOptionsCustomizations",consolidatedRunButton:"notebook.consolidatedRunButton",openGettingStarted:"notebook.experimental.openGettingStarted",globalToolbarShowLabel:"notebook.globalToolbarShowLabel",markupFontSize:"notebook.markup.fontSize",interactiveWindowCollapseCodeCells:"interactiveWindow.collapseCellInputCode",outputScrollingDeprecated:"notebook.experimental.outputScrolling",outputScrolling:"notebook.output.scrolling",textOutputLineLimit:"notebook.output.textLineLimit",formatOnSave:"notebook.formatOnSave.enabled",formatOnCellExecution:"notebook.formatOnCellExecution",codeActionsOnSave:"notebook.codeActionsOnSave",outputWordWrap:"notebook.output.wordWrap",outputLineHeightDeprecated:"notebook.outputLineHeight",outputLineHeight:"notebook.output.lineHeight",outputFontSizeDeprecated:"notebook.outputFontSize",outputFontSize:"notebook.output.fontSize",outputFontFamilyDeprecated:"notebook.outputFontFamily",outputFontFamily:"notebook.output.fontFamily",findScope:"notebook.find.scope",logging:"notebook.logging",confirmDeleteRunningCell:"notebook.confirmDeleteRunningCell",remoteSaving:"notebook.experimental.remoteSave",gotoSymbolsAllSymbols:"notebook.gotoSymbols.showAllSymbols",scrollToRevealCell:"notebook.scrolling.revealNextCellOnExecute",anchorToFocusedCell:"notebook.scrolling.experimental.anchorToFocusedCell"};var A;(function(y){y[y.Left=1]="Left",y[y.Right=2]="Right"})(A||(t.CellStatusbarAlignment=A={}));class f{static{this.d="notebook/"}static create(X){return`${f.d}${X}`}static parse(X){if(X.startsWith(f.d))return X.substring(f.d.length)}}t.$xI=f;function C(y){return["application/vnd.code.notebook.stdout","application/vnd.code.notebook.stderr"].includes(y)}t.$yI=C;const N=new TextDecoder;function U(y){const X=[];let it=!1;for(const H of y)(X.length===0||it)&&(X.push(H),it=!0);let j=z(X);const q=T.$ce.concat(X.map(H=>T.$ce.wrap(H))),M=tt(q);return j=j||M.byteLength!==q.byteLength,{data:M,didCompression:j}}t.$zI=U,t.$AI=`${String.fromCharCode(27)}[A`;const B=t.$AI.split("").map(y=>y.charCodeAt(0)),w=10;function z(y){let X=!1;return y.forEach((it,j)=>{if(j===0||it.length<t.$AI.length)return;const q=y[j-1],M=it.subarray(0,t.$AI.length);if(M[0]===B[0]&&M[1]===B[1]&&M[2]===B[2]){const H=q.lastIndexOf(w);if(H===-1)return;X=!0,y[j-1]=q.subarray(0,H),y[j]=it.subarray(t.$AI.length)}}),X}function Z(y){let X=y;do y=X,X=y.replace(/[^\n]\x08/gm,"");while(X.length<y.length);return y}function _(y){for(y=y.replace(/\r+\n/gm,`
`);y.search(/\r[^$]/g)>-1;){const X=y.match(/^(.*)\r+/m)[1];let it=y.match(/\r+(.*)$/m)[1];it=it+X.slice(it.length,X.length),y=y.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,it)}return y}const x="\b".charCodeAt(0),et="\r".charCodeAt(0);function tt(y){return!y.buffer.includes(x)&&!y.buffer.includes(et)?y:T.$ce.fromString(_(Z(N.decode(y.buffer))))}}),define(rt[43],lt([0,1,44,45,12,27,35,9,18]),function(st,t,T,F,D,P,V,G,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.NotebookEditorSimpleWorker=void 0;function g(d){let c=(0,F.$Gi)(104579,0);for(let o=0;o<d.buffer.length;o++)c=(0,F.$Fi)(d.buffer[o],c);return c}class p{get textBuffer(){if(this.a)return this.a;const c=new P.$KB;c.acceptChunk(Array.isArray(this.d)?this.d.join(`
`):this.d);const o=c.finish(!0);return this.a=o.create(1).textBuffer,this.a}primaryKey(){return this.b===void 0&&(this.b=(0,F.$Ei)(this.getValue())),this.b}constructor(c,o,e,r,n,u,h){this.handle=c,this.d=o,this.language=e,this.cellKind=r,this.outputs=n,this.metadata=u,this.internalMetadata=h,this.b=null,this.c=null}getFullModelRange(){const c=this.textBuffer.getLineCount();return new G.$xs(1,1,c,this.textBuffer.getLineLength(c)+1)}getValue(){const c=this.getFullModelRange();return this.textBuffer.getValueInRange(c,1)}getComparisonValue(){return this.b!==null?this.b:(this.c=(0,F.$Ei)([(0,F.$Ei)(this.language),(0,F.$Ei)(this.getValue()),this.metadata,this.internalMetadata,this.outputs.map(c=>({outputs:c.outputs.map(o=>({mime:o.mime,data:g(o.data)})),metadata:c.metadata}))]),this.c)}getHashValue(){return this.c!==null?this.c:(this.c=(0,F.$Ei)([(0,F.$Ei)(this.getValue()),this.language,this.metadata,this.internalMetadata]),this.c)}}class R{constructor(c,o,e){this.uri=c,this.cells=o,this.metadata=e}acceptModelChanged(c){c.rawEvents.forEach(o=>{if(o.kind===V.NotebookCellsChangeType.ModelChange)this._spliceNotebookCells(o.changes);else if(o.kind===V.NotebookCellsChangeType.Move){const e=this.cells.splice(o.index,1);this.cells.splice(o.newIdx,0,...e)}else if(o.kind===V.NotebookCellsChangeType.Output){const e=this.cells[o.index];e.outputs=o.outputs}else if(o.kind===V.NotebookCellsChangeType.ChangeCellLanguage){this.a(o.index);const e=this.cells[o.index];e.language=o.language}else if(o.kind===V.NotebookCellsChangeType.ChangeCellMetadata){this.a(o.index);const e=this.cells[o.index];e.metadata=o.metadata}else if(o.kind===V.NotebookCellsChangeType.ChangeCellInternalMetadata){this.a(o.index);const e=this.cells[o.index];e.internalMetadata=o.internalMetadata}})}a(c){if(c<0||c>=this.cells.length)throw new Error(`Illegal index ${c}. Cells length: ${this.cells.length}`)}_spliceNotebookCells(c){c.reverse().forEach(o=>{const r=o[2].map(n=>new p(n.handle,n.source,n.language,n.cellKind,n.outputs,n.metadata));this.cells.splice(o[0],o[1],...r)})}}class m{constructor(c){this.textModel=c}getElements(){const c=new Int32Array(this.textModel.cells.length);for(let o=0;o<this.textModel.cells.length;o++)c[o]=this.textModel.cells[o].getComparisonValue();return c}getCellHash(c){const o=Array.isArray(c.source)?c.source.join(`
`):c.source;return(0,F.$Ei)([(0,F.$Ei)(o),c.metadata])}}class k{constructor(){this.a=Object.create(null)}dispose(){}acceptNewModel(c,o){this.a[c]=new R(D.URI.parse(c),o.cells.map(e=>new p(e.handle,e.source,e.language,e.cellKind,e.outputs,e.metadata)),o.metadata)}acceptModelChanged(c,o){this.a[c]?.acceptModelChanged(o)}acceptRemovedModel(c){this.a[c]&&delete this.a[c]}computeDiff(c,o){const e=this.b(c),r=this.b(o);return{cellsDiff:new T.$Ds(new m(e),new m(r)).ComputeDiff(!1)}}canPromptRecommendation(c){const e=this.b(c).cells;for(let r=0;r<e.length;r++){const n=e[r];if(n.cellKind===V.CellKind.Markup||n.language!=="python")continue;const u=n.textBuffer.getLineCount(),h=Math.min(u,20),b=new G.$xs(1,1,h,n.textBuffer.getLineLength(h)+1),O=new E.$yB("import\\s*pandas|from\\s*pandas",!0,!1,null).parseSearchRequest();if(!O)continue;if(n.textBuffer.findMatchesLineByLine(b,O,!0,1).length>0)return!0}return!1}b(c){return this.a[c]}}t.NotebookEditorSimpleWorker=k;function $(d){return new k}t.create=$})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/d037ac076cee195194f93ce6fe2bdfe2969cc82d/core/vs/workbench/contrib/notebook/common/services/notebookSimpleWorker.js.map
